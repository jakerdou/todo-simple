function yx(n,e){for(var t=0;t<e.length;t++){const i=e[t];if(typeof i!="string"&&!Array.isArray(i)){for(const a in i)if(a!=="default"&&!(a in n)){const l=Object.getOwnPropertyDescriptor(i,a);l&&Object.defineProperty(n,a,l.get?l:{enumerable:!0,get:()=>i[a]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function t(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(a){if(a.ep)return;a.ep=!0;const l=t(a);fetch(a.href,l)}})();function vx(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var eg={exports:{}},zu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aE;function _x(){if(aE)return zu;aE=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(i,a,l){var c=null;if(l!==void 0&&(c=""+l),a.key!==void 0&&(c=""+a.key),"key"in a){l={};for(var h in a)h!=="key"&&(l[h]=a[h])}else l=a;return a=l.ref,{$$typeof:n,type:i,key:c,ref:a!==void 0?a:null,props:l}}return zu.Fragment=e,zu.jsx=t,zu.jsxs=t,zu}var oE;function bx(){return oE||(oE=1,eg.exports=_x()),eg.exports}var P=bx(),tg={exports:{}},Me={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lE;function Ex(){if(lE)return Me;lE=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),_=Symbol.iterator;function b(L){return L===null||typeof L!="object"?null:(L=_&&L[_]||L["@@iterator"],typeof L=="function"?L:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},R=Object.assign,C={};function D(L,re,fe){this.props=L,this.context=re,this.refs=C,this.updater=fe||w}D.prototype.isReactComponent={},D.prototype.setState=function(L,re){if(typeof L!="object"&&typeof L!="function"&&L!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,L,re,"setState")},D.prototype.forceUpdate=function(L){this.updater.enqueueForceUpdate(this,L,"forceUpdate")};function B(){}B.prototype=D.prototype;function F(L,re,fe){this.props=L,this.context=re,this.refs=C,this.updater=fe||w}var q=F.prototype=new B;q.constructor=F,R(q,D.prototype),q.isPureReactComponent=!0;var H=Array.isArray,K={H:null,A:null,T:null,S:null,V:null},ee=Object.prototype.hasOwnProperty;function N(L,re,fe,te,ve,Oe){return fe=Oe.ref,{$$typeof:n,type:L,key:re,ref:fe!==void 0?fe:null,props:Oe}}function x(L,re){return N(L.type,re,void 0,void 0,void 0,L.props)}function O(L){return typeof L=="object"&&L!==null&&L.$$typeof===n}function M(L){var re={"=":"=0",":":"=2"};return"$"+L.replace(/[=:]/g,function(fe){return re[fe]})}var V=/\/+/g;function z(L,re){return typeof L=="object"&&L!==null&&L.key!=null?M(""+L.key):re.toString(36)}function k(){}function ke(L){switch(L.status){case"fulfilled":return L.value;case"rejected":throw L.reason;default:switch(typeof L.status=="string"?L.then(k,k):(L.status="pending",L.then(function(re){L.status==="pending"&&(L.status="fulfilled",L.value=re)},function(re){L.status==="pending"&&(L.status="rejected",L.reason=re)})),L.status){case"fulfilled":return L.value;case"rejected":throw L.reason}}throw L}function De(L,re,fe,te,ve){var Oe=typeof L;(Oe==="undefined"||Oe==="boolean")&&(L=null);var Re=!1;if(L===null)Re=!0;else switch(Oe){case"bigint":case"string":case"number":Re=!0;break;case"object":switch(L.$$typeof){case n:case e:Re=!0;break;case y:return Re=L._init,De(Re(L._payload),re,fe,te,ve)}}if(Re)return ve=ve(L),Re=te===""?"."+z(L,0):te,H(ve)?(fe="",Re!=null&&(fe=Re.replace(V,"$&/")+"/"),De(ve,re,fe,"",function(an){return an})):ve!=null&&(O(ve)&&(ve=x(ve,fe+(ve.key==null||L&&L.key===ve.key?"":(""+ve.key).replace(V,"$&/")+"/")+Re)),re.push(ve)),1;Re=0;var gt=te===""?".":te+":";if(H(L))for(var Qe=0;Qe<L.length;Qe++)te=L[Qe],Oe=gt+z(te,Qe),Re+=De(te,re,fe,Oe,ve);else if(Qe=b(L),typeof Qe=="function")for(L=Qe.call(L),Qe=0;!(te=L.next()).done;)te=te.value,Oe=gt+z(te,Qe++),Re+=De(te,re,fe,Oe,ve);else if(Oe==="object"){if(typeof L.then=="function")return De(ke(L),re,fe,te,ve);throw re=String(L),Error("Objects are not valid as a React child (found: "+(re==="[object Object]"?"object with keys {"+Object.keys(L).join(", ")+"}":re)+"). If you meant to render a collection of children, use an array instead.")}return Re}function Z(L,re,fe){if(L==null)return L;var te=[],ve=0;return De(L,te,"","",function(Oe){return re.call(fe,Oe,ve++)}),te}function ue(L){if(L._status===-1){var re=L._result;re=re(),re.then(function(fe){(L._status===0||L._status===-1)&&(L._status=1,L._result=fe)},function(fe){(L._status===0||L._status===-1)&&(L._status=2,L._result=fe)}),L._status===-1&&(L._status=0,L._result=re)}if(L._status===1)return L._result.default;throw L._result}var ce=typeof reportError=="function"?reportError:function(L){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var re=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof L=="object"&&L!==null&&typeof L.message=="string"?String(L.message):String(L),error:L});if(!window.dispatchEvent(re))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",L);return}console.error(L)};function le(){}return Me.Children={map:Z,forEach:function(L,re,fe){Z(L,function(){re.apply(this,arguments)},fe)},count:function(L){var re=0;return Z(L,function(){re++}),re},toArray:function(L){return Z(L,function(re){return re})||[]},only:function(L){if(!O(L))throw Error("React.Children.only expected to receive a single React element child.");return L}},Me.Component=D,Me.Fragment=t,Me.Profiler=a,Me.PureComponent=F,Me.StrictMode=i,Me.Suspense=m,Me.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=K,Me.__COMPILER_RUNTIME={__proto__:null,c:function(L){return K.H.useMemoCache(L)}},Me.cache=function(L){return function(){return L.apply(null,arguments)}},Me.cloneElement=function(L,re,fe){if(L==null)throw Error("The argument must be a React element, but you passed "+L+".");var te=R({},L.props),ve=L.key,Oe=void 0;if(re!=null)for(Re in re.ref!==void 0&&(Oe=void 0),re.key!==void 0&&(ve=""+re.key),re)!ee.call(re,Re)||Re==="key"||Re==="__self"||Re==="__source"||Re==="ref"&&re.ref===void 0||(te[Re]=re[Re]);var Re=arguments.length-2;if(Re===1)te.children=fe;else if(1<Re){for(var gt=Array(Re),Qe=0;Qe<Re;Qe++)gt[Qe]=arguments[Qe+2];te.children=gt}return N(L.type,ve,void 0,void 0,Oe,te)},Me.createContext=function(L){return L={$$typeof:c,_currentValue:L,_currentValue2:L,_threadCount:0,Provider:null,Consumer:null},L.Provider=L,L.Consumer={$$typeof:l,_context:L},L},Me.createElement=function(L,re,fe){var te,ve={},Oe=null;if(re!=null)for(te in re.key!==void 0&&(Oe=""+re.key),re)ee.call(re,te)&&te!=="key"&&te!=="__self"&&te!=="__source"&&(ve[te]=re[te]);var Re=arguments.length-2;if(Re===1)ve.children=fe;else if(1<Re){for(var gt=Array(Re),Qe=0;Qe<Re;Qe++)gt[Qe]=arguments[Qe+2];ve.children=gt}if(L&&L.defaultProps)for(te in Re=L.defaultProps,Re)ve[te]===void 0&&(ve[te]=Re[te]);return N(L,Oe,void 0,void 0,null,ve)},Me.createRef=function(){return{current:null}},Me.forwardRef=function(L){return{$$typeof:h,render:L}},Me.isValidElement=O,Me.lazy=function(L){return{$$typeof:y,_payload:{_status:-1,_result:L},_init:ue}},Me.memo=function(L,re){return{$$typeof:p,type:L,compare:re===void 0?null:re}},Me.startTransition=function(L){var re=K.T,fe={};K.T=fe;try{var te=L(),ve=K.S;ve!==null&&ve(fe,te),typeof te=="object"&&te!==null&&typeof te.then=="function"&&te.then(le,ce)}catch(Oe){ce(Oe)}finally{K.T=re}},Me.unstable_useCacheRefresh=function(){return K.H.useCacheRefresh()},Me.use=function(L){return K.H.use(L)},Me.useActionState=function(L,re,fe){return K.H.useActionState(L,re,fe)},Me.useCallback=function(L,re){return K.H.useCallback(L,re)},Me.useContext=function(L){return K.H.useContext(L)},Me.useDebugValue=function(){},Me.useDeferredValue=function(L,re){return K.H.useDeferredValue(L,re)},Me.useEffect=function(L,re,fe){var te=K.H;if(typeof fe=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return te.useEffect(L,re)},Me.useId=function(){return K.H.useId()},Me.useImperativeHandle=function(L,re,fe){return K.H.useImperativeHandle(L,re,fe)},Me.useInsertionEffect=function(L,re){return K.H.useInsertionEffect(L,re)},Me.useLayoutEffect=function(L,re){return K.H.useLayoutEffect(L,re)},Me.useMemo=function(L,re){return K.H.useMemo(L,re)},Me.useOptimistic=function(L,re){return K.H.useOptimistic(L,re)},Me.useReducer=function(L,re,fe){return K.H.useReducer(L,re,fe)},Me.useRef=function(L){return K.H.useRef(L)},Me.useState=function(L){return K.H.useState(L)},Me.useSyncExternalStore=function(L,re,fe){return K.H.useSyncExternalStore(L,re,fe)},Me.useTransition=function(){return K.H.useTransition()},Me.version="19.1.0",Me}var uE;function pd(){return uE||(uE=1,tg.exports=Ex()),tg.exports}var A=pd();const Ee=vx(A),kg=yx({__proto__:null,default:Ee},[A]);var ng={exports:{}},Bu={},rg={exports:{}},ig={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cE;function Tx(){return cE||(cE=1,function(n){function e(Z,ue){var ce=Z.length;Z.push(ue);e:for(;0<ce;){var le=ce-1>>>1,L=Z[le];if(0<a(L,ue))Z[le]=ue,Z[ce]=L,ce=le;else break e}}function t(Z){return Z.length===0?null:Z[0]}function i(Z){if(Z.length===0)return null;var ue=Z[0],ce=Z.pop();if(ce!==ue){Z[0]=ce;e:for(var le=0,L=Z.length,re=L>>>1;le<re;){var fe=2*(le+1)-1,te=Z[fe],ve=fe+1,Oe=Z[ve];if(0>a(te,ce))ve<L&&0>a(Oe,te)?(Z[le]=Oe,Z[ve]=ce,le=ve):(Z[le]=te,Z[fe]=ce,le=fe);else if(ve<L&&0>a(Oe,ce))Z[le]=Oe,Z[ve]=ce,le=ve;else break e}}return ue}function a(Z,ue){var ce=Z.sortIndex-ue.sortIndex;return ce!==0?ce:Z.id-ue.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;n.unstable_now=function(){return l.now()}}else{var c=Date,h=c.now();n.unstable_now=function(){return c.now()-h}}var m=[],p=[],y=1,_=null,b=3,w=!1,R=!1,C=!1,D=!1,B=typeof setTimeout=="function"?setTimeout:null,F=typeof clearTimeout=="function"?clearTimeout:null,q=typeof setImmediate<"u"?setImmediate:null;function H(Z){for(var ue=t(p);ue!==null;){if(ue.callback===null)i(p);else if(ue.startTime<=Z)i(p),ue.sortIndex=ue.expirationTime,e(m,ue);else break;ue=t(p)}}function K(Z){if(C=!1,H(Z),!R)if(t(m)!==null)R=!0,ee||(ee=!0,z());else{var ue=t(p);ue!==null&&De(K,ue.startTime-Z)}}var ee=!1,N=-1,x=5,O=-1;function M(){return D?!0:!(n.unstable_now()-O<x)}function V(){if(D=!1,ee){var Z=n.unstable_now();O=Z;var ue=!0;try{e:{R=!1,C&&(C=!1,F(N),N=-1),w=!0;var ce=b;try{t:{for(H(Z),_=t(m);_!==null&&!(_.expirationTime>Z&&M());){var le=_.callback;if(typeof le=="function"){_.callback=null,b=_.priorityLevel;var L=le(_.expirationTime<=Z);if(Z=n.unstable_now(),typeof L=="function"){_.callback=L,H(Z),ue=!0;break t}_===t(m)&&i(m),H(Z)}else i(m);_=t(m)}if(_!==null)ue=!0;else{var re=t(p);re!==null&&De(K,re.startTime-Z),ue=!1}}break e}finally{_=null,b=ce,w=!1}ue=void 0}}finally{ue?z():ee=!1}}}var z;if(typeof q=="function")z=function(){q(V)};else if(typeof MessageChannel<"u"){var k=new MessageChannel,ke=k.port2;k.port1.onmessage=V,z=function(){ke.postMessage(null)}}else z=function(){B(V,0)};function De(Z,ue){N=B(function(){Z(n.unstable_now())},ue)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(Z){Z.callback=null},n.unstable_forceFrameRate=function(Z){0>Z||125<Z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<Z?Math.floor(1e3/Z):5},n.unstable_getCurrentPriorityLevel=function(){return b},n.unstable_next=function(Z){switch(b){case 1:case 2:case 3:var ue=3;break;default:ue=b}var ce=b;b=ue;try{return Z()}finally{b=ce}},n.unstable_requestPaint=function(){D=!0},n.unstable_runWithPriority=function(Z,ue){switch(Z){case 1:case 2:case 3:case 4:case 5:break;default:Z=3}var ce=b;b=Z;try{return ue()}finally{b=ce}},n.unstable_scheduleCallback=function(Z,ue,ce){var le=n.unstable_now();switch(typeof ce=="object"&&ce!==null?(ce=ce.delay,ce=typeof ce=="number"&&0<ce?le+ce:le):ce=le,Z){case 1:var L=-1;break;case 2:L=250;break;case 5:L=1073741823;break;case 4:L=1e4;break;default:L=5e3}return L=ce+L,Z={id:y++,callback:ue,priorityLevel:Z,startTime:ce,expirationTime:L,sortIndex:-1},ce>le?(Z.sortIndex=ce,e(p,Z),t(m)===null&&Z===t(p)&&(C?(F(N),N=-1):C=!0,De(K,ce-le))):(Z.sortIndex=L,e(m,Z),R||w||(R=!0,ee||(ee=!0,z()))),Z},n.unstable_shouldYield=M,n.unstable_wrapCallback=function(Z){var ue=b;return function(){var ce=b;b=ue;try{return Z.apply(this,arguments)}finally{b=ce}}}}(ig)),ig}var fE;function wx(){return fE||(fE=1,rg.exports=Tx()),rg.exports}var sg={exports:{}},un={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hE;function Sx(){if(hE)return un;hE=1;var n=pd();function e(m){var p="https://react.dev/errors/"+m;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)p+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+m+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var i={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(m,p,y){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:_==null?null:""+_,children:m,containerInfo:p,implementation:y}}var c=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(m,p){if(m==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return un.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,un.createPortal=function(m,p){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return l(m,p,null,y)},un.flushSync=function(m){var p=c.T,y=i.p;try{if(c.T=null,i.p=2,m)return m()}finally{c.T=p,i.p=y,i.d.f()}},un.preconnect=function(m,p){typeof m=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,i.d.C(m,p))},un.prefetchDNS=function(m){typeof m=="string"&&i.d.D(m)},un.preinit=function(m,p){if(typeof m=="string"&&p&&typeof p.as=="string"){var y=p.as,_=h(y,p.crossOrigin),b=typeof p.integrity=="string"?p.integrity:void 0,w=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;y==="style"?i.d.S(m,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:_,integrity:b,fetchPriority:w}):y==="script"&&i.d.X(m,{crossOrigin:_,integrity:b,fetchPriority:w,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},un.preinitModule=function(m,p){if(typeof m=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var y=h(p.as,p.crossOrigin);i.d.M(m,{crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&i.d.M(m)},un.preload=function(m,p){if(typeof m=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var y=p.as,_=h(y,p.crossOrigin);i.d.L(m,y,{crossOrigin:_,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},un.preloadModule=function(m,p){if(typeof m=="string")if(p){var y=h(p.as,p.crossOrigin);i.d.m(m,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else i.d.m(m)},un.requestFormReset=function(m){i.d.r(m)},un.unstable_batchedUpdates=function(m,p){return m(p)},un.useFormState=function(m,p,y){return c.H.useFormState(m,p,y)},un.useFormStatus=function(){return c.H.useHostTransitionStatus()},un.version="19.1.0",un}var dE;function qw(){if(dE)return sg.exports;dE=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),sg.exports=Sx(),sg.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mE;function Ax(){if(mE)return Bu;mE=1;var n=wx(),e=pd(),t=qw();function i(r){var s="https://react.dev/errors/"+r;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)s+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function l(r){var s=r,o=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,(s.flags&4098)!==0&&(o=s.return),r=s.return;while(r)}return s.tag===3?o:null}function c(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function h(r){if(l(r)!==r)throw Error(i(188))}function m(r){var s=r.alternate;if(!s){if(s=l(r),s===null)throw Error(i(188));return s!==r?null:r}for(var o=r,u=s;;){var d=o.return;if(d===null)break;var g=d.alternate;if(g===null){if(u=d.return,u!==null){o=u;continue}break}if(d.child===g.child){for(g=d.child;g;){if(g===o)return h(d),r;if(g===u)return h(d),s;g=g.sibling}throw Error(i(188))}if(o.return!==u.return)o=d,u=g;else{for(var T=!1,S=d.child;S;){if(S===o){T=!0,o=d,u=g;break}if(S===u){T=!0,u=d,o=g;break}S=S.sibling}if(!T){for(S=g.child;S;){if(S===o){T=!0,o=g,u=d;break}if(S===u){T=!0,u=g,o=d;break}S=S.sibling}if(!T)throw Error(i(189))}}if(o.alternate!==u)throw Error(i(190))}if(o.tag!==3)throw Error(i(188));return o.stateNode.current===o?r:s}function p(r){var s=r.tag;if(s===5||s===26||s===27||s===6)return r;for(r=r.child;r!==null;){if(s=p(r),s!==null)return s;r=r.sibling}return null}var y=Object.assign,_=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),w=Symbol.for("react.portal"),R=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),D=Symbol.for("react.profiler"),B=Symbol.for("react.provider"),F=Symbol.for("react.consumer"),q=Symbol.for("react.context"),H=Symbol.for("react.forward_ref"),K=Symbol.for("react.suspense"),ee=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),O=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function z(r){return r===null||typeof r!="object"?null:(r=V&&r[V]||r["@@iterator"],typeof r=="function"?r:null)}var k=Symbol.for("react.client.reference");function ke(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===k?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case R:return"Fragment";case D:return"Profiler";case C:return"StrictMode";case K:return"Suspense";case ee:return"SuspenseList";case O:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case w:return"Portal";case q:return(r.displayName||"Context")+".Provider";case F:return(r._context.displayName||"Context")+".Consumer";case H:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case N:return s=r.displayName||null,s!==null?s:ke(r.type)||"Memo";case x:s=r._payload,r=r._init;try{return ke(r(s))}catch{}}return null}var De=Array.isArray,Z=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ue=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ce={pending:!1,data:null,method:null,action:null},le=[],L=-1;function re(r){return{current:r}}function fe(r){0>L||(r.current=le[L],le[L]=null,L--)}function te(r,s){L++,le[L]=r.current,r.current=s}var ve=re(null),Oe=re(null),Re=re(null),gt=re(null);function Qe(r,s){switch(te(Re,s),te(Oe,r),te(ve,null),s.nodeType){case 9:case 11:r=(r=s.documentElement)&&(r=r.namespaceURI)?kb(r):0;break;default:if(r=s.tagName,s=s.namespaceURI)s=kb(s),r=Pb(s,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}fe(ve),te(ve,r)}function an(){fe(ve),fe(Oe),fe(Re)}function ji(r){r.memoizedState!==null&&te(gt,r);var s=ve.current,o=Pb(s,r.type);s!==o&&(te(Oe,r),te(ve,o))}function ni(r){Oe.current===r&&(fe(ve),fe(Oe)),gt.current===r&&(fe(gt),Lu._currentValue=ce)}var qs=Object.prototype.hasOwnProperty,Ys=n.unstable_scheduleCallback,Gs=n.unstable_cancelCallback,Ml=n.unstable_shouldYield,Yc=n.unstable_requestPaint,Yn=n.unstable_now,em=n.unstable_getCurrentPriorityLevel,kl=n.unstable_ImmediatePriority,Ja=n.unstable_UserBlockingPriority,Ks=n.unstable_NormalPriority,tm=n.unstable_LowPriority,eo=n.unstable_IdlePriority,Pl=n.log,Gc=n.unstable_setDisableYieldValue,yt=null,Je=null;function Nn(r){if(typeof Pl=="function"&&Gc(r),Je&&typeof Je.setStrictMode=="function")try{Je.setStrictMode(yt,r)}catch{}}var on=Math.clz32?Math.clz32:Qs,Kc=Math.log,nm=Math.LN2;function Qs(r){return r>>>=0,r===0?32:31-(Kc(r)/nm|0)|0}var Ws=256,Xs=4194304;function ur(r){var s=r&42;if(s!==0)return s;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function to(r,s,o){var u=r.pendingLanes;if(u===0)return 0;var d=0,g=r.suspendedLanes,T=r.pingedLanes;r=r.warmLanes;var S=u&134217727;return S!==0?(u=S&~g,u!==0?d=ur(u):(T&=S,T!==0?d=ur(T):o||(o=S&~r,o!==0&&(d=ur(o))))):(S=u&~g,S!==0?d=ur(S):T!==0?d=ur(T):o||(o=u&~r,o!==0&&(d=ur(o)))),d===0?0:s!==0&&s!==d&&(s&g)===0&&(g=d&-d,o=s&-s,g>=o||g===32&&(o&4194048)!==0)?s:d}function Zs(r,s){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&s)===0}function Ll(r,s){switch(r){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Vl(){var r=Ws;return Ws<<=1,(Ws&4194048)===0&&(Ws=256),r}function Ul(){var r=Xs;return Xs<<=1,(Xs&62914560)===0&&(Xs=4194304),r}function ri(r){for(var s=[],o=0;31>o;o++)s.push(r);return s}function ii(r,s){r.pendingLanes|=s,s!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function jl(r,s,o,u,d,g){var T=r.pendingLanes;r.pendingLanes=o,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=o,r.entangledLanes&=o,r.errorRecoveryDisabledLanes&=o,r.shellSuspendCounter=0;var S=r.entanglements,U=r.expirationTimes,Q=r.hiddenUpdates;for(o=T&~o;0<o;){var ne=31-on(o),se=1<<ne;S[ne]=0,U[ne]=-1;var W=Q[ne];if(W!==null)for(Q[ne]=null,ne=0;ne<W.length;ne++){var X=W[ne];X!==null&&(X.lane&=-536870913)}o&=~se}u!==0&&Sr(r,u,0),g!==0&&d===0&&r.tag!==0&&(r.suspendedLanes|=g&~(T&~s))}function Sr(r,s,o){r.pendingLanes|=s,r.suspendedLanes&=~s;var u=31-on(s);r.entangledLanes|=s,r.entanglements[u]=r.entanglements[u]|1073741824|o&4194090}function Fl(r,s){var o=r.entangledLanes|=s;for(r=r.entanglements;o;){var u=31-on(o),d=1<<u;d&s|r[u]&s&&(r[u]|=s),o&=~d}}function Fi(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function no(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function zi(){var r=ue.p;return r!==0?r:(r=window.event,r===void 0?32:eE(r.type))}function Qc(r,s){var o=ue.p;try{return ue.p=r,s()}finally{ue.p=o}}var ht=Math.random().toString(36).slice(2),Pt="__reactFiber$"+ht,Rt="__reactProps$"+ht,Gn="__reactContainer$"+ht,zl="__reactEvents$"+ht,rm="__reactListeners$"+ht,Bi="__reactHandles$"+ht,Wc="__reactResources$"+ht,Js="__reactMarker$"+ht;function $i(r){delete r[Pt],delete r[Rt],delete r[zl],delete r[rm],delete r[Bi]}function si(r){var s=r[Pt];if(s)return s;for(var o=r.parentNode;o;){if(s=o[Gn]||o[Pt]){if(o=s.alternate,s.child!==null||o!==null&&o.child!==null)for(r=jb(r);r!==null;){if(o=r[Pt])return o;r=jb(r)}return s}r=o,o=r.parentNode}return null}function Ar(r){if(r=r[Pt]||r[Gn]){var s=r.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return r}return null}function Rr(r){var s=r.tag;if(s===5||s===26||s===27||s===6)return r.stateNode;throw Error(i(33))}function yn(r){var s=r[Wc];return s||(s=r[Wc]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function Et(r){r[Js]=!0}var Bl=new Set,ro={};function cr(r,s){ai(r,s),ai(r+"Capture",s)}function ai(r,s){for(ro[r]=s,r=0;r<s.length;r++)Bl.add(s[r])}var Xc=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Zc={},ea={};function Jc(r){return qs.call(ea,r)?!0:qs.call(Zc,r)?!1:Xc.test(r)?ea[r]=!0:(Zc[r]=!0,!1)}function Hi(r,s,o){if(Jc(s))if(o===null)r.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":r.removeAttribute(s);return;case"boolean":var u=s.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){r.removeAttribute(s);return}}r.setAttribute(s,""+o)}}function Ir(r,s,o){if(o===null)r.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(s);return}r.setAttribute(s,""+o)}}function Wt(r,s,o,u){if(u===null)r.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(o);return}r.setAttributeNS(s,o,""+u)}}var ta,ef;function oi(r){if(ta===void 0)try{throw Error()}catch(o){var s=o.stack.trim().match(/\n( *(at )?)/);ta=s&&s[1]||"",ef=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ta+r+ef}var io=!1;function so(r,s){if(!r||io)return"";io=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(s){var se=function(){throw Error()};if(Object.defineProperty(se.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(se,[])}catch(X){var W=X}Reflect.construct(r,[],se)}else{try{se.call()}catch(X){W=X}r.call(se.prototype)}}else{try{throw Error()}catch(X){W=X}(se=r())&&typeof se.catch=="function"&&se.catch(function(){})}}catch(X){if(X&&W&&typeof X.stack=="string")return[X.stack,W.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=u.DetermineComponentFrameRoot(),T=g[0],S=g[1];if(T&&S){var U=T.split(`
`),Q=S.split(`
`);for(d=u=0;u<U.length&&!U[u].includes("DetermineComponentFrameRoot");)u++;for(;d<Q.length&&!Q[d].includes("DetermineComponentFrameRoot");)d++;if(u===U.length||d===Q.length)for(u=U.length-1,d=Q.length-1;1<=u&&0<=d&&U[u]!==Q[d];)d--;for(;1<=u&&0<=d;u--,d--)if(U[u]!==Q[d]){if(u!==1||d!==1)do if(u--,d--,0>d||U[u]!==Q[d]){var ne=`
`+U[u].replace(" at new "," at ");return r.displayName&&ne.includes("<anonymous>")&&(ne=ne.replace("<anonymous>",r.displayName)),ne}while(1<=u&&0<=d);break}}}finally{io=!1,Error.prepareStackTrace=o}return(o=r?r.displayName||r.name:"")?oi(o):""}function $l(r){switch(r.tag){case 26:case 27:case 5:return oi(r.type);case 16:return oi("Lazy");case 13:return oi("Suspense");case 19:return oi("SuspenseList");case 0:case 15:return so(r.type,!1);case 11:return so(r.type.render,!1);case 1:return so(r.type,!0);case 31:return oi("Activity");default:return""}}function ao(r){try{var s="";do s+=$l(r),r=r.return;while(r);return s}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}function vn(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Hl(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function im(r){var s=Hl(r)?"checked":"value",o=Object.getOwnPropertyDescriptor(r.constructor.prototype,s),u=""+r[s];if(!r.hasOwnProperty(s)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var d=o.get,g=o.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return d.call(this)},set:function(T){u=""+T,g.call(this,T)}}),Object.defineProperty(r,s,{enumerable:o.enumerable}),{getValue:function(){return u},setValue:function(T){u=""+T},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function oo(r){r._valueTracker||(r._valueTracker=im(r))}function ql(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var o=s.getValue(),u="";return r&&(u=Hl(r)?r.checked?"true":"false":r.value),r=u,r!==o?(s.setValue(r),!0):!1}function na(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var sm=/[\n"\\]/g;function It(r){return r.replace(sm,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Mn(r,s,o,u,d,g,T,S){r.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?r.type=T:r.removeAttribute("type"),s!=null?T==="number"?(s===0&&r.value===""||r.value!=s)&&(r.value=""+vn(s)):r.value!==""+vn(s)&&(r.value=""+vn(s)):T!=="submit"&&T!=="reset"||r.removeAttribute("value"),s!=null?qi(r,T,vn(s)):o!=null?qi(r,T,vn(o)):u!=null&&r.removeAttribute("value"),d==null&&g!=null&&(r.defaultChecked=!!g),d!=null&&(r.checked=d&&typeof d!="function"&&typeof d!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?r.name=""+vn(S):r.removeAttribute("name")}function ra(r,s,o,u,d,g,T,S){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(r.type=g),s!=null||o!=null){if(!(g!=="submit"&&g!=="reset"||s!=null))return;o=o!=null?""+vn(o):"",s=s!=null?""+vn(s):o,S||s===r.value||(r.value=s),r.defaultValue=s}u=u??d,u=typeof u!="function"&&typeof u!="symbol"&&!!u,r.checked=S?r.checked:!!u,r.defaultChecked=!!u,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(r.name=T)}function qi(r,s,o){s==="number"&&na(r.ownerDocument)===r||r.defaultValue===""+o||(r.defaultValue=""+o)}function li(r,s,o,u){if(r=r.options,s){s={};for(var d=0;d<o.length;d++)s["$"+o[d]]=!0;for(o=0;o<r.length;o++)d=s.hasOwnProperty("$"+r[o].value),r[o].selected!==d&&(r[o].selected=d),d&&u&&(r[o].defaultSelected=!0)}else{for(o=""+vn(o),s=null,d=0;d<r.length;d++){if(r[d].value===o){r[d].selected=!0,u&&(r[d].defaultSelected=!0);return}s!==null||r[d].disabled||(s=r[d])}s!==null&&(s.selected=!0)}}function nt(r,s,o){if(s!=null&&(s=""+vn(s),s!==r.value&&(r.value=s),o==null)){r.defaultValue!==s&&(r.defaultValue=s);return}r.defaultValue=o!=null?""+vn(o):""}function ia(r,s,o,u){if(s==null){if(u!=null){if(o!=null)throw Error(i(92));if(De(u)){if(1<u.length)throw Error(i(93));u=u[0]}o=u}o==null&&(o=""),s=o}o=vn(s),r.defaultValue=o,u=r.textContent,u===o&&u!==""&&u!==null&&(r.value=u)}function Kn(r,s){if(s){var o=r.firstChild;if(o&&o===r.lastChild&&o.nodeType===3){o.nodeValue=s;return}}r.textContent=s}var sa=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function tf(r,s,o){var u=s.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?r.setProperty(s,""):s==="float"?r.cssFloat="":r[s]="":u?r.setProperty(s,o):typeof o!="number"||o===0||sa.has(s)?s==="float"?r.cssFloat=o:r[s]=(""+o).trim():r[s]=o+"px"}function Yl(r,s,o){if(s!=null&&typeof s!="object")throw Error(i(62));if(r=r.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||s!=null&&s.hasOwnProperty(u)||(u.indexOf("--")===0?r.setProperty(u,""):u==="float"?r.cssFloat="":r[u]="");for(var d in s)u=s[d],s.hasOwnProperty(d)&&o[d]!==u&&tf(r,d,u)}else for(var g in s)s.hasOwnProperty(g)&&tf(r,g,s[g])}function Gl(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var am=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),om=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function lo(r){return om.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}var ui=null;function Qn(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var ci=null,fi=null;function Kl(r){var s=Ar(r);if(s&&(r=s.stateNode)){var o=r[Rt]||null;e:switch(r=s.stateNode,s.type){case"input":if(Mn(r,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),s=o.name,o.type==="radio"&&s!=null){for(o=r;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+It(""+s)+'"][type="radio"]'),s=0;s<o.length;s++){var u=o[s];if(u!==r&&u.form===r.form){var d=u[Rt]||null;if(!d)throw Error(i(90));Mn(u,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(s=0;s<o.length;s++)u=o[s],u.form===r.form&&ql(u)}break e;case"textarea":nt(r,o.value,o.defaultValue);break e;case"select":s=o.value,s!=null&&li(r,!!o.multiple,s,!1)}}}var xr=!1;function nf(r,s,o){if(xr)return r(s,o);xr=!0;try{var u=r(s);return u}finally{if(xr=!1,(ci!==null||fi!==null)&&(Wf(),ci&&(s=ci,r=fi,fi=ci=null,Kl(s),r)))for(s=0;s<r.length;s++)Kl(r[s])}}function aa(r,s){var o=r.stateNode;if(o===null)return null;var u=o[Rt]||null;if(u===null)return null;o=u[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(r=r.type,u=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!u;break e;default:r=!1}if(r)return null;if(o&&typeof o!="function")throw Error(i(231,s,typeof o));return o}var fr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Wn=!1;if(fr)try{var oa={};Object.defineProperty(oa,"passive",{get:function(){Wn=!0}}),window.addEventListener("test",oa,oa),window.removeEventListener("test",oa,oa)}catch{Wn=!1}var Cr=null,Yi=null,hi=null;function Ql(){if(hi)return hi;var r,s=Yi,o=s.length,u,d="value"in Cr?Cr.value:Cr.textContent,g=d.length;for(r=0;r<o&&s[r]===d[r];r++);var T=o-r;for(u=1;u<=T&&s[o-u]===d[g-u];u++);return hi=d.slice(r,1<u?1-u:void 0)}function Dr(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function Or(){return!0}function Wl(){return!1}function Bt(r){function s(o,u,d,g,T){this._reactName=o,this._targetInst=d,this.type=u,this.nativeEvent=g,this.target=T,this.currentTarget=null;for(var S in r)r.hasOwnProperty(S)&&(o=r[S],this[S]=o?o(g):g[S]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?Or:Wl,this.isPropagationStopped=Wl,this}return y(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Or)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Or)},persist:function(){},isPersistent:Or}),s}var Xe={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},uo=Bt(Xe),la=y({},Xe,{view:0,detail:0}),rf=Bt(la),co,fo,Nr,ua=y({},la,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ha,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Nr&&(Nr&&r.type==="mousemove"?(co=r.screenX-Nr.screenX,fo=r.screenY-Nr.screenY):fo=co=0,Nr=r),co)},movementY:function(r){return"movementY"in r?r.movementY:fo}}),Xn=Bt(ua),sf=y({},ua,{dataTransfer:0}),lm=Bt(sf),ca=y({},la,{relatedTarget:0}),ho=Bt(ca),Xl=y({},Xe,{animationName:0,elapsedTime:0,pseudoElement:0}),mo=Bt(Xl),af=y({},Xe,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),po=Bt(af),um=y({},Xe,{data:0}),Zl=Bt(um),fa={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},of={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},lf={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Jl(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=lf[r])?!!s[r]:!1}function ha(){return Jl}var uf=y({},la,{key:function(r){if(r.key){var s=fa[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=Dr(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?of[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ha,charCode:function(r){return r.type==="keypress"?Dr(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Dr(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),go=Bt(uf),cf=y({},ua,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),eu=Bt(cf),di=y({},la,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ha}),ff=Bt(di),hf=y({},Xe,{propertyName:0,elapsedTime:0,pseudoElement:0}),df=Bt(hf),mf=y({},ua,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),yo=Bt(mf),_n=y({},Xe,{newState:0,oldState:0}),pf=Bt(_n),gf=[9,13,27,32],Mr=fr&&"CompositionEvent"in window,f=null;fr&&"documentMode"in document&&(f=document.documentMode);var v=fr&&"TextEvent"in window&&!f,E=fr&&(!Mr||f&&8<f&&11>=f),I=" ",Y=!1;function J(r,s){switch(r){case"keyup":return gf.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function he(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var Be=!1;function Lt(r,s){switch(r){case"compositionend":return he(s);case"keypress":return s.which!==32?null:(Y=!0,I);case"textInput":return r=s.data,r===I&&Y?null:r;default:return null}}function $e(r,s){if(Be)return r==="compositionend"||!Mr&&J(r,s)?(r=Ql(),hi=Yi=Cr=null,Be=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return E&&s.locale!=="ko"?null:s.data;default:return null}}var $t={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Vt(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!$t[r.type]:s==="textarea"}function mi(r,s,o,u){ci?fi?fi.push(u):fi=[u]:ci=u,s=nh(s,"onChange"),0<s.length&&(o=new uo("onChange","change",null,o,u),r.push({event:o,listeners:s}))}var Xt=null,kr=null;function tu(r){Cb(r,0)}function yf(r){var s=Rr(r);if(ql(s))return r}function Wv(r,s){if(r==="change")return s}var Xv=!1;if(fr){var cm;if(fr){var fm="oninput"in document;if(!fm){var Zv=document.createElement("div");Zv.setAttribute("oninput","return;"),fm=typeof Zv.oninput=="function"}cm=fm}else cm=!1;Xv=cm&&(!document.documentMode||9<document.documentMode)}function Jv(){Xt&&(Xt.detachEvent("onpropertychange",e0),kr=Xt=null)}function e0(r){if(r.propertyName==="value"&&yf(kr)){var s=[];mi(s,kr,r,Qn(r)),nf(tu,s)}}function GR(r,s,o){r==="focusin"?(Jv(),Xt=s,kr=o,Xt.attachEvent("onpropertychange",e0)):r==="focusout"&&Jv()}function KR(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return yf(kr)}function QR(r,s){if(r==="click")return yf(s)}function WR(r,s){if(r==="input"||r==="change")return yf(s)}function XR(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var kn=typeof Object.is=="function"?Object.is:XR;function nu(r,s){if(kn(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var o=Object.keys(r),u=Object.keys(s);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var d=o[u];if(!qs.call(s,d)||!kn(r[d],s[d]))return!1}return!0}function t0(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function n0(r,s){var o=t0(r);r=0;for(var u;o;){if(o.nodeType===3){if(u=r+o.textContent.length,r<=s&&u>=s)return{node:o,offset:s-r};r=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=t0(o)}}function r0(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?r0(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function i0(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var s=na(r.document);s instanceof r.HTMLIFrameElement;){try{var o=typeof s.contentWindow.location.href=="string"}catch{o=!1}if(o)r=s.contentWindow;else break;s=na(r.document)}return s}function hm(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}var ZR=fr&&"documentMode"in document&&11>=document.documentMode,vo=null,dm=null,ru=null,mm=!1;function s0(r,s,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;mm||vo==null||vo!==na(u)||(u=vo,"selectionStart"in u&&hm(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),ru&&nu(ru,u)||(ru=u,u=nh(dm,"onSelect"),0<u.length&&(s=new uo("onSelect","select",null,s,o),r.push({event:s,listeners:u}),s.target=vo)))}function da(r,s){var o={};return o[r.toLowerCase()]=s.toLowerCase(),o["Webkit"+r]="webkit"+s,o["Moz"+r]="moz"+s,o}var _o={animationend:da("Animation","AnimationEnd"),animationiteration:da("Animation","AnimationIteration"),animationstart:da("Animation","AnimationStart"),transitionrun:da("Transition","TransitionRun"),transitionstart:da("Transition","TransitionStart"),transitioncancel:da("Transition","TransitionCancel"),transitionend:da("Transition","TransitionEnd")},pm={},a0={};fr&&(a0=document.createElement("div").style,"AnimationEvent"in window||(delete _o.animationend.animation,delete _o.animationiteration.animation,delete _o.animationstart.animation),"TransitionEvent"in window||delete _o.transitionend.transition);function ma(r){if(pm[r])return pm[r];if(!_o[r])return r;var s=_o[r],o;for(o in s)if(s.hasOwnProperty(o)&&o in a0)return pm[r]=s[o];return r}var o0=ma("animationend"),l0=ma("animationiteration"),u0=ma("animationstart"),JR=ma("transitionrun"),eI=ma("transitionstart"),tI=ma("transitioncancel"),c0=ma("transitionend"),f0=new Map,gm="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");gm.push("scrollEnd");function hr(r,s){f0.set(r,s),cr(s,[r])}var h0=new WeakMap;function Zn(r,s){if(typeof r=="object"&&r!==null){var o=h0.get(r);return o!==void 0?o:(s={value:r,source:s,stack:ao(s)},h0.set(r,s),s)}return{value:r,source:s,stack:ao(s)}}var Jn=[],bo=0,ym=0;function vf(){for(var r=bo,s=ym=bo=0;s<r;){var o=Jn[s];Jn[s++]=null;var u=Jn[s];Jn[s++]=null;var d=Jn[s];Jn[s++]=null;var g=Jn[s];if(Jn[s++]=null,u!==null&&d!==null){var T=u.pending;T===null?d.next=d:(d.next=T.next,T.next=d),u.pending=d}g!==0&&d0(o,d,g)}}function _f(r,s,o,u){Jn[bo++]=r,Jn[bo++]=s,Jn[bo++]=o,Jn[bo++]=u,ym|=u,r.lanes|=u,r=r.alternate,r!==null&&(r.lanes|=u)}function vm(r,s,o,u){return _f(r,s,o,u),bf(r)}function Eo(r,s){return _f(r,null,null,s),bf(r)}function d0(r,s,o){r.lanes|=o;var u=r.alternate;u!==null&&(u.lanes|=o);for(var d=!1,g=r.return;g!==null;)g.childLanes|=o,u=g.alternate,u!==null&&(u.childLanes|=o),g.tag===22&&(r=g.stateNode,r===null||r._visibility&1||(d=!0)),r=g,g=g.return;return r.tag===3?(g=r.stateNode,d&&s!==null&&(d=31-on(o),r=g.hiddenUpdates,u=r[d],u===null?r[d]=[s]:u.push(s),s.lane=o|536870912),g):null}function bf(r){if(50<xu)throw xu=0,Sp=null,Error(i(185));for(var s=r.return;s!==null;)r=s,s=r.return;return r.tag===3?r.stateNode:null}var To={};function nI(r,s,o,u){this.tag=r,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pn(r,s,o,u){return new nI(r,s,o,u)}function _m(r){return r=r.prototype,!(!r||!r.isReactComponent)}function pi(r,s){var o=r.alternate;return o===null?(o=Pn(r.tag,s,r.key,r.mode),o.elementType=r.elementType,o.type=r.type,o.stateNode=r.stateNode,o.alternate=r,r.alternate=o):(o.pendingProps=s,o.type=r.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=r.flags&65011712,o.childLanes=r.childLanes,o.lanes=r.lanes,o.child=r.child,o.memoizedProps=r.memoizedProps,o.memoizedState=r.memoizedState,o.updateQueue=r.updateQueue,s=r.dependencies,o.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},o.sibling=r.sibling,o.index=r.index,o.ref=r.ref,o.refCleanup=r.refCleanup,o}function m0(r,s){r.flags&=65011714;var o=r.alternate;return o===null?(r.childLanes=0,r.lanes=s,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=o.childLanes,r.lanes=o.lanes,r.child=o.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=o.memoizedProps,r.memoizedState=o.memoizedState,r.updateQueue=o.updateQueue,r.type=o.type,s=o.dependencies,r.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),r}function Ef(r,s,o,u,d,g){var T=0;if(u=r,typeof r=="function")_m(r)&&(T=1);else if(typeof r=="string")T=ix(r,o,ve.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case O:return r=Pn(31,o,s,d),r.elementType=O,r.lanes=g,r;case R:return pa(o.children,d,g,s);case C:T=8,d|=24;break;case D:return r=Pn(12,o,s,d|2),r.elementType=D,r.lanes=g,r;case K:return r=Pn(13,o,s,d),r.elementType=K,r.lanes=g,r;case ee:return r=Pn(19,o,s,d),r.elementType=ee,r.lanes=g,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case B:case q:T=10;break e;case F:T=9;break e;case H:T=11;break e;case N:T=14;break e;case x:T=16,u=null;break e}T=29,o=Error(i(130,r===null?"null":typeof r,"")),u=null}return s=Pn(T,o,s,d),s.elementType=r,s.type=u,s.lanes=g,s}function pa(r,s,o,u){return r=Pn(7,r,u,s),r.lanes=o,r}function bm(r,s,o){return r=Pn(6,r,null,s),r.lanes=o,r}function Em(r,s,o){return s=Pn(4,r.children!==null?r.children:[],r.key,s),s.lanes=o,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}var wo=[],So=0,Tf=null,wf=0,er=[],tr=0,ga=null,gi=1,yi="";function ya(r,s){wo[So++]=wf,wo[So++]=Tf,Tf=r,wf=s}function p0(r,s,o){er[tr++]=gi,er[tr++]=yi,er[tr++]=ga,ga=r;var u=gi;r=yi;var d=32-on(u)-1;u&=~(1<<d),o+=1;var g=32-on(s)+d;if(30<g){var T=d-d%5;g=(u&(1<<T)-1).toString(32),u>>=T,d-=T,gi=1<<32-on(s)+d|o<<d|u,yi=g+r}else gi=1<<g|o<<d|u,yi=r}function Tm(r){r.return!==null&&(ya(r,1),p0(r,1,0))}function wm(r){for(;r===Tf;)Tf=wo[--So],wo[So]=null,wf=wo[--So],wo[So]=null;for(;r===ga;)ga=er[--tr],er[tr]=null,yi=er[--tr],er[tr]=null,gi=er[--tr],er[tr]=null}var bn=null,vt=null,We=!1,va=null,Pr=!1,Sm=Error(i(519));function _a(r){var s=Error(i(418,""));throw au(Zn(s,r)),Sm}function g0(r){var s=r.stateNode,o=r.type,u=r.memoizedProps;switch(s[Pt]=r,s[Rt]=u,o){case"dialog":je("cancel",s),je("close",s);break;case"iframe":case"object":case"embed":je("load",s);break;case"video":case"audio":for(o=0;o<Du.length;o++)je(Du[o],s);break;case"source":je("error",s);break;case"img":case"image":case"link":je("error",s),je("load",s);break;case"details":je("toggle",s);break;case"input":je("invalid",s),ra(s,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),oo(s);break;case"select":je("invalid",s);break;case"textarea":je("invalid",s),ia(s,u.value,u.defaultValue,u.children),oo(s)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||s.textContent===""+o||u.suppressHydrationWarning===!0||Mb(s.textContent,o)?(u.popover!=null&&(je("beforetoggle",s),je("toggle",s)),u.onScroll!=null&&je("scroll",s),u.onScrollEnd!=null&&je("scrollend",s),u.onClick!=null&&(s.onclick=rh),s=!0):s=!1,s||_a(r)}function y0(r){for(bn=r.return;bn;)switch(bn.tag){case 5:case 13:Pr=!1;return;case 27:case 3:Pr=!0;return;default:bn=bn.return}}function iu(r){if(r!==bn)return!1;if(!We)return y0(r),We=!0,!1;var s=r.tag,o;if((o=s!==3&&s!==27)&&((o=s===5)&&(o=r.type,o=!(o!=="form"&&o!=="button")||Fp(r.type,r.memoizedProps)),o=!o),o&&vt&&_a(r),y0(r),s===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));e:{for(r=r.nextSibling,s=0;r;){if(r.nodeType===8)if(o=r.data,o==="/$"){if(s===0){vt=mr(r.nextSibling);break e}s--}else o!=="$"&&o!=="$!"&&o!=="$?"||s++;r=r.nextSibling}vt=null}}else s===27?(s=vt,ls(r.type)?(r=Hp,Hp=null,vt=r):vt=s):vt=bn?mr(r.stateNode.nextSibling):null;return!0}function su(){vt=bn=null,We=!1}function v0(){var r=va;return r!==null&&(xn===null?xn=r:xn.push.apply(xn,r),va=null),r}function au(r){va===null?va=[r]:va.push(r)}var Am=re(null),ba=null,vi=null;function Gi(r,s,o){te(Am,s._currentValue),s._currentValue=o}function _i(r){r._currentValue=Am.current,fe(Am)}function Rm(r,s,o){for(;r!==null;){var u=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,u!==null&&(u.childLanes|=s)):u!==null&&(u.childLanes&s)!==s&&(u.childLanes|=s),r===o)break;r=r.return}}function Im(r,s,o,u){var d=r.child;for(d!==null&&(d.return=r);d!==null;){var g=d.dependencies;if(g!==null){var T=d.child;g=g.firstContext;e:for(;g!==null;){var S=g;g=d;for(var U=0;U<s.length;U++)if(S.context===s[U]){g.lanes|=o,S=g.alternate,S!==null&&(S.lanes|=o),Rm(g.return,o,r),u||(T=null);break e}g=S.next}}else if(d.tag===18){if(T=d.return,T===null)throw Error(i(341));T.lanes|=o,g=T.alternate,g!==null&&(g.lanes|=o),Rm(T,o,r),T=null}else T=d.child;if(T!==null)T.return=d;else for(T=d;T!==null;){if(T===r){T=null;break}if(d=T.sibling,d!==null){d.return=T.return,T=d;break}T=T.return}d=T}}function ou(r,s,o,u){r=null;for(var d=s,g=!1;d!==null;){if(!g){if((d.flags&524288)!==0)g=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var T=d.alternate;if(T===null)throw Error(i(387));if(T=T.memoizedProps,T!==null){var S=d.type;kn(d.pendingProps.value,T.value)||(r!==null?r.push(S):r=[S])}}else if(d===gt.current){if(T=d.alternate,T===null)throw Error(i(387));T.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(r!==null?r.push(Lu):r=[Lu])}d=d.return}r!==null&&Im(s,r,o,u),s.flags|=262144}function Sf(r){for(r=r.firstContext;r!==null;){if(!kn(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function Ea(r){ba=r,vi=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function ln(r){return _0(ba,r)}function Af(r,s){return ba===null&&Ea(r),_0(r,s)}function _0(r,s){var o=s._currentValue;if(s={context:s,memoizedValue:o,next:null},vi===null){if(r===null)throw Error(i(308));vi=s,r.dependencies={lanes:0,firstContext:s},r.flags|=524288}else vi=vi.next=s;return o}var rI=typeof AbortController<"u"?AbortController:function(){var r=[],s=this.signal={aborted:!1,addEventListener:function(o,u){r.push(u)}};this.abort=function(){s.aborted=!0,r.forEach(function(o){return o()})}},iI=n.unstable_scheduleCallback,sI=n.unstable_NormalPriority,Ut={$$typeof:q,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function xm(){return{controller:new rI,data:new Map,refCount:0}}function lu(r){r.refCount--,r.refCount===0&&iI(sI,function(){r.controller.abort()})}var uu=null,Cm=0,Ao=0,Ro=null;function aI(r,s){if(uu===null){var o=uu=[];Cm=0,Ao=Op(),Ro={status:"pending",value:void 0,then:function(u){o.push(u)}}}return Cm++,s.then(b0,b0),s}function b0(){if(--Cm===0&&uu!==null){Ro!==null&&(Ro.status="fulfilled");var r=uu;uu=null,Ao=0,Ro=null;for(var s=0;s<r.length;s++)(0,r[s])()}}function oI(r,s){var o=[],u={status:"pending",value:null,reason:null,then:function(d){o.push(d)}};return r.then(function(){u.status="fulfilled",u.value=s;for(var d=0;d<o.length;d++)(0,o[d])(s)},function(d){for(u.status="rejected",u.reason=d,d=0;d<o.length;d++)(0,o[d])(void 0)}),u}var E0=Z.S;Z.S=function(r,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&aI(r,s),E0!==null&&E0(r,s)};var Ta=re(null);function Dm(){var r=Ta.current;return r!==null?r:ct.pooledCache}function Rf(r,s){s===null?te(Ta,Ta.current):te(Ta,s.pool)}function T0(){var r=Dm();return r===null?null:{parent:Ut._currentValue,pool:r}}var cu=Error(i(460)),w0=Error(i(474)),If=Error(i(542)),Om={then:function(){}};function S0(r){return r=r.status,r==="fulfilled"||r==="rejected"}function xf(){}function A0(r,s,o){switch(o=r[o],o===void 0?r.push(s):o!==s&&(s.then(xf,xf),s=o),s.status){case"fulfilled":return s.value;case"rejected":throw r=s.reason,I0(r),r;default:if(typeof s.status=="string")s.then(xf,xf);else{if(r=ct,r!==null&&100<r.shellSuspendCounter)throw Error(i(482));r=s,r.status="pending",r.then(function(u){if(s.status==="pending"){var d=s;d.status="fulfilled",d.value=u}},function(u){if(s.status==="pending"){var d=s;d.status="rejected",d.reason=u}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw r=s.reason,I0(r),r}throw fu=s,cu}}var fu=null;function R0(){if(fu===null)throw Error(i(459));var r=fu;return fu=null,r}function I0(r){if(r===cu||r===If)throw Error(i(483))}var Ki=!1;function Nm(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Mm(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function Qi(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function Wi(r,s,o){var u=r.updateQueue;if(u===null)return null;if(u=u.shared,(et&2)!==0){var d=u.pending;return d===null?s.next=s:(s.next=d.next,d.next=s),u.pending=s,s=bf(r),d0(r,null,o),s}return _f(r,u,s,o),bf(r)}function hu(r,s,o){if(s=s.updateQueue,s!==null&&(s=s.shared,(o&4194048)!==0)){var u=s.lanes;u&=r.pendingLanes,o|=u,s.lanes=o,Fl(r,o)}}function km(r,s){var o=r.updateQueue,u=r.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var d=null,g=null;if(o=o.firstBaseUpdate,o!==null){do{var T={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};g===null?d=g=T:g=g.next=T,o=o.next}while(o!==null);g===null?d=g=s:g=g.next=s}else d=g=s;o={baseState:u.baseState,firstBaseUpdate:d,lastBaseUpdate:g,shared:u.shared,callbacks:u.callbacks},r.updateQueue=o;return}r=o.lastBaseUpdate,r===null?o.firstBaseUpdate=s:r.next=s,o.lastBaseUpdate=s}var Pm=!1;function du(){if(Pm){var r=Ro;if(r!==null)throw r}}function mu(r,s,o,u){Pm=!1;var d=r.updateQueue;Ki=!1;var g=d.firstBaseUpdate,T=d.lastBaseUpdate,S=d.shared.pending;if(S!==null){d.shared.pending=null;var U=S,Q=U.next;U.next=null,T===null?g=Q:T.next=Q,T=U;var ne=r.alternate;ne!==null&&(ne=ne.updateQueue,S=ne.lastBaseUpdate,S!==T&&(S===null?ne.firstBaseUpdate=Q:S.next=Q,ne.lastBaseUpdate=U))}if(g!==null){var se=d.baseState;T=0,ne=Q=U=null,S=g;do{var W=S.lane&-536870913,X=W!==S.lane;if(X?(He&W)===W:(u&W)===W){W!==0&&W===Ao&&(Pm=!0),ne!==null&&(ne=ne.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var Ie=r,Te=S;W=s;var st=o;switch(Te.tag){case 1:if(Ie=Te.payload,typeof Ie=="function"){se=Ie.call(st,se,W);break e}se=Ie;break e;case 3:Ie.flags=Ie.flags&-65537|128;case 0:if(Ie=Te.payload,W=typeof Ie=="function"?Ie.call(st,se,W):Ie,W==null)break e;se=y({},se,W);break e;case 2:Ki=!0}}W=S.callback,W!==null&&(r.flags|=64,X&&(r.flags|=8192),X=d.callbacks,X===null?d.callbacks=[W]:X.push(W))}else X={lane:W,tag:S.tag,payload:S.payload,callback:S.callback,next:null},ne===null?(Q=ne=X,U=se):ne=ne.next=X,T|=W;if(S=S.next,S===null){if(S=d.shared.pending,S===null)break;X=S,S=X.next,X.next=null,d.lastBaseUpdate=X,d.shared.pending=null}}while(!0);ne===null&&(U=se),d.baseState=U,d.firstBaseUpdate=Q,d.lastBaseUpdate=ne,g===null&&(d.shared.lanes=0),is|=T,r.lanes=T,r.memoizedState=se}}function x0(r,s){if(typeof r!="function")throw Error(i(191,r));r.call(s)}function C0(r,s){var o=r.callbacks;if(o!==null)for(r.callbacks=null,r=0;r<o.length;r++)x0(o[r],s)}var Io=re(null),Cf=re(0);function D0(r,s){r=Ri,te(Cf,r),te(Io,s),Ri=r|s.baseLanes}function Lm(){te(Cf,Ri),te(Io,Io.current)}function Vm(){Ri=Cf.current,fe(Io),fe(Cf)}var Xi=0,Pe=null,rt=null,xt=null,Df=!1,xo=!1,wa=!1,Of=0,pu=0,Co=null,lI=0;function Tt(){throw Error(i(321))}function Um(r,s){if(s===null)return!1;for(var o=0;o<s.length&&o<r.length;o++)if(!kn(r[o],s[o]))return!1;return!0}function jm(r,s,o,u,d,g){return Xi=g,Pe=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Z.H=r===null||r.memoizedState===null?d_:m_,wa=!1,g=o(u,d),wa=!1,xo&&(g=N0(s,o,u,d)),O0(r),g}function O0(r){Z.H=Vf;var s=rt!==null&&rt.next!==null;if(Xi=0,xt=rt=Pe=null,Df=!1,pu=0,Co=null,s)throw Error(i(300));r===null||Ht||(r=r.dependencies,r!==null&&Sf(r)&&(Ht=!0))}function N0(r,s,o,u){Pe=r;var d=0;do{if(xo&&(Co=null),pu=0,xo=!1,25<=d)throw Error(i(301));if(d+=1,xt=rt=null,r.updateQueue!=null){var g=r.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}Z.H=pI,g=s(o,u)}while(xo);return g}function uI(){var r=Z.H,s=r.useState()[0];return s=typeof s.then=="function"?gu(s):s,r=r.useState()[0],(rt!==null?rt.memoizedState:null)!==r&&(Pe.flags|=1024),s}function Fm(){var r=Of!==0;return Of=0,r}function zm(r,s,o){s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~o}function Bm(r){if(Df){for(r=r.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Df=!1}Xi=0,xt=rt=Pe=null,xo=!1,pu=Of=0,Co=null}function Rn(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return xt===null?Pe.memoizedState=xt=r:xt=xt.next=r,xt}function Ct(){if(rt===null){var r=Pe.alternate;r=r!==null?r.memoizedState:null}else r=rt.next;var s=xt===null?Pe.memoizedState:xt.next;if(s!==null)xt=s,rt=r;else{if(r===null)throw Pe.alternate===null?Error(i(467)):Error(i(310));rt=r,r={memoizedState:rt.memoizedState,baseState:rt.baseState,baseQueue:rt.baseQueue,queue:rt.queue,next:null},xt===null?Pe.memoizedState=xt=r:xt=xt.next=r}return xt}function $m(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function gu(r){var s=pu;return pu+=1,Co===null&&(Co=[]),r=A0(Co,r,s),s=Pe,(xt===null?s.memoizedState:xt.next)===null&&(s=s.alternate,Z.H=s===null||s.memoizedState===null?d_:m_),r}function Nf(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return gu(r);if(r.$$typeof===q)return ln(r)}throw Error(i(438,String(r)))}function Hm(r){var s=null,o=Pe.updateQueue;if(o!==null&&(s=o.memoCache),s==null){var u=Pe.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(s={data:u.data.map(function(d){return d.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),o===null&&(o=$m(),Pe.updateQueue=o),o.memoCache=s,o=s.data[s.index],o===void 0)for(o=s.data[s.index]=Array(r),u=0;u<r;u++)o[u]=M;return s.index++,o}function bi(r,s){return typeof s=="function"?s(r):s}function Mf(r){var s=Ct();return qm(s,rt,r)}function qm(r,s,o){var u=r.queue;if(u===null)throw Error(i(311));u.lastRenderedReducer=o;var d=r.baseQueue,g=u.pending;if(g!==null){if(d!==null){var T=d.next;d.next=g.next,g.next=T}s.baseQueue=d=g,u.pending=null}if(g=r.baseState,d===null)r.memoizedState=g;else{s=d.next;var S=T=null,U=null,Q=s,ne=!1;do{var se=Q.lane&-536870913;if(se!==Q.lane?(He&se)===se:(Xi&se)===se){var W=Q.revertLane;if(W===0)U!==null&&(U=U.next={lane:0,revertLane:0,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null}),se===Ao&&(ne=!0);else if((Xi&W)===W){Q=Q.next,W===Ao&&(ne=!0);continue}else se={lane:0,revertLane:Q.revertLane,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null},U===null?(S=U=se,T=g):U=U.next=se,Pe.lanes|=W,is|=W;se=Q.action,wa&&o(g,se),g=Q.hasEagerState?Q.eagerState:o(g,se)}else W={lane:se,revertLane:Q.revertLane,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null},U===null?(S=U=W,T=g):U=U.next=W,Pe.lanes|=se,is|=se;Q=Q.next}while(Q!==null&&Q!==s);if(U===null?T=g:U.next=S,!kn(g,r.memoizedState)&&(Ht=!0,ne&&(o=Ro,o!==null)))throw o;r.memoizedState=g,r.baseState=T,r.baseQueue=U,u.lastRenderedState=g}return d===null&&(u.lanes=0),[r.memoizedState,u.dispatch]}function Ym(r){var s=Ct(),o=s.queue;if(o===null)throw Error(i(311));o.lastRenderedReducer=r;var u=o.dispatch,d=o.pending,g=s.memoizedState;if(d!==null){o.pending=null;var T=d=d.next;do g=r(g,T.action),T=T.next;while(T!==d);kn(g,s.memoizedState)||(Ht=!0),s.memoizedState=g,s.baseQueue===null&&(s.baseState=g),o.lastRenderedState=g}return[g,u]}function M0(r,s,o){var u=Pe,d=Ct(),g=We;if(g){if(o===void 0)throw Error(i(407));o=o()}else o=s();var T=!kn((rt||d).memoizedState,o);T&&(d.memoizedState=o,Ht=!0),d=d.queue;var S=L0.bind(null,u,d,r);if(yu(2048,8,S,[r]),d.getSnapshot!==s||T||xt!==null&&xt.memoizedState.tag&1){if(u.flags|=2048,Do(9,kf(),P0.bind(null,u,d,o,s),null),ct===null)throw Error(i(349));g||(Xi&124)!==0||k0(u,s,o)}return o}function k0(r,s,o){r.flags|=16384,r={getSnapshot:s,value:o},s=Pe.updateQueue,s===null?(s=$m(),Pe.updateQueue=s,s.stores=[r]):(o=s.stores,o===null?s.stores=[r]:o.push(r))}function P0(r,s,o,u){s.value=o,s.getSnapshot=u,V0(s)&&U0(r)}function L0(r,s,o){return o(function(){V0(s)&&U0(r)})}function V0(r){var s=r.getSnapshot;r=r.value;try{var o=s();return!kn(r,o)}catch{return!0}}function U0(r){var s=Eo(r,2);s!==null&&Fn(s,r,2)}function Gm(r){var s=Rn();if(typeof r=="function"){var o=r;if(r=o(),wa){Nn(!0);try{o()}finally{Nn(!1)}}}return s.memoizedState=s.baseState=r,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:bi,lastRenderedState:r},s}function j0(r,s,o,u){return r.baseState=o,qm(r,rt,typeof u=="function"?u:bi)}function cI(r,s,o,u,d){if(Lf(r))throw Error(i(485));if(r=s.action,r!==null){var g={payload:d,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){g.listeners.push(T)}};Z.T!==null?o(!0):g.isTransition=!1,u(g),o=s.pending,o===null?(g.next=s.pending=g,F0(s,g)):(g.next=o.next,s.pending=o.next=g)}}function F0(r,s){var o=s.action,u=s.payload,d=r.state;if(s.isTransition){var g=Z.T,T={};Z.T=T;try{var S=o(d,u),U=Z.S;U!==null&&U(T,S),z0(r,s,S)}catch(Q){Km(r,s,Q)}finally{Z.T=g}}else try{g=o(d,u),z0(r,s,g)}catch(Q){Km(r,s,Q)}}function z0(r,s,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){B0(r,s,u)},function(u){return Km(r,s,u)}):B0(r,s,o)}function B0(r,s,o){s.status="fulfilled",s.value=o,$0(s),r.state=o,s=r.pending,s!==null&&(o=s.next,o===s?r.pending=null:(o=o.next,s.next=o,F0(r,o)))}function Km(r,s,o){var u=r.pending;if(r.pending=null,u!==null){u=u.next;do s.status="rejected",s.reason=o,$0(s),s=s.next;while(s!==u)}r.action=null}function $0(r){r=r.listeners;for(var s=0;s<r.length;s++)(0,r[s])()}function H0(r,s){return s}function q0(r,s){if(We){var o=ct.formState;if(o!==null){e:{var u=Pe;if(We){if(vt){t:{for(var d=vt,g=Pr;d.nodeType!==8;){if(!g){d=null;break t}if(d=mr(d.nextSibling),d===null){d=null;break t}}g=d.data,d=g==="F!"||g==="F"?d:null}if(d){vt=mr(d.nextSibling),u=d.data==="F!";break e}}_a(u)}u=!1}u&&(s=o[0])}}return o=Rn(),o.memoizedState=o.baseState=s,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:H0,lastRenderedState:s},o.queue=u,o=c_.bind(null,Pe,u),u.dispatch=o,u=Gm(!1),g=Jm.bind(null,Pe,!1,u.queue),u=Rn(),d={state:s,dispatch:null,action:r,pending:null},u.queue=d,o=cI.bind(null,Pe,d,g,o),d.dispatch=o,u.memoizedState=r,[s,o,!1]}function Y0(r){var s=Ct();return G0(s,rt,r)}function G0(r,s,o){if(s=qm(r,s,H0)[0],r=Mf(bi)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var u=gu(s)}catch(T){throw T===cu?If:T}else u=s;s=Ct();var d=s.queue,g=d.dispatch;return o!==s.memoizedState&&(Pe.flags|=2048,Do(9,kf(),fI.bind(null,d,o),null)),[u,g,r]}function fI(r,s){r.action=s}function K0(r){var s=Ct(),o=rt;if(o!==null)return G0(s,o,r);Ct(),s=s.memoizedState,o=Ct();var u=o.queue.dispatch;return o.memoizedState=r,[s,u,!1]}function Do(r,s,o,u){return r={tag:r,create:o,deps:u,inst:s,next:null},s=Pe.updateQueue,s===null&&(s=$m(),Pe.updateQueue=s),o=s.lastEffect,o===null?s.lastEffect=r.next=r:(u=o.next,o.next=r,r.next=u,s.lastEffect=r),r}function kf(){return{destroy:void 0,resource:void 0}}function Q0(){return Ct().memoizedState}function Pf(r,s,o,u){var d=Rn();u=u===void 0?null:u,Pe.flags|=r,d.memoizedState=Do(1|s,kf(),o,u)}function yu(r,s,o,u){var d=Ct();u=u===void 0?null:u;var g=d.memoizedState.inst;rt!==null&&u!==null&&Um(u,rt.memoizedState.deps)?d.memoizedState=Do(s,g,o,u):(Pe.flags|=r,d.memoizedState=Do(1|s,g,o,u))}function W0(r,s){Pf(8390656,8,r,s)}function X0(r,s){yu(2048,8,r,s)}function Z0(r,s){return yu(4,2,r,s)}function J0(r,s){return yu(4,4,r,s)}function e_(r,s){if(typeof s=="function"){r=r();var o=s(r);return function(){typeof o=="function"?o():s(null)}}if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function t_(r,s,o){o=o!=null?o.concat([r]):null,yu(4,4,e_.bind(null,s,r),o)}function Qm(){}function n_(r,s){var o=Ct();s=s===void 0?null:s;var u=o.memoizedState;return s!==null&&Um(s,u[1])?u[0]:(o.memoizedState=[r,s],r)}function r_(r,s){var o=Ct();s=s===void 0?null:s;var u=o.memoizedState;if(s!==null&&Um(s,u[1]))return u[0];if(u=r(),wa){Nn(!0);try{r()}finally{Nn(!1)}}return o.memoizedState=[u,s],u}function Wm(r,s,o){return o===void 0||(Xi&1073741824)!==0?r.memoizedState=s:(r.memoizedState=o,r=ab(),Pe.lanes|=r,is|=r,o)}function i_(r,s,o,u){return kn(o,s)?o:Io.current!==null?(r=Wm(r,o,u),kn(r,s)||(Ht=!0),r):(Xi&42)===0?(Ht=!0,r.memoizedState=o):(r=ab(),Pe.lanes|=r,is|=r,s)}function s_(r,s,o,u,d){var g=ue.p;ue.p=g!==0&&8>g?g:8;var T=Z.T,S={};Z.T=S,Jm(r,!1,s,o);try{var U=d(),Q=Z.S;if(Q!==null&&Q(S,U),U!==null&&typeof U=="object"&&typeof U.then=="function"){var ne=oI(U,u);vu(r,s,ne,jn(r))}else vu(r,s,u,jn(r))}catch(se){vu(r,s,{then:function(){},status:"rejected",reason:se},jn())}finally{ue.p=g,Z.T=T}}function hI(){}function Xm(r,s,o,u){if(r.tag!==5)throw Error(i(476));var d=a_(r).queue;s_(r,d,s,ce,o===null?hI:function(){return o_(r),o(u)})}function a_(r){var s=r.memoizedState;if(s!==null)return s;s={memoizedState:ce,baseState:ce,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:bi,lastRenderedState:ce},next:null};var o={};return s.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:bi,lastRenderedState:o},next:null},r.memoizedState=s,r=r.alternate,r!==null&&(r.memoizedState=s),s}function o_(r){var s=a_(r).next.queue;vu(r,s,{},jn())}function Zm(){return ln(Lu)}function l_(){return Ct().memoizedState}function u_(){return Ct().memoizedState}function dI(r){for(var s=r.return;s!==null;){switch(s.tag){case 24:case 3:var o=jn();r=Qi(o);var u=Wi(s,r,o);u!==null&&(Fn(u,s,o),hu(u,s,o)),s={cache:xm()},r.payload=s;return}s=s.return}}function mI(r,s,o){var u=jn();o={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null},Lf(r)?f_(s,o):(o=vm(r,s,o,u),o!==null&&(Fn(o,r,u),h_(o,s,u)))}function c_(r,s,o){var u=jn();vu(r,s,o,u)}function vu(r,s,o,u){var d={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null};if(Lf(r))f_(s,d);else{var g=r.alternate;if(r.lanes===0&&(g===null||g.lanes===0)&&(g=s.lastRenderedReducer,g!==null))try{var T=s.lastRenderedState,S=g(T,o);if(d.hasEagerState=!0,d.eagerState=S,kn(S,T))return _f(r,s,d,0),ct===null&&vf(),!1}catch{}finally{}if(o=vm(r,s,d,u),o!==null)return Fn(o,r,u),h_(o,s,u),!0}return!1}function Jm(r,s,o,u){if(u={lane:2,revertLane:Op(),action:u,hasEagerState:!1,eagerState:null,next:null},Lf(r)){if(s)throw Error(i(479))}else s=vm(r,o,u,2),s!==null&&Fn(s,r,2)}function Lf(r){var s=r.alternate;return r===Pe||s!==null&&s===Pe}function f_(r,s){xo=Df=!0;var o=r.pending;o===null?s.next=s:(s.next=o.next,o.next=s),r.pending=s}function h_(r,s,o){if((o&4194048)!==0){var u=s.lanes;u&=r.pendingLanes,o|=u,s.lanes=o,Fl(r,o)}}var Vf={readContext:ln,use:Nf,useCallback:Tt,useContext:Tt,useEffect:Tt,useImperativeHandle:Tt,useLayoutEffect:Tt,useInsertionEffect:Tt,useMemo:Tt,useReducer:Tt,useRef:Tt,useState:Tt,useDebugValue:Tt,useDeferredValue:Tt,useTransition:Tt,useSyncExternalStore:Tt,useId:Tt,useHostTransitionStatus:Tt,useFormState:Tt,useActionState:Tt,useOptimistic:Tt,useMemoCache:Tt,useCacheRefresh:Tt},d_={readContext:ln,use:Nf,useCallback:function(r,s){return Rn().memoizedState=[r,s===void 0?null:s],r},useContext:ln,useEffect:W0,useImperativeHandle:function(r,s,o){o=o!=null?o.concat([r]):null,Pf(4194308,4,e_.bind(null,s,r),o)},useLayoutEffect:function(r,s){return Pf(4194308,4,r,s)},useInsertionEffect:function(r,s){Pf(4,2,r,s)},useMemo:function(r,s){var o=Rn();s=s===void 0?null:s;var u=r();if(wa){Nn(!0);try{r()}finally{Nn(!1)}}return o.memoizedState=[u,s],u},useReducer:function(r,s,o){var u=Rn();if(o!==void 0){var d=o(s);if(wa){Nn(!0);try{o(s)}finally{Nn(!1)}}}else d=s;return u.memoizedState=u.baseState=d,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:d},u.queue=r,r=r.dispatch=mI.bind(null,Pe,r),[u.memoizedState,r]},useRef:function(r){var s=Rn();return r={current:r},s.memoizedState=r},useState:function(r){r=Gm(r);var s=r.queue,o=c_.bind(null,Pe,s);return s.dispatch=o,[r.memoizedState,o]},useDebugValue:Qm,useDeferredValue:function(r,s){var o=Rn();return Wm(o,r,s)},useTransition:function(){var r=Gm(!1);return r=s_.bind(null,Pe,r.queue,!0,!1),Rn().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,s,o){var u=Pe,d=Rn();if(We){if(o===void 0)throw Error(i(407));o=o()}else{if(o=s(),ct===null)throw Error(i(349));(He&124)!==0||k0(u,s,o)}d.memoizedState=o;var g={value:o,getSnapshot:s};return d.queue=g,W0(L0.bind(null,u,g,r),[r]),u.flags|=2048,Do(9,kf(),P0.bind(null,u,g,o,s),null),o},useId:function(){var r=Rn(),s=ct.identifierPrefix;if(We){var o=yi,u=gi;o=(u&~(1<<32-on(u)-1)).toString(32)+o,s="«"+s+"R"+o,o=Of++,0<o&&(s+="H"+o.toString(32)),s+="»"}else o=lI++,s="«"+s+"r"+o.toString(32)+"»";return r.memoizedState=s},useHostTransitionStatus:Zm,useFormState:q0,useActionState:q0,useOptimistic:function(r){var s=Rn();s.memoizedState=s.baseState=r;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=o,s=Jm.bind(null,Pe,!0,o),o.dispatch=s,[r,s]},useMemoCache:Hm,useCacheRefresh:function(){return Rn().memoizedState=dI.bind(null,Pe)}},m_={readContext:ln,use:Nf,useCallback:n_,useContext:ln,useEffect:X0,useImperativeHandle:t_,useInsertionEffect:Z0,useLayoutEffect:J0,useMemo:r_,useReducer:Mf,useRef:Q0,useState:function(){return Mf(bi)},useDebugValue:Qm,useDeferredValue:function(r,s){var o=Ct();return i_(o,rt.memoizedState,r,s)},useTransition:function(){var r=Mf(bi)[0],s=Ct().memoizedState;return[typeof r=="boolean"?r:gu(r),s]},useSyncExternalStore:M0,useId:l_,useHostTransitionStatus:Zm,useFormState:Y0,useActionState:Y0,useOptimistic:function(r,s){var o=Ct();return j0(o,rt,r,s)},useMemoCache:Hm,useCacheRefresh:u_},pI={readContext:ln,use:Nf,useCallback:n_,useContext:ln,useEffect:X0,useImperativeHandle:t_,useInsertionEffect:Z0,useLayoutEffect:J0,useMemo:r_,useReducer:Ym,useRef:Q0,useState:function(){return Ym(bi)},useDebugValue:Qm,useDeferredValue:function(r,s){var o=Ct();return rt===null?Wm(o,r,s):i_(o,rt.memoizedState,r,s)},useTransition:function(){var r=Ym(bi)[0],s=Ct().memoizedState;return[typeof r=="boolean"?r:gu(r),s]},useSyncExternalStore:M0,useId:l_,useHostTransitionStatus:Zm,useFormState:K0,useActionState:K0,useOptimistic:function(r,s){var o=Ct();return rt!==null?j0(o,rt,r,s):(o.baseState=r,[r,o.queue.dispatch])},useMemoCache:Hm,useCacheRefresh:u_},Oo=null,_u=0;function Uf(r){var s=_u;return _u+=1,Oo===null&&(Oo=[]),A0(Oo,r,s)}function bu(r,s){s=s.props.ref,r.ref=s!==void 0?s:null}function jf(r,s){throw s.$$typeof===_?Error(i(525)):(r=Object.prototype.toString.call(s),Error(i(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r)))}function p_(r){var s=r._init;return s(r._payload)}function g_(r){function s($,j){if(r){var G=$.deletions;G===null?($.deletions=[j],$.flags|=16):G.push(j)}}function o($,j){if(!r)return null;for(;j!==null;)s($,j),j=j.sibling;return null}function u($){for(var j=new Map;$!==null;)$.key!==null?j.set($.key,$):j.set($.index,$),$=$.sibling;return j}function d($,j){return $=pi($,j),$.index=0,$.sibling=null,$}function g($,j,G){return $.index=G,r?(G=$.alternate,G!==null?(G=G.index,G<j?($.flags|=67108866,j):G):($.flags|=67108866,j)):($.flags|=1048576,j)}function T($){return r&&$.alternate===null&&($.flags|=67108866),$}function S($,j,G,ie){return j===null||j.tag!==6?(j=bm(G,$.mode,ie),j.return=$,j):(j=d(j,G),j.return=$,j)}function U($,j,G,ie){var ye=G.type;return ye===R?ne($,j,G.props.children,ie,G.key):j!==null&&(j.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===x&&p_(ye)===j.type)?(j=d(j,G.props),bu(j,G),j.return=$,j):(j=Ef(G.type,G.key,G.props,null,$.mode,ie),bu(j,G),j.return=$,j)}function Q($,j,G,ie){return j===null||j.tag!==4||j.stateNode.containerInfo!==G.containerInfo||j.stateNode.implementation!==G.implementation?(j=Em(G,$.mode,ie),j.return=$,j):(j=d(j,G.children||[]),j.return=$,j)}function ne($,j,G,ie,ye){return j===null||j.tag!==7?(j=pa(G,$.mode,ie,ye),j.return=$,j):(j=d(j,G),j.return=$,j)}function se($,j,G){if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return j=bm(""+j,$.mode,G),j.return=$,j;if(typeof j=="object"&&j!==null){switch(j.$$typeof){case b:return G=Ef(j.type,j.key,j.props,null,$.mode,G),bu(G,j),G.return=$,G;case w:return j=Em(j,$.mode,G),j.return=$,j;case x:var ie=j._init;return j=ie(j._payload),se($,j,G)}if(De(j)||z(j))return j=pa(j,$.mode,G,null),j.return=$,j;if(typeof j.then=="function")return se($,Uf(j),G);if(j.$$typeof===q)return se($,Af($,j),G);jf($,j)}return null}function W($,j,G,ie){var ye=j!==null?j.key:null;if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return ye!==null?null:S($,j,""+G,ie);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case b:return G.key===ye?U($,j,G,ie):null;case w:return G.key===ye?Q($,j,G,ie):null;case x:return ye=G._init,G=ye(G._payload),W($,j,G,ie)}if(De(G)||z(G))return ye!==null?null:ne($,j,G,ie,null);if(typeof G.then=="function")return W($,j,Uf(G),ie);if(G.$$typeof===q)return W($,j,Af($,G),ie);jf($,G)}return null}function X($,j,G,ie,ye){if(typeof ie=="string"&&ie!==""||typeof ie=="number"||typeof ie=="bigint")return $=$.get(G)||null,S(j,$,""+ie,ye);if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case b:return $=$.get(ie.key===null?G:ie.key)||null,U(j,$,ie,ye);case w:return $=$.get(ie.key===null?G:ie.key)||null,Q(j,$,ie,ye);case x:var Ve=ie._init;return ie=Ve(ie._payload),X($,j,G,ie,ye)}if(De(ie)||z(ie))return $=$.get(G)||null,ne(j,$,ie,ye,null);if(typeof ie.then=="function")return X($,j,G,Uf(ie),ye);if(ie.$$typeof===q)return X($,j,G,Af(j,ie),ye);jf(j,ie)}return null}function Ie($,j,G,ie){for(var ye=null,Ve=null,_e=j,we=j=0,Yt=null;_e!==null&&we<G.length;we++){_e.index>we?(Yt=_e,_e=null):Yt=_e.sibling;var Ye=W($,_e,G[we],ie);if(Ye===null){_e===null&&(_e=Yt);break}r&&_e&&Ye.alternate===null&&s($,_e),j=g(Ye,j,we),Ve===null?ye=Ye:Ve.sibling=Ye,Ve=Ye,_e=Yt}if(we===G.length)return o($,_e),We&&ya($,we),ye;if(_e===null){for(;we<G.length;we++)_e=se($,G[we],ie),_e!==null&&(j=g(_e,j,we),Ve===null?ye=_e:Ve.sibling=_e,Ve=_e);return We&&ya($,we),ye}for(_e=u(_e);we<G.length;we++)Yt=X(_e,$,we,G[we],ie),Yt!==null&&(r&&Yt.alternate!==null&&_e.delete(Yt.key===null?we:Yt.key),j=g(Yt,j,we),Ve===null?ye=Yt:Ve.sibling=Yt,Ve=Yt);return r&&_e.forEach(function(ds){return s($,ds)}),We&&ya($,we),ye}function Te($,j,G,ie){if(G==null)throw Error(i(151));for(var ye=null,Ve=null,_e=j,we=j=0,Yt=null,Ye=G.next();_e!==null&&!Ye.done;we++,Ye=G.next()){_e.index>we?(Yt=_e,_e=null):Yt=_e.sibling;var ds=W($,_e,Ye.value,ie);if(ds===null){_e===null&&(_e=Yt);break}r&&_e&&ds.alternate===null&&s($,_e),j=g(ds,j,we),Ve===null?ye=ds:Ve.sibling=ds,Ve=ds,_e=Yt}if(Ye.done)return o($,_e),We&&ya($,we),ye;if(_e===null){for(;!Ye.done;we++,Ye=G.next())Ye=se($,Ye.value,ie),Ye!==null&&(j=g(Ye,j,we),Ve===null?ye=Ye:Ve.sibling=Ye,Ve=Ye);return We&&ya($,we),ye}for(_e=u(_e);!Ye.done;we++,Ye=G.next())Ye=X(_e,$,we,Ye.value,ie),Ye!==null&&(r&&Ye.alternate!==null&&_e.delete(Ye.key===null?we:Ye.key),j=g(Ye,j,we),Ve===null?ye=Ye:Ve.sibling=Ye,Ve=Ye);return r&&_e.forEach(function(gx){return s($,gx)}),We&&ya($,we),ye}function st($,j,G,ie){if(typeof G=="object"&&G!==null&&G.type===R&&G.key===null&&(G=G.props.children),typeof G=="object"&&G!==null){switch(G.$$typeof){case b:e:{for(var ye=G.key;j!==null;){if(j.key===ye){if(ye=G.type,ye===R){if(j.tag===7){o($,j.sibling),ie=d(j,G.props.children),ie.return=$,$=ie;break e}}else if(j.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===x&&p_(ye)===j.type){o($,j.sibling),ie=d(j,G.props),bu(ie,G),ie.return=$,$=ie;break e}o($,j);break}else s($,j);j=j.sibling}G.type===R?(ie=pa(G.props.children,$.mode,ie,G.key),ie.return=$,$=ie):(ie=Ef(G.type,G.key,G.props,null,$.mode,ie),bu(ie,G),ie.return=$,$=ie)}return T($);case w:e:{for(ye=G.key;j!==null;){if(j.key===ye)if(j.tag===4&&j.stateNode.containerInfo===G.containerInfo&&j.stateNode.implementation===G.implementation){o($,j.sibling),ie=d(j,G.children||[]),ie.return=$,$=ie;break e}else{o($,j);break}else s($,j);j=j.sibling}ie=Em(G,$.mode,ie),ie.return=$,$=ie}return T($);case x:return ye=G._init,G=ye(G._payload),st($,j,G,ie)}if(De(G))return Ie($,j,G,ie);if(z(G)){if(ye=z(G),typeof ye!="function")throw Error(i(150));return G=ye.call(G),Te($,j,G,ie)}if(typeof G.then=="function")return st($,j,Uf(G),ie);if(G.$$typeof===q)return st($,j,Af($,G),ie);jf($,G)}return typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint"?(G=""+G,j!==null&&j.tag===6?(o($,j.sibling),ie=d(j,G),ie.return=$,$=ie):(o($,j),ie=bm(G,$.mode,ie),ie.return=$,$=ie),T($)):o($,j)}return function($,j,G,ie){try{_u=0;var ye=st($,j,G,ie);return Oo=null,ye}catch(_e){if(_e===cu||_e===If)throw _e;var Ve=Pn(29,_e,null,$.mode);return Ve.lanes=ie,Ve.return=$,Ve}finally{}}}var No=g_(!0),y_=g_(!1),nr=re(null),Lr=null;function Zi(r){var s=r.alternate;te(jt,jt.current&1),te(nr,r),Lr===null&&(s===null||Io.current!==null||s.memoizedState!==null)&&(Lr=r)}function v_(r){if(r.tag===22){if(te(jt,jt.current),te(nr,r),Lr===null){var s=r.alternate;s!==null&&s.memoizedState!==null&&(Lr=r)}}else Ji()}function Ji(){te(jt,jt.current),te(nr,nr.current)}function Ei(r){fe(nr),Lr===r&&(Lr=null),fe(jt)}var jt=re(0);function Ff(r){for(var s=r;s!==null;){if(s.tag===13){var o=s.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||$p(o)))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}function ep(r,s,o,u){s=r.memoizedState,o=o(u,s),o=o==null?s:y({},s,o),r.memoizedState=o,r.lanes===0&&(r.updateQueue.baseState=o)}var tp={enqueueSetState:function(r,s,o){r=r._reactInternals;var u=jn(),d=Qi(u);d.payload=s,o!=null&&(d.callback=o),s=Wi(r,d,u),s!==null&&(Fn(s,r,u),hu(s,r,u))},enqueueReplaceState:function(r,s,o){r=r._reactInternals;var u=jn(),d=Qi(u);d.tag=1,d.payload=s,o!=null&&(d.callback=o),s=Wi(r,d,u),s!==null&&(Fn(s,r,u),hu(s,r,u))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var o=jn(),u=Qi(o);u.tag=2,s!=null&&(u.callback=s),s=Wi(r,u,o),s!==null&&(Fn(s,r,o),hu(s,r,o))}};function __(r,s,o,u,d,g,T){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(u,g,T):s.prototype&&s.prototype.isPureReactComponent?!nu(o,u)||!nu(d,g):!0}function b_(r,s,o,u){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(o,u),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(o,u),s.state!==r&&tp.enqueueReplaceState(s,s.state,null)}function Sa(r,s){var o=s;if("ref"in s){o={};for(var u in s)u!=="ref"&&(o[u]=s[u])}if(r=r.defaultProps){o===s&&(o=y({},o));for(var d in r)o[d]===void 0&&(o[d]=r[d])}return o}var zf=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)};function E_(r){zf(r)}function T_(r){console.error(r)}function w_(r){zf(r)}function Bf(r,s){try{var o=r.onUncaughtError;o(s.value,{componentStack:s.stack})}catch(u){setTimeout(function(){throw u})}}function S_(r,s,o){try{var u=r.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function np(r,s,o){return o=Qi(o),o.tag=3,o.payload={element:null},o.callback=function(){Bf(r,s)},o}function A_(r){return r=Qi(r),r.tag=3,r}function R_(r,s,o,u){var d=o.type.getDerivedStateFromError;if(typeof d=="function"){var g=u.value;r.payload=function(){return d(g)},r.callback=function(){S_(s,o,u)}}var T=o.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(r.callback=function(){S_(s,o,u),typeof d!="function"&&(ss===null?ss=new Set([this]):ss.add(this));var S=u.stack;this.componentDidCatch(u.value,{componentStack:S!==null?S:""})})}function gI(r,s,o,u,d){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(s=o.alternate,s!==null&&ou(s,o,d,!0),o=nr.current,o!==null){switch(o.tag){case 13:return Lr===null?Rp():o.alternate===null&&_t===0&&(_t=3),o.flags&=-257,o.flags|=65536,o.lanes=d,u===Om?o.flags|=16384:(s=o.updateQueue,s===null?o.updateQueue=new Set([u]):s.add(u),xp(r,u,d)),!1;case 22:return o.flags|=65536,u===Om?o.flags|=16384:(s=o.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=s):(o=s.retryQueue,o===null?s.retryQueue=new Set([u]):o.add(u)),xp(r,u,d)),!1}throw Error(i(435,o.tag))}return xp(r,u,d),Rp(),!1}if(We)return s=nr.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=d,u!==Sm&&(r=Error(i(422),{cause:u}),au(Zn(r,o)))):(u!==Sm&&(s=Error(i(423),{cause:u}),au(Zn(s,o))),r=r.current.alternate,r.flags|=65536,d&=-d,r.lanes|=d,u=Zn(u,o),d=np(r.stateNode,u,d),km(r,d),_t!==4&&(_t=2)),!1;var g=Error(i(520),{cause:u});if(g=Zn(g,o),Iu===null?Iu=[g]:Iu.push(g),_t!==4&&(_t=2),s===null)return!0;u=Zn(u,o),o=s;do{switch(o.tag){case 3:return o.flags|=65536,r=d&-d,o.lanes|=r,r=np(o.stateNode,u,r),km(o,r),!1;case 1:if(s=o.type,g=o.stateNode,(o.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(ss===null||!ss.has(g))))return o.flags|=65536,d&=-d,o.lanes|=d,d=A_(d),R_(d,r,o,u),km(o,d),!1}o=o.return}while(o!==null);return!1}var I_=Error(i(461)),Ht=!1;function Zt(r,s,o,u){s.child=r===null?y_(s,null,o,u):No(s,r.child,o,u)}function x_(r,s,o,u,d){o=o.render;var g=s.ref;if("ref"in u){var T={};for(var S in u)S!=="ref"&&(T[S]=u[S])}else T=u;return Ea(s),u=jm(r,s,o,T,g,d),S=Fm(),r!==null&&!Ht?(zm(r,s,d),Ti(r,s,d)):(We&&S&&Tm(s),s.flags|=1,Zt(r,s,u,d),s.child)}function C_(r,s,o,u,d){if(r===null){var g=o.type;return typeof g=="function"&&!_m(g)&&g.defaultProps===void 0&&o.compare===null?(s.tag=15,s.type=g,D_(r,s,g,u,d)):(r=Ef(o.type,null,u,s,s.mode,d),r.ref=s.ref,r.return=s,s.child=r)}if(g=r.child,!cp(r,d)){var T=g.memoizedProps;if(o=o.compare,o=o!==null?o:nu,o(T,u)&&r.ref===s.ref)return Ti(r,s,d)}return s.flags|=1,r=pi(g,u),r.ref=s.ref,r.return=s,s.child=r}function D_(r,s,o,u,d){if(r!==null){var g=r.memoizedProps;if(nu(g,u)&&r.ref===s.ref)if(Ht=!1,s.pendingProps=u=g,cp(r,d))(r.flags&131072)!==0&&(Ht=!0);else return s.lanes=r.lanes,Ti(r,s,d)}return rp(r,s,o,u,d)}function O_(r,s,o){var u=s.pendingProps,d=u.children,g=r!==null?r.memoizedState:null;if(u.mode==="hidden"){if((s.flags&128)!==0){if(u=g!==null?g.baseLanes|o:o,r!==null){for(d=s.child=r.child,g=0;d!==null;)g=g|d.lanes|d.childLanes,d=d.sibling;s.childLanes=g&~u}else s.childLanes=0,s.child=null;return N_(r,s,u,o)}if((o&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},r!==null&&Rf(s,g!==null?g.cachePool:null),g!==null?D0(s,g):Lm(),v_(s);else return s.lanes=s.childLanes=536870912,N_(r,s,g!==null?g.baseLanes|o:o,o)}else g!==null?(Rf(s,g.cachePool),D0(s,g),Ji(),s.memoizedState=null):(r!==null&&Rf(s,null),Lm(),Ji());return Zt(r,s,d,o),s.child}function N_(r,s,o,u){var d=Dm();return d=d===null?null:{parent:Ut._currentValue,pool:d},s.memoizedState={baseLanes:o,cachePool:d},r!==null&&Rf(s,null),Lm(),v_(s),r!==null&&ou(r,s,u,!0),null}function $f(r,s){var o=s.ref;if(o===null)r!==null&&r.ref!==null&&(s.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(i(284));(r===null||r.ref!==o)&&(s.flags|=4194816)}}function rp(r,s,o,u,d){return Ea(s),o=jm(r,s,o,u,void 0,d),u=Fm(),r!==null&&!Ht?(zm(r,s,d),Ti(r,s,d)):(We&&u&&Tm(s),s.flags|=1,Zt(r,s,o,d),s.child)}function M_(r,s,o,u,d,g){return Ea(s),s.updateQueue=null,o=N0(s,u,o,d),O0(r),u=Fm(),r!==null&&!Ht?(zm(r,s,g),Ti(r,s,g)):(We&&u&&Tm(s),s.flags|=1,Zt(r,s,o,g),s.child)}function k_(r,s,o,u,d){if(Ea(s),s.stateNode===null){var g=To,T=o.contextType;typeof T=="object"&&T!==null&&(g=ln(T)),g=new o(u,g),s.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=tp,s.stateNode=g,g._reactInternals=s,g=s.stateNode,g.props=u,g.state=s.memoizedState,g.refs={},Nm(s),T=o.contextType,g.context=typeof T=="object"&&T!==null?ln(T):To,g.state=s.memoizedState,T=o.getDerivedStateFromProps,typeof T=="function"&&(ep(s,o,T,u),g.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(T=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),T!==g.state&&tp.enqueueReplaceState(g,g.state,null),mu(s,u,g,d),du(),g.state=s.memoizedState),typeof g.componentDidMount=="function"&&(s.flags|=4194308),u=!0}else if(r===null){g=s.stateNode;var S=s.memoizedProps,U=Sa(o,S);g.props=U;var Q=g.context,ne=o.contextType;T=To,typeof ne=="object"&&ne!==null&&(T=ln(ne));var se=o.getDerivedStateFromProps;ne=typeof se=="function"||typeof g.getSnapshotBeforeUpdate=="function",S=s.pendingProps!==S,ne||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(S||Q!==T)&&b_(s,g,u,T),Ki=!1;var W=s.memoizedState;g.state=W,mu(s,u,g,d),du(),Q=s.memoizedState,S||W!==Q||Ki?(typeof se=="function"&&(ep(s,o,se,u),Q=s.memoizedState),(U=Ki||__(s,o,U,u,W,Q,T))?(ne||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(s.flags|=4194308)):(typeof g.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=u,s.memoizedState=Q),g.props=u,g.state=Q,g.context=T,u=U):(typeof g.componentDidMount=="function"&&(s.flags|=4194308),u=!1)}else{g=s.stateNode,Mm(r,s),T=s.memoizedProps,ne=Sa(o,T),g.props=ne,se=s.pendingProps,W=g.context,Q=o.contextType,U=To,typeof Q=="object"&&Q!==null&&(U=ln(Q)),S=o.getDerivedStateFromProps,(Q=typeof S=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(T!==se||W!==U)&&b_(s,g,u,U),Ki=!1,W=s.memoizedState,g.state=W,mu(s,u,g,d),du();var X=s.memoizedState;T!==se||W!==X||Ki||r!==null&&r.dependencies!==null&&Sf(r.dependencies)?(typeof S=="function"&&(ep(s,o,S,u),X=s.memoizedState),(ne=Ki||__(s,o,ne,u,W,X,U)||r!==null&&r.dependencies!==null&&Sf(r.dependencies))?(Q||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(u,X,U),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(u,X,U)),typeof g.componentDidUpdate=="function"&&(s.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof g.componentDidUpdate!="function"||T===r.memoizedProps&&W===r.memoizedState||(s.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||T===r.memoizedProps&&W===r.memoizedState||(s.flags|=1024),s.memoizedProps=u,s.memoizedState=X),g.props=u,g.state=X,g.context=U,u=ne):(typeof g.componentDidUpdate!="function"||T===r.memoizedProps&&W===r.memoizedState||(s.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||T===r.memoizedProps&&W===r.memoizedState||(s.flags|=1024),u=!1)}return g=u,$f(r,s),u=(s.flags&128)!==0,g||u?(g=s.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:g.render(),s.flags|=1,r!==null&&u?(s.child=No(s,r.child,null,d),s.child=No(s,null,o,d)):Zt(r,s,o,d),s.memoizedState=g.state,r=s.child):r=Ti(r,s,d),r}function P_(r,s,o,u){return su(),s.flags|=256,Zt(r,s,o,u),s.child}var ip={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function sp(r){return{baseLanes:r,cachePool:T0()}}function ap(r,s,o){return r=r!==null?r.childLanes&~o:0,s&&(r|=rr),r}function L_(r,s,o){var u=s.pendingProps,d=!1,g=(s.flags&128)!==0,T;if((T=g)||(T=r!==null&&r.memoizedState===null?!1:(jt.current&2)!==0),T&&(d=!0,s.flags&=-129),T=(s.flags&32)!==0,s.flags&=-33,r===null){if(We){if(d?Zi(s):Ji(),We){var S=vt,U;if(U=S){e:{for(U=S,S=Pr;U.nodeType!==8;){if(!S){S=null;break e}if(U=mr(U.nextSibling),U===null){S=null;break e}}S=U}S!==null?(s.memoizedState={dehydrated:S,treeContext:ga!==null?{id:gi,overflow:yi}:null,retryLane:536870912,hydrationErrors:null},U=Pn(18,null,null,0),U.stateNode=S,U.return=s,s.child=U,bn=s,vt=null,U=!0):U=!1}U||_a(s)}if(S=s.memoizedState,S!==null&&(S=S.dehydrated,S!==null))return $p(S)?s.lanes=32:s.lanes=536870912,null;Ei(s)}return S=u.children,u=u.fallback,d?(Ji(),d=s.mode,S=Hf({mode:"hidden",children:S},d),u=pa(u,d,o,null),S.return=s,u.return=s,S.sibling=u,s.child=S,d=s.child,d.memoizedState=sp(o),d.childLanes=ap(r,T,o),s.memoizedState=ip,u):(Zi(s),op(s,S))}if(U=r.memoizedState,U!==null&&(S=U.dehydrated,S!==null)){if(g)s.flags&256?(Zi(s),s.flags&=-257,s=lp(r,s,o)):s.memoizedState!==null?(Ji(),s.child=r.child,s.flags|=128,s=null):(Ji(),d=u.fallback,S=s.mode,u=Hf({mode:"visible",children:u.children},S),d=pa(d,S,o,null),d.flags|=2,u.return=s,d.return=s,u.sibling=d,s.child=u,No(s,r.child,null,o),u=s.child,u.memoizedState=sp(o),u.childLanes=ap(r,T,o),s.memoizedState=ip,s=d);else if(Zi(s),$p(S)){if(T=S.nextSibling&&S.nextSibling.dataset,T)var Q=T.dgst;T=Q,u=Error(i(419)),u.stack="",u.digest=T,au({value:u,source:null,stack:null}),s=lp(r,s,o)}else if(Ht||ou(r,s,o,!1),T=(o&r.childLanes)!==0,Ht||T){if(T=ct,T!==null&&(u=o&-o,u=(u&42)!==0?1:Fi(u),u=(u&(T.suspendedLanes|o))!==0?0:u,u!==0&&u!==U.retryLane))throw U.retryLane=u,Eo(r,u),Fn(T,r,u),I_;S.data==="$?"||Rp(),s=lp(r,s,o)}else S.data==="$?"?(s.flags|=192,s.child=r.child,s=null):(r=U.treeContext,vt=mr(S.nextSibling),bn=s,We=!0,va=null,Pr=!1,r!==null&&(er[tr++]=gi,er[tr++]=yi,er[tr++]=ga,gi=r.id,yi=r.overflow,ga=s),s=op(s,u.children),s.flags|=4096);return s}return d?(Ji(),d=u.fallback,S=s.mode,U=r.child,Q=U.sibling,u=pi(U,{mode:"hidden",children:u.children}),u.subtreeFlags=U.subtreeFlags&65011712,Q!==null?d=pi(Q,d):(d=pa(d,S,o,null),d.flags|=2),d.return=s,u.return=s,u.sibling=d,s.child=u,u=d,d=s.child,S=r.child.memoizedState,S===null?S=sp(o):(U=S.cachePool,U!==null?(Q=Ut._currentValue,U=U.parent!==Q?{parent:Q,pool:Q}:U):U=T0(),S={baseLanes:S.baseLanes|o,cachePool:U}),d.memoizedState=S,d.childLanes=ap(r,T,o),s.memoizedState=ip,u):(Zi(s),o=r.child,r=o.sibling,o=pi(o,{mode:"visible",children:u.children}),o.return=s,o.sibling=null,r!==null&&(T=s.deletions,T===null?(s.deletions=[r],s.flags|=16):T.push(r)),s.child=o,s.memoizedState=null,o)}function op(r,s){return s=Hf({mode:"visible",children:s},r.mode),s.return=r,r.child=s}function Hf(r,s){return r=Pn(22,r,null,s),r.lanes=0,r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},r}function lp(r,s,o){return No(s,r.child,null,o),r=op(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function V_(r,s,o){r.lanes|=s;var u=r.alternate;u!==null&&(u.lanes|=s),Rm(r.return,s,o)}function up(r,s,o,u,d){var g=r.memoizedState;g===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:d}:(g.isBackwards=s,g.rendering=null,g.renderingStartTime=0,g.last=u,g.tail=o,g.tailMode=d)}function U_(r,s,o){var u=s.pendingProps,d=u.revealOrder,g=u.tail;if(Zt(r,s,u.children,o),u=jt.current,(u&2)!==0)u=u&1|2,s.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&V_(r,o,s);else if(r.tag===19)V_(r,o,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}u&=1}switch(te(jt,u),d){case"forwards":for(o=s.child,d=null;o!==null;)r=o.alternate,r!==null&&Ff(r)===null&&(d=o),o=o.sibling;o=d,o===null?(d=s.child,s.child=null):(d=o.sibling,o.sibling=null),up(s,!1,d,o,g);break;case"backwards":for(o=null,d=s.child,s.child=null;d!==null;){if(r=d.alternate,r!==null&&Ff(r)===null){s.child=d;break}r=d.sibling,d.sibling=o,o=d,d=r}up(s,!0,o,null,g);break;case"together":up(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Ti(r,s,o){if(r!==null&&(s.dependencies=r.dependencies),is|=s.lanes,(o&s.childLanes)===0)if(r!==null){if(ou(r,s,o,!1),(o&s.childLanes)===0)return null}else return null;if(r!==null&&s.child!==r.child)throw Error(i(153));if(s.child!==null){for(r=s.child,o=pi(r,r.pendingProps),s.child=o,o.return=s;r.sibling!==null;)r=r.sibling,o=o.sibling=pi(r,r.pendingProps),o.return=s;o.sibling=null}return s.child}function cp(r,s){return(r.lanes&s)!==0?!0:(r=r.dependencies,!!(r!==null&&Sf(r)))}function yI(r,s,o){switch(s.tag){case 3:Qe(s,s.stateNode.containerInfo),Gi(s,Ut,r.memoizedState.cache),su();break;case 27:case 5:ji(s);break;case 4:Qe(s,s.stateNode.containerInfo);break;case 10:Gi(s,s.type,s.memoizedProps.value);break;case 13:var u=s.memoizedState;if(u!==null)return u.dehydrated!==null?(Zi(s),s.flags|=128,null):(o&s.child.childLanes)!==0?L_(r,s,o):(Zi(s),r=Ti(r,s,o),r!==null?r.sibling:null);Zi(s);break;case 19:var d=(r.flags&128)!==0;if(u=(o&s.childLanes)!==0,u||(ou(r,s,o,!1),u=(o&s.childLanes)!==0),d){if(u)return U_(r,s,o);s.flags|=128}if(d=s.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),te(jt,jt.current),u)break;return null;case 22:case 23:return s.lanes=0,O_(r,s,o);case 24:Gi(s,Ut,r.memoizedState.cache)}return Ti(r,s,o)}function j_(r,s,o){if(r!==null)if(r.memoizedProps!==s.pendingProps)Ht=!0;else{if(!cp(r,o)&&(s.flags&128)===0)return Ht=!1,yI(r,s,o);Ht=(r.flags&131072)!==0}else Ht=!1,We&&(s.flags&1048576)!==0&&p0(s,wf,s.index);switch(s.lanes=0,s.tag){case 16:e:{r=s.pendingProps;var u=s.elementType,d=u._init;if(u=d(u._payload),s.type=u,typeof u=="function")_m(u)?(r=Sa(u,r),s.tag=1,s=k_(null,s,u,r,o)):(s.tag=0,s=rp(null,s,u,r,o));else{if(u!=null){if(d=u.$$typeof,d===H){s.tag=11,s=x_(null,s,u,r,o);break e}else if(d===N){s.tag=14,s=C_(null,s,u,r,o);break e}}throw s=ke(u)||u,Error(i(306,s,""))}}return s;case 0:return rp(r,s,s.type,s.pendingProps,o);case 1:return u=s.type,d=Sa(u,s.pendingProps),k_(r,s,u,d,o);case 3:e:{if(Qe(s,s.stateNode.containerInfo),r===null)throw Error(i(387));u=s.pendingProps;var g=s.memoizedState;d=g.element,Mm(r,s),mu(s,u,null,o);var T=s.memoizedState;if(u=T.cache,Gi(s,Ut,u),u!==g.cache&&Im(s,[Ut],o,!0),du(),u=T.element,g.isDehydrated)if(g={element:u,isDehydrated:!1,cache:T.cache},s.updateQueue.baseState=g,s.memoizedState=g,s.flags&256){s=P_(r,s,u,o);break e}else if(u!==d){d=Zn(Error(i(424)),s),au(d),s=P_(r,s,u,o);break e}else{switch(r=s.stateNode.containerInfo,r.nodeType){case 9:r=r.body;break;default:r=r.nodeName==="HTML"?r.ownerDocument.body:r}for(vt=mr(r.firstChild),bn=s,We=!0,va=null,Pr=!0,o=y_(s,null,u,o),s.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(su(),u===d){s=Ti(r,s,o);break e}Zt(r,s,u,o)}s=s.child}return s;case 26:return $f(r,s),r===null?(o=$b(s.type,null,s.pendingProps,null))?s.memoizedState=o:We||(o=s.type,r=s.pendingProps,u=ih(Re.current).createElement(o),u[Pt]=s,u[Rt]=r,en(u,o,r),Et(u),s.stateNode=u):s.memoizedState=$b(s.type,r.memoizedProps,s.pendingProps,r.memoizedState),null;case 27:return ji(s),r===null&&We&&(u=s.stateNode=Fb(s.type,s.pendingProps,Re.current),bn=s,Pr=!0,d=vt,ls(s.type)?(Hp=d,vt=mr(u.firstChild)):vt=d),Zt(r,s,s.pendingProps.children,o),$f(r,s),r===null&&(s.flags|=4194304),s.child;case 5:return r===null&&We&&((d=u=vt)&&(u=qI(u,s.type,s.pendingProps,Pr),u!==null?(s.stateNode=u,bn=s,vt=mr(u.firstChild),Pr=!1,d=!0):d=!1),d||_a(s)),ji(s),d=s.type,g=s.pendingProps,T=r!==null?r.memoizedProps:null,u=g.children,Fp(d,g)?u=null:T!==null&&Fp(d,T)&&(s.flags|=32),s.memoizedState!==null&&(d=jm(r,s,uI,null,null,o),Lu._currentValue=d),$f(r,s),Zt(r,s,u,o),s.child;case 6:return r===null&&We&&((r=o=vt)&&(o=YI(o,s.pendingProps,Pr),o!==null?(s.stateNode=o,bn=s,vt=null,r=!0):r=!1),r||_a(s)),null;case 13:return L_(r,s,o);case 4:return Qe(s,s.stateNode.containerInfo),u=s.pendingProps,r===null?s.child=No(s,null,u,o):Zt(r,s,u,o),s.child;case 11:return x_(r,s,s.type,s.pendingProps,o);case 7:return Zt(r,s,s.pendingProps,o),s.child;case 8:return Zt(r,s,s.pendingProps.children,o),s.child;case 12:return Zt(r,s,s.pendingProps.children,o),s.child;case 10:return u=s.pendingProps,Gi(s,s.type,u.value),Zt(r,s,u.children,o),s.child;case 9:return d=s.type._context,u=s.pendingProps.children,Ea(s),d=ln(d),u=u(d),s.flags|=1,Zt(r,s,u,o),s.child;case 14:return C_(r,s,s.type,s.pendingProps,o);case 15:return D_(r,s,s.type,s.pendingProps,o);case 19:return U_(r,s,o);case 31:return u=s.pendingProps,o=s.mode,u={mode:u.mode,children:u.children},r===null?(o=Hf(u,o),o.ref=s.ref,s.child=o,o.return=s,s=o):(o=pi(r.child,u),o.ref=s.ref,s.child=o,o.return=s,s=o),s;case 22:return O_(r,s,o);case 24:return Ea(s),u=ln(Ut),r===null?(d=Dm(),d===null&&(d=ct,g=xm(),d.pooledCache=g,g.refCount++,g!==null&&(d.pooledCacheLanes|=o),d=g),s.memoizedState={parent:u,cache:d},Nm(s),Gi(s,Ut,d)):((r.lanes&o)!==0&&(Mm(r,s),mu(s,null,null,o),du()),d=r.memoizedState,g=s.memoizedState,d.parent!==u?(d={parent:u,cache:u},s.memoizedState=d,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=d),Gi(s,Ut,u)):(u=g.cache,Gi(s,Ut,u),u!==d.cache&&Im(s,[Ut],o,!0))),Zt(r,s,s.pendingProps.children,o),s.child;case 29:throw s.pendingProps}throw Error(i(156,s.tag))}function wi(r){r.flags|=4}function F_(r,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!Kb(s)){if(s=nr.current,s!==null&&((He&4194048)===He?Lr!==null:(He&62914560)!==He&&(He&536870912)===0||s!==Lr))throw fu=Om,w0;r.flags|=8192}}function qf(r,s){s!==null&&(r.flags|=4),r.flags&16384&&(s=r.tag!==22?Ul():536870912,r.lanes|=s,Lo|=s)}function Eu(r,s){if(!We)switch(r.tailMode){case"hidden":s=r.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?r.tail=null:o.sibling=null;break;case"collapsed":o=r.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:u.sibling=null}}function mt(r){var s=r.alternate!==null&&r.alternate.child===r.child,o=0,u=0;if(s)for(var d=r.child;d!==null;)o|=d.lanes|d.childLanes,u|=d.subtreeFlags&65011712,u|=d.flags&65011712,d.return=r,d=d.sibling;else for(d=r.child;d!==null;)o|=d.lanes|d.childLanes,u|=d.subtreeFlags,u|=d.flags,d.return=r,d=d.sibling;return r.subtreeFlags|=u,r.childLanes=o,s}function vI(r,s,o){var u=s.pendingProps;switch(wm(s),s.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return mt(s),null;case 1:return mt(s),null;case 3:return o=s.stateNode,u=null,r!==null&&(u=r.memoizedState.cache),s.memoizedState.cache!==u&&(s.flags|=2048),_i(Ut),an(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(r===null||r.child===null)&&(iu(s)?wi(s):r===null||r.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,v0())),mt(s),null;case 26:return o=s.memoizedState,r===null?(wi(s),o!==null?(mt(s),F_(s,o)):(mt(s),s.flags&=-16777217)):o?o!==r.memoizedState?(wi(s),mt(s),F_(s,o)):(mt(s),s.flags&=-16777217):(r.memoizedProps!==u&&wi(s),mt(s),s.flags&=-16777217),null;case 27:ni(s),o=Re.current;var d=s.type;if(r!==null&&s.stateNode!=null)r.memoizedProps!==u&&wi(s);else{if(!u){if(s.stateNode===null)throw Error(i(166));return mt(s),null}r=ve.current,iu(s)?g0(s):(r=Fb(d,u,o),s.stateNode=r,wi(s))}return mt(s),null;case 5:if(ni(s),o=s.type,r!==null&&s.stateNode!=null)r.memoizedProps!==u&&wi(s);else{if(!u){if(s.stateNode===null)throw Error(i(166));return mt(s),null}if(r=ve.current,iu(s))g0(s);else{switch(d=ih(Re.current),r){case 1:r=d.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:r=d.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":r=d.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":r=d.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":r=d.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof u.is=="string"?d.createElement("select",{is:u.is}):d.createElement("select"),u.multiple?r.multiple=!0:u.size&&(r.size=u.size);break;default:r=typeof u.is=="string"?d.createElement(o,{is:u.is}):d.createElement(o)}}r[Pt]=s,r[Rt]=u;e:for(d=s.child;d!==null;){if(d.tag===5||d.tag===6)r.appendChild(d.stateNode);else if(d.tag!==4&&d.tag!==27&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===s)break e;for(;d.sibling===null;){if(d.return===null||d.return===s)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}s.stateNode=r;e:switch(en(r,o,u),o){case"button":case"input":case"select":case"textarea":r=!!u.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&wi(s)}}return mt(s),s.flags&=-16777217,null;case 6:if(r&&s.stateNode!=null)r.memoizedProps!==u&&wi(s);else{if(typeof u!="string"&&s.stateNode===null)throw Error(i(166));if(r=Re.current,iu(s)){if(r=s.stateNode,o=s.memoizedProps,u=null,d=bn,d!==null)switch(d.tag){case 27:case 5:u=d.memoizedProps}r[Pt]=s,r=!!(r.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||Mb(r.nodeValue,o)),r||_a(s)}else r=ih(r).createTextNode(u),r[Pt]=s,s.stateNode=r}return mt(s),null;case 13:if(u=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(d=iu(s),u!==null&&u.dehydrated!==null){if(r===null){if(!d)throw Error(i(318));if(d=s.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(i(317));d[Pt]=s}else su(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;mt(s),d=!1}else d=v0(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=d),d=!0;if(!d)return s.flags&256?(Ei(s),s):(Ei(s),null)}if(Ei(s),(s.flags&128)!==0)return s.lanes=o,s;if(o=u!==null,r=r!==null&&r.memoizedState!==null,o){u=s.child,d=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(d=u.alternate.memoizedState.cachePool.pool);var g=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(g=u.memoizedState.cachePool.pool),g!==d&&(u.flags|=2048)}return o!==r&&o&&(s.child.flags|=8192),qf(s,s.updateQueue),mt(s),null;case 4:return an(),r===null&&Pp(s.stateNode.containerInfo),mt(s),null;case 10:return _i(s.type),mt(s),null;case 19:if(fe(jt),d=s.memoizedState,d===null)return mt(s),null;if(u=(s.flags&128)!==0,g=d.rendering,g===null)if(u)Eu(d,!1);else{if(_t!==0||r!==null&&(r.flags&128)!==0)for(r=s.child;r!==null;){if(g=Ff(r),g!==null){for(s.flags|=128,Eu(d,!1),r=g.updateQueue,s.updateQueue=r,qf(s,r),s.subtreeFlags=0,r=o,o=s.child;o!==null;)m0(o,r),o=o.sibling;return te(jt,jt.current&1|2),s.child}r=r.sibling}d.tail!==null&&Yn()>Kf&&(s.flags|=128,u=!0,Eu(d,!1),s.lanes=4194304)}else{if(!u)if(r=Ff(g),r!==null){if(s.flags|=128,u=!0,r=r.updateQueue,s.updateQueue=r,qf(s,r),Eu(d,!0),d.tail===null&&d.tailMode==="hidden"&&!g.alternate&&!We)return mt(s),null}else 2*Yn()-d.renderingStartTime>Kf&&o!==536870912&&(s.flags|=128,u=!0,Eu(d,!1),s.lanes=4194304);d.isBackwards?(g.sibling=s.child,s.child=g):(r=d.last,r!==null?r.sibling=g:s.child=g,d.last=g)}return d.tail!==null?(s=d.tail,d.rendering=s,d.tail=s.sibling,d.renderingStartTime=Yn(),s.sibling=null,r=jt.current,te(jt,u?r&1|2:r&1),s):(mt(s),null);case 22:case 23:return Ei(s),Vm(),u=s.memoizedState!==null,r!==null?r.memoizedState!==null!==u&&(s.flags|=8192):u&&(s.flags|=8192),u?(o&536870912)!==0&&(s.flags&128)===0&&(mt(s),s.subtreeFlags&6&&(s.flags|=8192)):mt(s),o=s.updateQueue,o!==null&&qf(s,o.retryQueue),o=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),u=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),u!==o&&(s.flags|=2048),r!==null&&fe(Ta),null;case 24:return o=null,r!==null&&(o=r.memoizedState.cache),s.memoizedState.cache!==o&&(s.flags|=2048),_i(Ut),mt(s),null;case 25:return null;case 30:return null}throw Error(i(156,s.tag))}function _I(r,s){switch(wm(s),s.tag){case 1:return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return _i(Ut),an(),r=s.flags,(r&65536)!==0&&(r&128)===0?(s.flags=r&-65537|128,s):null;case 26:case 27:case 5:return ni(s),null;case 13:if(Ei(s),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(i(340));su()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return fe(jt),null;case 4:return an(),null;case 10:return _i(s.type),null;case 22:case 23:return Ei(s),Vm(),r!==null&&fe(Ta),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 24:return _i(Ut),null;case 25:return null;default:return null}}function z_(r,s){switch(wm(s),s.tag){case 3:_i(Ut),an();break;case 26:case 27:case 5:ni(s);break;case 4:an();break;case 13:Ei(s);break;case 19:fe(jt);break;case 10:_i(s.type);break;case 22:case 23:Ei(s),Vm(),r!==null&&fe(Ta);break;case 24:_i(Ut)}}function Tu(r,s){try{var o=s.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var d=u.next;o=d;do{if((o.tag&r)===r){u=void 0;var g=o.create,T=o.inst;u=g(),T.destroy=u}o=o.next}while(o!==d)}}catch(S){lt(s,s.return,S)}}function es(r,s,o){try{var u=s.updateQueue,d=u!==null?u.lastEffect:null;if(d!==null){var g=d.next;u=g;do{if((u.tag&r)===r){var T=u.inst,S=T.destroy;if(S!==void 0){T.destroy=void 0,d=s;var U=o,Q=S;try{Q()}catch(ne){lt(d,U,ne)}}}u=u.next}while(u!==g)}}catch(ne){lt(s,s.return,ne)}}function B_(r){var s=r.updateQueue;if(s!==null){var o=r.stateNode;try{C0(s,o)}catch(u){lt(r,r.return,u)}}}function $_(r,s,o){o.props=Sa(r.type,r.memoizedProps),o.state=r.memoizedState;try{o.componentWillUnmount()}catch(u){lt(r,s,u)}}function wu(r,s){try{var o=r.ref;if(o!==null){switch(r.tag){case 26:case 27:case 5:var u=r.stateNode;break;case 30:u=r.stateNode;break;default:u=r.stateNode}typeof o=="function"?r.refCleanup=o(u):o.current=u}}catch(d){lt(r,s,d)}}function Vr(r,s){var o=r.ref,u=r.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(d){lt(r,s,d)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(d){lt(r,s,d)}else o.current=null}function H_(r){var s=r.type,o=r.memoizedProps,u=r.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break e;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(d){lt(r,r.return,d)}}function fp(r,s,o){try{var u=r.stateNode;FI(u,r.type,o,s),u[Rt]=s}catch(d){lt(r,r.return,d)}}function q_(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&ls(r.type)||r.tag===4}function hp(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||q_(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&ls(r.type)||r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function dp(r,s,o){var u=r.tag;if(u===5||u===6)r=r.stateNode,s?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(r,s):(s=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,s.appendChild(r),o=o._reactRootContainer,o!=null||s.onclick!==null||(s.onclick=rh));else if(u!==4&&(u===27&&ls(r.type)&&(o=r.stateNode,s=null),r=r.child,r!==null))for(dp(r,s,o),r=r.sibling;r!==null;)dp(r,s,o),r=r.sibling}function Yf(r,s,o){var u=r.tag;if(u===5||u===6)r=r.stateNode,s?o.insertBefore(r,s):o.appendChild(r);else if(u!==4&&(u===27&&ls(r.type)&&(o=r.stateNode),r=r.child,r!==null))for(Yf(r,s,o),r=r.sibling;r!==null;)Yf(r,s,o),r=r.sibling}function Y_(r){var s=r.stateNode,o=r.memoizedProps;try{for(var u=r.type,d=s.attributes;d.length;)s.removeAttributeNode(d[0]);en(s,u,o),s[Pt]=r,s[Rt]=o}catch(g){lt(r,r.return,g)}}var Si=!1,wt=!1,mp=!1,G_=typeof WeakSet=="function"?WeakSet:Set,qt=null;function bI(r,s){if(r=r.containerInfo,Up=ch,r=i0(r),hm(r)){if("selectionStart"in r)var o={start:r.selectionStart,end:r.selectionEnd};else e:{o=(o=r.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var d=u.anchorOffset,g=u.focusNode;u=u.focusOffset;try{o.nodeType,g.nodeType}catch{o=null;break e}var T=0,S=-1,U=-1,Q=0,ne=0,se=r,W=null;t:for(;;){for(var X;se!==o||d!==0&&se.nodeType!==3||(S=T+d),se!==g||u!==0&&se.nodeType!==3||(U=T+u),se.nodeType===3&&(T+=se.nodeValue.length),(X=se.firstChild)!==null;)W=se,se=X;for(;;){if(se===r)break t;if(W===o&&++Q===d&&(S=T),W===g&&++ne===u&&(U=T),(X=se.nextSibling)!==null)break;se=W,W=se.parentNode}se=X}o=S===-1||U===-1?null:{start:S,end:U}}else o=null}o=o||{start:0,end:0}}else o=null;for(jp={focusedElem:r,selectionRange:o},ch=!1,qt=s;qt!==null;)if(s=qt,r=s.child,(s.subtreeFlags&1024)!==0&&r!==null)r.return=s,qt=r;else for(;qt!==null;){switch(s=qt,g=s.alternate,r=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if((r&1024)!==0&&g!==null){r=void 0,o=s,d=g.memoizedProps,g=g.memoizedState,u=o.stateNode;try{var Ie=Sa(o.type,d,o.elementType===o.type);r=u.getSnapshotBeforeUpdate(Ie,g),u.__reactInternalSnapshotBeforeUpdate=r}catch(Te){lt(o,o.return,Te)}}break;case 3:if((r&1024)!==0){if(r=s.stateNode.containerInfo,o=r.nodeType,o===9)Bp(r);else if(o===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":Bp(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(i(163))}if(r=s.sibling,r!==null){r.return=s.return,qt=r;break}qt=s.return}}function K_(r,s,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:ts(r,o),u&4&&Tu(5,o);break;case 1:if(ts(r,o),u&4)if(r=o.stateNode,s===null)try{r.componentDidMount()}catch(T){lt(o,o.return,T)}else{var d=Sa(o.type,s.memoizedProps);s=s.memoizedState;try{r.componentDidUpdate(d,s,r.__reactInternalSnapshotBeforeUpdate)}catch(T){lt(o,o.return,T)}}u&64&&B_(o),u&512&&wu(o,o.return);break;case 3:if(ts(r,o),u&64&&(r=o.updateQueue,r!==null)){if(s=null,o.child!==null)switch(o.child.tag){case 27:case 5:s=o.child.stateNode;break;case 1:s=o.child.stateNode}try{C0(r,s)}catch(T){lt(o,o.return,T)}}break;case 27:s===null&&u&4&&Y_(o);case 26:case 5:ts(r,o),s===null&&u&4&&H_(o),u&512&&wu(o,o.return);break;case 12:ts(r,o);break;case 13:ts(r,o),u&4&&X_(r,o),u&64&&(r=o.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(o=CI.bind(null,o),GI(r,o))));break;case 22:if(u=o.memoizedState!==null||Si,!u){s=s!==null&&s.memoizedState!==null||wt,d=Si;var g=wt;Si=u,(wt=s)&&!g?ns(r,o,(o.subtreeFlags&8772)!==0):ts(r,o),Si=d,wt=g}break;case 30:break;default:ts(r,o)}}function Q_(r){var s=r.alternate;s!==null&&(r.alternate=null,Q_(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&$i(s)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var dt=null,In=!1;function Ai(r,s,o){for(o=o.child;o!==null;)W_(r,s,o),o=o.sibling}function W_(r,s,o){if(Je&&typeof Je.onCommitFiberUnmount=="function")try{Je.onCommitFiberUnmount(yt,o)}catch{}switch(o.tag){case 26:wt||Vr(o,s),Ai(r,s,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:wt||Vr(o,s);var u=dt,d=In;ls(o.type)&&(dt=o.stateNode,In=!1),Ai(r,s,o),Nu(o.stateNode),dt=u,In=d;break;case 5:wt||Vr(o,s);case 6:if(u=dt,d=In,dt=null,Ai(r,s,o),dt=u,In=d,dt!==null)if(In)try{(dt.nodeType===9?dt.body:dt.nodeName==="HTML"?dt.ownerDocument.body:dt).removeChild(o.stateNode)}catch(g){lt(o,s,g)}else try{dt.removeChild(o.stateNode)}catch(g){lt(o,s,g)}break;case 18:dt!==null&&(In?(r=dt,Ub(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,o.stateNode),Fu(r)):Ub(dt,o.stateNode));break;case 4:u=dt,d=In,dt=o.stateNode.containerInfo,In=!0,Ai(r,s,o),dt=u,In=d;break;case 0:case 11:case 14:case 15:wt||es(2,o,s),wt||es(4,o,s),Ai(r,s,o);break;case 1:wt||(Vr(o,s),u=o.stateNode,typeof u.componentWillUnmount=="function"&&$_(o,s,u)),Ai(r,s,o);break;case 21:Ai(r,s,o);break;case 22:wt=(u=wt)||o.memoizedState!==null,Ai(r,s,o),wt=u;break;default:Ai(r,s,o)}}function X_(r,s){if(s.memoizedState===null&&(r=s.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{Fu(r)}catch(o){lt(s,s.return,o)}}function EI(r){switch(r.tag){case 13:case 19:var s=r.stateNode;return s===null&&(s=r.stateNode=new G_),s;case 22:return r=r.stateNode,s=r._retryCache,s===null&&(s=r._retryCache=new G_),s;default:throw Error(i(435,r.tag))}}function pp(r,s){var o=EI(r);s.forEach(function(u){var d=DI.bind(null,r,u);o.has(u)||(o.add(u),u.then(d,d))})}function Ln(r,s){var o=s.deletions;if(o!==null)for(var u=0;u<o.length;u++){var d=o[u],g=r,T=s,S=T;e:for(;S!==null;){switch(S.tag){case 27:if(ls(S.type)){dt=S.stateNode,In=!1;break e}break;case 5:dt=S.stateNode,In=!1;break e;case 3:case 4:dt=S.stateNode.containerInfo,In=!0;break e}S=S.return}if(dt===null)throw Error(i(160));W_(g,T,d),dt=null,In=!1,g=d.alternate,g!==null&&(g.return=null),d.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)Z_(s,r),s=s.sibling}var dr=null;function Z_(r,s){var o=r.alternate,u=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:Ln(s,r),Vn(r),u&4&&(es(3,r,r.return),Tu(3,r),es(5,r,r.return));break;case 1:Ln(s,r),Vn(r),u&512&&(wt||o===null||Vr(o,o.return)),u&64&&Si&&(r=r.updateQueue,r!==null&&(u=r.callbacks,u!==null&&(o=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var d=dr;if(Ln(s,r),Vn(r),u&512&&(wt||o===null||Vr(o,o.return)),u&4){var g=o!==null?o.memoizedState:null;if(u=r.memoizedState,o===null)if(u===null)if(r.stateNode===null){e:{u=r.type,o=r.memoizedProps,d=d.ownerDocument||d;t:switch(u){case"title":g=d.getElementsByTagName("title")[0],(!g||g[Js]||g[Pt]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=d.createElement(u),d.head.insertBefore(g,d.querySelector("head > title"))),en(g,u,o),g[Pt]=r,Et(g),u=g;break e;case"link":var T=Yb("link","href",d).get(u+(o.href||""));if(T){for(var S=0;S<T.length;S++)if(g=T[S],g.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&g.getAttribute("rel")===(o.rel==null?null:o.rel)&&g.getAttribute("title")===(o.title==null?null:o.title)&&g.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){T.splice(S,1);break t}}g=d.createElement(u),en(g,u,o),d.head.appendChild(g);break;case"meta":if(T=Yb("meta","content",d).get(u+(o.content||""))){for(S=0;S<T.length;S++)if(g=T[S],g.getAttribute("content")===(o.content==null?null:""+o.content)&&g.getAttribute("name")===(o.name==null?null:o.name)&&g.getAttribute("property")===(o.property==null?null:o.property)&&g.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&g.getAttribute("charset")===(o.charSet==null?null:o.charSet)){T.splice(S,1);break t}}g=d.createElement(u),en(g,u,o),d.head.appendChild(g);break;default:throw Error(i(468,u))}g[Pt]=r,Et(g),u=g}r.stateNode=u}else Gb(d,r.type,r.stateNode);else r.stateNode=qb(d,u,r.memoizedProps);else g!==u?(g===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):g.count--,u===null?Gb(d,r.type,r.stateNode):qb(d,u,r.memoizedProps)):u===null&&r.stateNode!==null&&fp(r,r.memoizedProps,o.memoizedProps)}break;case 27:Ln(s,r),Vn(r),u&512&&(wt||o===null||Vr(o,o.return)),o!==null&&u&4&&fp(r,r.memoizedProps,o.memoizedProps);break;case 5:if(Ln(s,r),Vn(r),u&512&&(wt||o===null||Vr(o,o.return)),r.flags&32){d=r.stateNode;try{Kn(d,"")}catch(X){lt(r,r.return,X)}}u&4&&r.stateNode!=null&&(d=r.memoizedProps,fp(r,d,o!==null?o.memoizedProps:d)),u&1024&&(mp=!0);break;case 6:if(Ln(s,r),Vn(r),u&4){if(r.stateNode===null)throw Error(i(162));u=r.memoizedProps,o=r.stateNode;try{o.nodeValue=u}catch(X){lt(r,r.return,X)}}break;case 3:if(oh=null,d=dr,dr=sh(s.containerInfo),Ln(s,r),dr=d,Vn(r),u&4&&o!==null&&o.memoizedState.isDehydrated)try{Fu(s.containerInfo)}catch(X){lt(r,r.return,X)}mp&&(mp=!1,J_(r));break;case 4:u=dr,dr=sh(r.stateNode.containerInfo),Ln(s,r),Vn(r),dr=u;break;case 12:Ln(s,r),Vn(r);break;case 13:Ln(s,r),Vn(r),r.child.flags&8192&&r.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Ep=Yn()),u&4&&(u=r.updateQueue,u!==null&&(r.updateQueue=null,pp(r,u)));break;case 22:d=r.memoizedState!==null;var U=o!==null&&o.memoizedState!==null,Q=Si,ne=wt;if(Si=Q||d,wt=ne||U,Ln(s,r),wt=ne,Si=Q,Vn(r),u&8192)e:for(s=r.stateNode,s._visibility=d?s._visibility&-2:s._visibility|1,d&&(o===null||U||Si||wt||Aa(r)),o=null,s=r;;){if(s.tag===5||s.tag===26){if(o===null){U=o=s;try{if(g=U.stateNode,d)T=g.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{S=U.stateNode;var se=U.memoizedProps.style,W=se!=null&&se.hasOwnProperty("display")?se.display:null;S.style.display=W==null||typeof W=="boolean"?"":(""+W).trim()}}catch(X){lt(U,U.return,X)}}}else if(s.tag===6){if(o===null){U=s;try{U.stateNode.nodeValue=d?"":U.memoizedProps}catch(X){lt(U,U.return,X)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===r)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break e;for(;s.sibling===null;){if(s.return===null||s.return===r)break e;o===s&&(o=null),s=s.return}o===s&&(o=null),s.sibling.return=s.return,s=s.sibling}u&4&&(u=r.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,pp(r,o))));break;case 19:Ln(s,r),Vn(r),u&4&&(u=r.updateQueue,u!==null&&(r.updateQueue=null,pp(r,u)));break;case 30:break;case 21:break;default:Ln(s,r),Vn(r)}}function Vn(r){var s=r.flags;if(s&2){try{for(var o,u=r.return;u!==null;){if(q_(u)){o=u;break}u=u.return}if(o==null)throw Error(i(160));switch(o.tag){case 27:var d=o.stateNode,g=hp(r);Yf(r,g,d);break;case 5:var T=o.stateNode;o.flags&32&&(Kn(T,""),o.flags&=-33);var S=hp(r);Yf(r,S,T);break;case 3:case 4:var U=o.stateNode.containerInfo,Q=hp(r);dp(r,Q,U);break;default:throw Error(i(161))}}catch(ne){lt(r,r.return,ne)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function J_(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var s=r;J_(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),r=r.sibling}}function ts(r,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)K_(r,s.alternate,s),s=s.sibling}function Aa(r){for(r=r.child;r!==null;){var s=r;switch(s.tag){case 0:case 11:case 14:case 15:es(4,s,s.return),Aa(s);break;case 1:Vr(s,s.return);var o=s.stateNode;typeof o.componentWillUnmount=="function"&&$_(s,s.return,o),Aa(s);break;case 27:Nu(s.stateNode);case 26:case 5:Vr(s,s.return),Aa(s);break;case 22:s.memoizedState===null&&Aa(s);break;case 30:Aa(s);break;default:Aa(s)}r=r.sibling}}function ns(r,s,o){for(o=o&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var u=s.alternate,d=r,g=s,T=g.flags;switch(g.tag){case 0:case 11:case 15:ns(d,g,o),Tu(4,g);break;case 1:if(ns(d,g,o),u=g,d=u.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(Q){lt(u,u.return,Q)}if(u=g,d=u.updateQueue,d!==null){var S=u.stateNode;try{var U=d.shared.hiddenCallbacks;if(U!==null)for(d.shared.hiddenCallbacks=null,d=0;d<U.length;d++)x0(U[d],S)}catch(Q){lt(u,u.return,Q)}}o&&T&64&&B_(g),wu(g,g.return);break;case 27:Y_(g);case 26:case 5:ns(d,g,o),o&&u===null&&T&4&&H_(g),wu(g,g.return);break;case 12:ns(d,g,o);break;case 13:ns(d,g,o),o&&T&4&&X_(d,g);break;case 22:g.memoizedState===null&&ns(d,g,o),wu(g,g.return);break;case 30:break;default:ns(d,g,o)}s=s.sibling}}function gp(r,s){var o=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),r=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(r=s.memoizedState.cachePool.pool),r!==o&&(r!=null&&r.refCount++,o!=null&&lu(o))}function yp(r,s){r=null,s.alternate!==null&&(r=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==r&&(s.refCount++,r!=null&&lu(r))}function Ur(r,s,o,u){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)eb(r,s,o,u),s=s.sibling}function eb(r,s,o,u){var d=s.flags;switch(s.tag){case 0:case 11:case 15:Ur(r,s,o,u),d&2048&&Tu(9,s);break;case 1:Ur(r,s,o,u);break;case 3:Ur(r,s,o,u),d&2048&&(r=null,s.alternate!==null&&(r=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==r&&(s.refCount++,r!=null&&lu(r)));break;case 12:if(d&2048){Ur(r,s,o,u),r=s.stateNode;try{var g=s.memoizedProps,T=g.id,S=g.onPostCommit;typeof S=="function"&&S(T,s.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(U){lt(s,s.return,U)}}else Ur(r,s,o,u);break;case 13:Ur(r,s,o,u);break;case 23:break;case 22:g=s.stateNode,T=s.alternate,s.memoizedState!==null?g._visibility&2?Ur(r,s,o,u):Su(r,s):g._visibility&2?Ur(r,s,o,u):(g._visibility|=2,Mo(r,s,o,u,(s.subtreeFlags&10256)!==0)),d&2048&&gp(T,s);break;case 24:Ur(r,s,o,u),d&2048&&yp(s.alternate,s);break;default:Ur(r,s,o,u)}}function Mo(r,s,o,u,d){for(d=d&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var g=r,T=s,S=o,U=u,Q=T.flags;switch(T.tag){case 0:case 11:case 15:Mo(g,T,S,U,d),Tu(8,T);break;case 23:break;case 22:var ne=T.stateNode;T.memoizedState!==null?ne._visibility&2?Mo(g,T,S,U,d):Su(g,T):(ne._visibility|=2,Mo(g,T,S,U,d)),d&&Q&2048&&gp(T.alternate,T);break;case 24:Mo(g,T,S,U,d),d&&Q&2048&&yp(T.alternate,T);break;default:Mo(g,T,S,U,d)}s=s.sibling}}function Su(r,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var o=r,u=s,d=u.flags;switch(u.tag){case 22:Su(o,u),d&2048&&gp(u.alternate,u);break;case 24:Su(o,u),d&2048&&yp(u.alternate,u);break;default:Su(o,u)}s=s.sibling}}var Au=8192;function ko(r){if(r.subtreeFlags&Au)for(r=r.child;r!==null;)tb(r),r=r.sibling}function tb(r){switch(r.tag){case 26:ko(r),r.flags&Au&&r.memoizedState!==null&&ax(dr,r.memoizedState,r.memoizedProps);break;case 5:ko(r);break;case 3:case 4:var s=dr;dr=sh(r.stateNode.containerInfo),ko(r),dr=s;break;case 22:r.memoizedState===null&&(s=r.alternate,s!==null&&s.memoizedState!==null?(s=Au,Au=16777216,ko(r),Au=s):ko(r));break;default:ko(r)}}function nb(r){var s=r.alternate;if(s!==null&&(r=s.child,r!==null)){s.child=null;do s=r.sibling,r.sibling=null,r=s;while(r!==null)}}function Ru(r){var s=r.deletions;if((r.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var u=s[o];qt=u,ib(u,r)}nb(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)rb(r),r=r.sibling}function rb(r){switch(r.tag){case 0:case 11:case 15:Ru(r),r.flags&2048&&es(9,r,r.return);break;case 3:Ru(r);break;case 12:Ru(r);break;case 22:var s=r.stateNode;r.memoizedState!==null&&s._visibility&2&&(r.return===null||r.return.tag!==13)?(s._visibility&=-3,Gf(r)):Ru(r);break;default:Ru(r)}}function Gf(r){var s=r.deletions;if((r.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var u=s[o];qt=u,ib(u,r)}nb(r)}for(r=r.child;r!==null;){switch(s=r,s.tag){case 0:case 11:case 15:es(8,s,s.return),Gf(s);break;case 22:o=s.stateNode,o._visibility&2&&(o._visibility&=-3,Gf(s));break;default:Gf(s)}r=r.sibling}}function ib(r,s){for(;qt!==null;){var o=qt;switch(o.tag){case 0:case 11:case 15:es(8,o,s);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:lu(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,qt=u;else e:for(o=r;qt!==null;){u=qt;var d=u.sibling,g=u.return;if(Q_(u),u===o){qt=null;break e}if(d!==null){d.return=g,qt=d;break e}qt=g}}}var TI={getCacheForType:function(r){var s=ln(Ut),o=s.data.get(r);return o===void 0&&(o=r(),s.data.set(r,o)),o}},wI=typeof WeakMap=="function"?WeakMap:Map,et=0,ct=null,Ue=null,He=0,tt=0,Un=null,rs=!1,Po=!1,vp=!1,Ri=0,_t=0,is=0,Ra=0,_p=0,rr=0,Lo=0,Iu=null,xn=null,bp=!1,Ep=0,Kf=1/0,Qf=null,ss=null,Jt=0,as=null,Vo=null,Uo=0,Tp=0,wp=null,sb=null,xu=0,Sp=null;function jn(){if((et&2)!==0&&He!==0)return He&-He;if(Z.T!==null){var r=Ao;return r!==0?r:Op()}return zi()}function ab(){rr===0&&(rr=(He&536870912)===0||We?Vl():536870912);var r=nr.current;return r!==null&&(r.flags|=32),rr}function Fn(r,s,o){(r===ct&&(tt===2||tt===9)||r.cancelPendingCommit!==null)&&(jo(r,0),os(r,He,rr,!1)),ii(r,o),((et&2)===0||r!==ct)&&(r===ct&&((et&2)===0&&(Ra|=o),_t===4&&os(r,He,rr,!1)),jr(r))}function ob(r,s,o){if((et&6)!==0)throw Error(i(327));var u=!o&&(s&124)===0&&(s&r.expiredLanes)===0||Zs(r,s),d=u?RI(r,s):Ip(r,s,!0),g=u;do{if(d===0){Po&&!u&&os(r,s,0,!1);break}else{if(o=r.current.alternate,g&&!SI(o)){d=Ip(r,s,!1),g=!1;continue}if(d===2){if(g=s,r.errorRecoveryDisabledLanes&g)var T=0;else T=r.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){s=T;e:{var S=r;d=Iu;var U=S.current.memoizedState.isDehydrated;if(U&&(jo(S,T).flags|=256),T=Ip(S,T,!1),T!==2){if(vp&&!U){S.errorRecoveryDisabledLanes|=g,Ra|=g,d=4;break e}g=xn,xn=d,g!==null&&(xn===null?xn=g:xn.push.apply(xn,g))}d=T}if(g=!1,d!==2)continue}}if(d===1){jo(r,0),os(r,s,0,!0);break}e:{switch(u=r,g=d,g){case 0:case 1:throw Error(i(345));case 4:if((s&4194048)!==s)break;case 6:os(u,s,rr,!rs);break e;case 2:xn=null;break;case 3:case 5:break;default:throw Error(i(329))}if((s&62914560)===s&&(d=Ep+300-Yn(),10<d)){if(os(u,s,rr,!rs),to(u,0,!0)!==0)break e;u.timeoutHandle=Lb(lb.bind(null,u,o,xn,Qf,bp,s,rr,Ra,Lo,rs,g,2,-0,0),d);break e}lb(u,o,xn,Qf,bp,s,rr,Ra,Lo,rs,g,0,-0,0)}}break}while(!0);jr(r)}function lb(r,s,o,u,d,g,T,S,U,Q,ne,se,W,X){if(r.timeoutHandle=-1,se=s.subtreeFlags,(se&8192||(se&16785408)===16785408)&&(Pu={stylesheets:null,count:0,unsuspend:sx},tb(s),se=ox(),se!==null)){r.cancelPendingCommit=se(pb.bind(null,r,s,g,o,u,d,T,S,U,ne,1,W,X)),os(r,g,T,!Q);return}pb(r,s,g,o,u,d,T,S,U)}function SI(r){for(var s=r;;){var o=s.tag;if((o===0||o===11||o===15)&&s.flags&16384&&(o=s.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var d=o[u],g=d.getSnapshot;d=d.value;try{if(!kn(g(),d))return!1}catch{return!1}}if(o=s.child,s.subtreeFlags&16384&&o!==null)o.return=s,s=o;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function os(r,s,o,u){s&=~_p,s&=~Ra,r.suspendedLanes|=s,r.pingedLanes&=~s,u&&(r.warmLanes|=s),u=r.expirationTimes;for(var d=s;0<d;){var g=31-on(d),T=1<<g;u[g]=-1,d&=~T}o!==0&&Sr(r,o,s)}function Wf(){return(et&6)===0?(Cu(0),!1):!0}function Ap(){if(Ue!==null){if(tt===0)var r=Ue.return;else r=Ue,vi=ba=null,Bm(r),Oo=null,_u=0,r=Ue;for(;r!==null;)z_(r.alternate,r),r=r.return;Ue=null}}function jo(r,s){var o=r.timeoutHandle;o!==-1&&(r.timeoutHandle=-1,BI(o)),o=r.cancelPendingCommit,o!==null&&(r.cancelPendingCommit=null,o()),Ap(),ct=r,Ue=o=pi(r.current,null),He=s,tt=0,Un=null,rs=!1,Po=Zs(r,s),vp=!1,Lo=rr=_p=Ra=is=_t=0,xn=Iu=null,bp=!1,(s&8)!==0&&(s|=s&32);var u=r.entangledLanes;if(u!==0)for(r=r.entanglements,u&=s;0<u;){var d=31-on(u),g=1<<d;s|=r[d],u&=~g}return Ri=s,vf(),o}function ub(r,s){Pe=null,Z.H=Vf,s===cu||s===If?(s=R0(),tt=3):s===w0?(s=R0(),tt=4):tt=s===I_?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Un=s,Ue===null&&(_t=1,Bf(r,Zn(s,r.current)))}function cb(){var r=Z.H;return Z.H=Vf,r===null?Vf:r}function fb(){var r=Z.A;return Z.A=TI,r}function Rp(){_t=4,rs||(He&4194048)!==He&&nr.current!==null||(Po=!0),(is&134217727)===0&&(Ra&134217727)===0||ct===null||os(ct,He,rr,!1)}function Ip(r,s,o){var u=et;et|=2;var d=cb(),g=fb();(ct!==r||He!==s)&&(Qf=null,jo(r,s)),s=!1;var T=_t;e:do try{if(tt!==0&&Ue!==null){var S=Ue,U=Un;switch(tt){case 8:Ap(),T=6;break e;case 3:case 2:case 9:case 6:nr.current===null&&(s=!0);var Q=tt;if(tt=0,Un=null,Fo(r,S,U,Q),o&&Po){T=0;break e}break;default:Q=tt,tt=0,Un=null,Fo(r,S,U,Q)}}AI(),T=_t;break}catch(ne){ub(r,ne)}while(!0);return s&&r.shellSuspendCounter++,vi=ba=null,et=u,Z.H=d,Z.A=g,Ue===null&&(ct=null,He=0,vf()),T}function AI(){for(;Ue!==null;)hb(Ue)}function RI(r,s){var o=et;et|=2;var u=cb(),d=fb();ct!==r||He!==s?(Qf=null,Kf=Yn()+500,jo(r,s)):Po=Zs(r,s);e:do try{if(tt!==0&&Ue!==null){s=Ue;var g=Un;t:switch(tt){case 1:tt=0,Un=null,Fo(r,s,g,1);break;case 2:case 9:if(S0(g)){tt=0,Un=null,db(s);break}s=function(){tt!==2&&tt!==9||ct!==r||(tt=7),jr(r)},g.then(s,s);break e;case 3:tt=7;break e;case 4:tt=5;break e;case 7:S0(g)?(tt=0,Un=null,db(s)):(tt=0,Un=null,Fo(r,s,g,7));break;case 5:var T=null;switch(Ue.tag){case 26:T=Ue.memoizedState;case 5:case 27:var S=Ue;if(!T||Kb(T)){tt=0,Un=null;var U=S.sibling;if(U!==null)Ue=U;else{var Q=S.return;Q!==null?(Ue=Q,Xf(Q)):Ue=null}break t}}tt=0,Un=null,Fo(r,s,g,5);break;case 6:tt=0,Un=null,Fo(r,s,g,6);break;case 8:Ap(),_t=6;break e;default:throw Error(i(462))}}II();break}catch(ne){ub(r,ne)}while(!0);return vi=ba=null,Z.H=u,Z.A=d,et=o,Ue!==null?0:(ct=null,He=0,vf(),_t)}function II(){for(;Ue!==null&&!Ml();)hb(Ue)}function hb(r){var s=j_(r.alternate,r,Ri);r.memoizedProps=r.pendingProps,s===null?Xf(r):Ue=s}function db(r){var s=r,o=s.alternate;switch(s.tag){case 15:case 0:s=M_(o,s,s.pendingProps,s.type,void 0,He);break;case 11:s=M_(o,s,s.pendingProps,s.type.render,s.ref,He);break;case 5:Bm(s);default:z_(o,s),s=Ue=m0(s,Ri),s=j_(o,s,Ri)}r.memoizedProps=r.pendingProps,s===null?Xf(r):Ue=s}function Fo(r,s,o,u){vi=ba=null,Bm(s),Oo=null,_u=0;var d=s.return;try{if(gI(r,d,s,o,He)){_t=1,Bf(r,Zn(o,r.current)),Ue=null;return}}catch(g){if(d!==null)throw Ue=d,g;_t=1,Bf(r,Zn(o,r.current)),Ue=null;return}s.flags&32768?(We||u===1?r=!0:Po||(He&536870912)!==0?r=!1:(rs=r=!0,(u===2||u===9||u===3||u===6)&&(u=nr.current,u!==null&&u.tag===13&&(u.flags|=16384))),mb(s,r)):Xf(s)}function Xf(r){var s=r;do{if((s.flags&32768)!==0){mb(s,rs);return}r=s.return;var o=vI(s.alternate,s,Ri);if(o!==null){Ue=o;return}if(s=s.sibling,s!==null){Ue=s;return}Ue=s=r}while(s!==null);_t===0&&(_t=5)}function mb(r,s){do{var o=_I(r.alternate,r);if(o!==null){o.flags&=32767,Ue=o;return}if(o=r.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!s&&(r=r.sibling,r!==null)){Ue=r;return}Ue=r=o}while(r!==null);_t=6,Ue=null}function pb(r,s,o,u,d,g,T,S,U){r.cancelPendingCommit=null;do Zf();while(Jt!==0);if((et&6)!==0)throw Error(i(327));if(s!==null){if(s===r.current)throw Error(i(177));if(g=s.lanes|s.childLanes,g|=ym,jl(r,o,g,T,S,U),r===ct&&(Ue=ct=null,He=0),Vo=s,as=r,Uo=o,Tp=g,wp=d,sb=u,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,OI(Ks,function(){return bb(),null})):(r.callbackNode=null,r.callbackPriority=0),u=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||u){u=Z.T,Z.T=null,d=ue.p,ue.p=2,T=et,et|=4;try{bI(r,s,o)}finally{et=T,ue.p=d,Z.T=u}}Jt=1,gb(),yb(),vb()}}function gb(){if(Jt===1){Jt=0;var r=as,s=Vo,o=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||o){o=Z.T,Z.T=null;var u=ue.p;ue.p=2;var d=et;et|=4;try{Z_(s,r);var g=jp,T=i0(r.containerInfo),S=g.focusedElem,U=g.selectionRange;if(T!==S&&S&&S.ownerDocument&&r0(S.ownerDocument.documentElement,S)){if(U!==null&&hm(S)){var Q=U.start,ne=U.end;if(ne===void 0&&(ne=Q),"selectionStart"in S)S.selectionStart=Q,S.selectionEnd=Math.min(ne,S.value.length);else{var se=S.ownerDocument||document,W=se&&se.defaultView||window;if(W.getSelection){var X=W.getSelection(),Ie=S.textContent.length,Te=Math.min(U.start,Ie),st=U.end===void 0?Te:Math.min(U.end,Ie);!X.extend&&Te>st&&(T=st,st=Te,Te=T);var $=n0(S,Te),j=n0(S,st);if($&&j&&(X.rangeCount!==1||X.anchorNode!==$.node||X.anchorOffset!==$.offset||X.focusNode!==j.node||X.focusOffset!==j.offset)){var G=se.createRange();G.setStart($.node,$.offset),X.removeAllRanges(),Te>st?(X.addRange(G),X.extend(j.node,j.offset)):(G.setEnd(j.node,j.offset),X.addRange(G))}}}}for(se=[],X=S;X=X.parentNode;)X.nodeType===1&&se.push({element:X,left:X.scrollLeft,top:X.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<se.length;S++){var ie=se[S];ie.element.scrollLeft=ie.left,ie.element.scrollTop=ie.top}}ch=!!Up,jp=Up=null}finally{et=d,ue.p=u,Z.T=o}}r.current=s,Jt=2}}function yb(){if(Jt===2){Jt=0;var r=as,s=Vo,o=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||o){o=Z.T,Z.T=null;var u=ue.p;ue.p=2;var d=et;et|=4;try{K_(r,s.alternate,s)}finally{et=d,ue.p=u,Z.T=o}}Jt=3}}function vb(){if(Jt===4||Jt===3){Jt=0,Yc();var r=as,s=Vo,o=Uo,u=sb;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?Jt=5:(Jt=0,Vo=as=null,_b(r,r.pendingLanes));var d=r.pendingLanes;if(d===0&&(ss=null),no(o),s=s.stateNode,Je&&typeof Je.onCommitFiberRoot=="function")try{Je.onCommitFiberRoot(yt,s,void 0,(s.current.flags&128)===128)}catch{}if(u!==null){s=Z.T,d=ue.p,ue.p=2,Z.T=null;try{for(var g=r.onRecoverableError,T=0;T<u.length;T++){var S=u[T];g(S.value,{componentStack:S.stack})}}finally{Z.T=s,ue.p=d}}(Uo&3)!==0&&Zf(),jr(r),d=r.pendingLanes,(o&4194090)!==0&&(d&42)!==0?r===Sp?xu++:(xu=0,Sp=r):xu=0,Cu(0)}}function _b(r,s){(r.pooledCacheLanes&=s)===0&&(s=r.pooledCache,s!=null&&(r.pooledCache=null,lu(s)))}function Zf(r){return gb(),yb(),vb(),bb()}function bb(){if(Jt!==5)return!1;var r=as,s=Tp;Tp=0;var o=no(Uo),u=Z.T,d=ue.p;try{ue.p=32>o?32:o,Z.T=null,o=wp,wp=null;var g=as,T=Uo;if(Jt=0,Vo=as=null,Uo=0,(et&6)!==0)throw Error(i(331));var S=et;if(et|=4,rb(g.current),eb(g,g.current,T,o),et=S,Cu(0,!1),Je&&typeof Je.onPostCommitFiberRoot=="function")try{Je.onPostCommitFiberRoot(yt,g)}catch{}return!0}finally{ue.p=d,Z.T=u,_b(r,s)}}function Eb(r,s,o){s=Zn(o,s),s=np(r.stateNode,s,2),r=Wi(r,s,2),r!==null&&(ii(r,2),jr(r))}function lt(r,s,o){if(r.tag===3)Eb(r,r,o);else for(;s!==null;){if(s.tag===3){Eb(s,r,o);break}else if(s.tag===1){var u=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(ss===null||!ss.has(u))){r=Zn(o,r),o=A_(2),u=Wi(s,o,2),u!==null&&(R_(o,u,s,r),ii(u,2),jr(u));break}}s=s.return}}function xp(r,s,o){var u=r.pingCache;if(u===null){u=r.pingCache=new wI;var d=new Set;u.set(s,d)}else d=u.get(s),d===void 0&&(d=new Set,u.set(s,d));d.has(o)||(vp=!0,d.add(o),r=xI.bind(null,r,s,o),s.then(r,r))}function xI(r,s,o){var u=r.pingCache;u!==null&&u.delete(s),r.pingedLanes|=r.suspendedLanes&o,r.warmLanes&=~o,ct===r&&(He&o)===o&&(_t===4||_t===3&&(He&62914560)===He&&300>Yn()-Ep?(et&2)===0&&jo(r,0):_p|=o,Lo===He&&(Lo=0)),jr(r)}function Tb(r,s){s===0&&(s=Ul()),r=Eo(r,s),r!==null&&(ii(r,s),jr(r))}function CI(r){var s=r.memoizedState,o=0;s!==null&&(o=s.retryLane),Tb(r,o)}function DI(r,s){var o=0;switch(r.tag){case 13:var u=r.stateNode,d=r.memoizedState;d!==null&&(o=d.retryLane);break;case 19:u=r.stateNode;break;case 22:u=r.stateNode._retryCache;break;default:throw Error(i(314))}u!==null&&u.delete(s),Tb(r,o)}function OI(r,s){return Ys(r,s)}var Jf=null,zo=null,Cp=!1,eh=!1,Dp=!1,Ia=0;function jr(r){r!==zo&&r.next===null&&(zo===null?Jf=zo=r:zo=zo.next=r),eh=!0,Cp||(Cp=!0,MI())}function Cu(r,s){if(!Dp&&eh){Dp=!0;do for(var o=!1,u=Jf;u!==null;){if(r!==0){var d=u.pendingLanes;if(d===0)var g=0;else{var T=u.suspendedLanes,S=u.pingedLanes;g=(1<<31-on(42|r)+1)-1,g&=d&~(T&~S),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(o=!0,Rb(u,g))}else g=He,g=to(u,u===ct?g:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(g&3)===0||Zs(u,g)||(o=!0,Rb(u,g));u=u.next}while(o);Dp=!1}}function NI(){wb()}function wb(){eh=Cp=!1;var r=0;Ia!==0&&(zI()&&(r=Ia),Ia=0);for(var s=Yn(),o=null,u=Jf;u!==null;){var d=u.next,g=Sb(u,s);g===0?(u.next=null,o===null?Jf=d:o.next=d,d===null&&(zo=o)):(o=u,(r!==0||(g&3)!==0)&&(eh=!0)),u=d}Cu(r)}function Sb(r,s){for(var o=r.suspendedLanes,u=r.pingedLanes,d=r.expirationTimes,g=r.pendingLanes&-62914561;0<g;){var T=31-on(g),S=1<<T,U=d[T];U===-1?((S&o)===0||(S&u)!==0)&&(d[T]=Ll(S,s)):U<=s&&(r.expiredLanes|=S),g&=~S}if(s=ct,o=He,o=to(r,r===s?o:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),u=r.callbackNode,o===0||r===s&&(tt===2||tt===9)||r.cancelPendingCommit!==null)return u!==null&&u!==null&&Gs(u),r.callbackNode=null,r.callbackPriority=0;if((o&3)===0||Zs(r,o)){if(s=o&-o,s===r.callbackPriority)return s;switch(u!==null&&Gs(u),no(o)){case 2:case 8:o=Ja;break;case 32:o=Ks;break;case 268435456:o=eo;break;default:o=Ks}return u=Ab.bind(null,r),o=Ys(o,u),r.callbackPriority=s,r.callbackNode=o,s}return u!==null&&u!==null&&Gs(u),r.callbackPriority=2,r.callbackNode=null,2}function Ab(r,s){if(Jt!==0&&Jt!==5)return r.callbackNode=null,r.callbackPriority=0,null;var o=r.callbackNode;if(Zf()&&r.callbackNode!==o)return null;var u=He;return u=to(r,r===ct?u:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),u===0?null:(ob(r,u,s),Sb(r,Yn()),r.callbackNode!=null&&r.callbackNode===o?Ab.bind(null,r):null)}function Rb(r,s){if(Zf())return null;ob(r,s,!0)}function MI(){$I(function(){(et&6)!==0?Ys(kl,NI):wb()})}function Op(){return Ia===0&&(Ia=Vl()),Ia}function Ib(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:lo(""+r)}function xb(r,s){var o=s.ownerDocument.createElement("input");return o.name=s.name,o.value=s.value,r.id&&o.setAttribute("form",r.id),s.parentNode.insertBefore(o,s),r=new FormData(r),o.parentNode.removeChild(o),r}function kI(r,s,o,u,d){if(s==="submit"&&o&&o.stateNode===d){var g=Ib((d[Rt]||null).action),T=u.submitter;T&&(s=(s=T[Rt]||null)?Ib(s.formAction):T.getAttribute("formAction"),s!==null&&(g=s,T=null));var S=new uo("action","action",null,u,d);r.push({event:S,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(Ia!==0){var U=T?xb(d,T):new FormData(d);Xm(o,{pending:!0,data:U,method:d.method,action:g},null,U)}}else typeof g=="function"&&(S.preventDefault(),U=T?xb(d,T):new FormData(d),Xm(o,{pending:!0,data:U,method:d.method,action:g},g,U))},currentTarget:d}]})}}for(var Np=0;Np<gm.length;Np++){var Mp=gm[Np],PI=Mp.toLowerCase(),LI=Mp[0].toUpperCase()+Mp.slice(1);hr(PI,"on"+LI)}hr(o0,"onAnimationEnd"),hr(l0,"onAnimationIteration"),hr(u0,"onAnimationStart"),hr("dblclick","onDoubleClick"),hr("focusin","onFocus"),hr("focusout","onBlur"),hr(JR,"onTransitionRun"),hr(eI,"onTransitionStart"),hr(tI,"onTransitionCancel"),hr(c0,"onTransitionEnd"),ai("onMouseEnter",["mouseout","mouseover"]),ai("onMouseLeave",["mouseout","mouseover"]),ai("onPointerEnter",["pointerout","pointerover"]),ai("onPointerLeave",["pointerout","pointerover"]),cr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),cr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),cr("onBeforeInput",["compositionend","keypress","textInput","paste"]),cr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),cr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),cr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Du="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),VI=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Du));function Cb(r,s){s=(s&4)!==0;for(var o=0;o<r.length;o++){var u=r[o],d=u.event;u=u.listeners;e:{var g=void 0;if(s)for(var T=u.length-1;0<=T;T--){var S=u[T],U=S.instance,Q=S.currentTarget;if(S=S.listener,U!==g&&d.isPropagationStopped())break e;g=S,d.currentTarget=Q;try{g(d)}catch(ne){zf(ne)}d.currentTarget=null,g=U}else for(T=0;T<u.length;T++){if(S=u[T],U=S.instance,Q=S.currentTarget,S=S.listener,U!==g&&d.isPropagationStopped())break e;g=S,d.currentTarget=Q;try{g(d)}catch(ne){zf(ne)}d.currentTarget=null,g=U}}}}function je(r,s){var o=s[zl];o===void 0&&(o=s[zl]=new Set);var u=r+"__bubble";o.has(u)||(Db(s,r,2,!1),o.add(u))}function kp(r,s,o){var u=0;s&&(u|=4),Db(o,r,u,s)}var th="_reactListening"+Math.random().toString(36).slice(2);function Pp(r){if(!r[th]){r[th]=!0,Bl.forEach(function(o){o!=="selectionchange"&&(VI.has(o)||kp(o,!1,r),kp(o,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[th]||(s[th]=!0,kp("selectionchange",!1,s))}}function Db(r,s,o,u){switch(eE(s)){case 2:var d=cx;break;case 8:d=fx;break;default:d=Qp}o=d.bind(null,s,o,r),d=void 0,!Wn||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(d=!0),u?d!==void 0?r.addEventListener(s,o,{capture:!0,passive:d}):r.addEventListener(s,o,!0):d!==void 0?r.addEventListener(s,o,{passive:d}):r.addEventListener(s,o,!1)}function Lp(r,s,o,u,d){var g=u;if((s&1)===0&&(s&2)===0&&u!==null)e:for(;;){if(u===null)return;var T=u.tag;if(T===3||T===4){var S=u.stateNode.containerInfo;if(S===d)break;if(T===4)for(T=u.return;T!==null;){var U=T.tag;if((U===3||U===4)&&T.stateNode.containerInfo===d)return;T=T.return}for(;S!==null;){if(T=si(S),T===null)return;if(U=T.tag,U===5||U===6||U===26||U===27){u=g=T;continue e}S=S.parentNode}}u=u.return}nf(function(){var Q=g,ne=Qn(o),se=[];e:{var W=f0.get(r);if(W!==void 0){var X=uo,Ie=r;switch(r){case"keypress":if(Dr(o)===0)break e;case"keydown":case"keyup":X=go;break;case"focusin":Ie="focus",X=ho;break;case"focusout":Ie="blur",X=ho;break;case"beforeblur":case"afterblur":X=ho;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":X=Xn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":X=lm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":X=ff;break;case o0:case l0:case u0:X=mo;break;case c0:X=df;break;case"scroll":case"scrollend":X=rf;break;case"wheel":X=yo;break;case"copy":case"cut":case"paste":X=po;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":X=eu;break;case"toggle":case"beforetoggle":X=pf}var Te=(s&4)!==0,st=!Te&&(r==="scroll"||r==="scrollend"),$=Te?W!==null?W+"Capture":null:W;Te=[];for(var j=Q,G;j!==null;){var ie=j;if(G=ie.stateNode,ie=ie.tag,ie!==5&&ie!==26&&ie!==27||G===null||$===null||(ie=aa(j,$),ie!=null&&Te.push(Ou(j,ie,G))),st)break;j=j.return}0<Te.length&&(W=new X(W,Ie,null,o,ne),se.push({event:W,listeners:Te}))}}if((s&7)===0){e:{if(W=r==="mouseover"||r==="pointerover",X=r==="mouseout"||r==="pointerout",W&&o!==ui&&(Ie=o.relatedTarget||o.fromElement)&&(si(Ie)||Ie[Gn]))break e;if((X||W)&&(W=ne.window===ne?ne:(W=ne.ownerDocument)?W.defaultView||W.parentWindow:window,X?(Ie=o.relatedTarget||o.toElement,X=Q,Ie=Ie?si(Ie):null,Ie!==null&&(st=l(Ie),Te=Ie.tag,Ie!==st||Te!==5&&Te!==27&&Te!==6)&&(Ie=null)):(X=null,Ie=Q),X!==Ie)){if(Te=Xn,ie="onMouseLeave",$="onMouseEnter",j="mouse",(r==="pointerout"||r==="pointerover")&&(Te=eu,ie="onPointerLeave",$="onPointerEnter",j="pointer"),st=X==null?W:Rr(X),G=Ie==null?W:Rr(Ie),W=new Te(ie,j+"leave",X,o,ne),W.target=st,W.relatedTarget=G,ie=null,si(ne)===Q&&(Te=new Te($,j+"enter",Ie,o,ne),Te.target=G,Te.relatedTarget=st,ie=Te),st=ie,X&&Ie)t:{for(Te=X,$=Ie,j=0,G=Te;G;G=Bo(G))j++;for(G=0,ie=$;ie;ie=Bo(ie))G++;for(;0<j-G;)Te=Bo(Te),j--;for(;0<G-j;)$=Bo($),G--;for(;j--;){if(Te===$||$!==null&&Te===$.alternate)break t;Te=Bo(Te),$=Bo($)}Te=null}else Te=null;X!==null&&Ob(se,W,X,Te,!1),Ie!==null&&st!==null&&Ob(se,st,Ie,Te,!0)}}e:{if(W=Q?Rr(Q):window,X=W.nodeName&&W.nodeName.toLowerCase(),X==="select"||X==="input"&&W.type==="file")var ye=Wv;else if(Vt(W))if(Xv)ye=WR;else{ye=KR;var Ve=GR}else X=W.nodeName,!X||X.toLowerCase()!=="input"||W.type!=="checkbox"&&W.type!=="radio"?Q&&Gl(Q.elementType)&&(ye=Wv):ye=QR;if(ye&&(ye=ye(r,Q))){mi(se,ye,o,ne);break e}Ve&&Ve(r,W,Q),r==="focusout"&&Q&&W.type==="number"&&Q.memoizedProps.value!=null&&qi(W,"number",W.value)}switch(Ve=Q?Rr(Q):window,r){case"focusin":(Vt(Ve)||Ve.contentEditable==="true")&&(vo=Ve,dm=Q,ru=null);break;case"focusout":ru=dm=vo=null;break;case"mousedown":mm=!0;break;case"contextmenu":case"mouseup":case"dragend":mm=!1,s0(se,o,ne);break;case"selectionchange":if(ZR)break;case"keydown":case"keyup":s0(se,o,ne)}var _e;if(Mr)e:{switch(r){case"compositionstart":var we="onCompositionStart";break e;case"compositionend":we="onCompositionEnd";break e;case"compositionupdate":we="onCompositionUpdate";break e}we=void 0}else Be?J(r,o)&&(we="onCompositionEnd"):r==="keydown"&&o.keyCode===229&&(we="onCompositionStart");we&&(E&&o.locale!=="ko"&&(Be||we!=="onCompositionStart"?we==="onCompositionEnd"&&Be&&(_e=Ql()):(Cr=ne,Yi="value"in Cr?Cr.value:Cr.textContent,Be=!0)),Ve=nh(Q,we),0<Ve.length&&(we=new Zl(we,r,null,o,ne),se.push({event:we,listeners:Ve}),_e?we.data=_e:(_e=he(o),_e!==null&&(we.data=_e)))),(_e=v?Lt(r,o):$e(r,o))&&(we=nh(Q,"onBeforeInput"),0<we.length&&(Ve=new Zl("onBeforeInput","beforeinput",null,o,ne),se.push({event:Ve,listeners:we}),Ve.data=_e)),kI(se,r,Q,o,ne)}Cb(se,s)})}function Ou(r,s,o){return{instance:r,listener:s,currentTarget:o}}function nh(r,s){for(var o=s+"Capture",u=[];r!==null;){var d=r,g=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||g===null||(d=aa(r,o),d!=null&&u.unshift(Ou(r,d,g)),d=aa(r,s),d!=null&&u.push(Ou(r,d,g))),r.tag===3)return u;r=r.return}return[]}function Bo(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function Ob(r,s,o,u,d){for(var g=s._reactName,T=[];o!==null&&o!==u;){var S=o,U=S.alternate,Q=S.stateNode;if(S=S.tag,U!==null&&U===u)break;S!==5&&S!==26&&S!==27||Q===null||(U=Q,d?(Q=aa(o,g),Q!=null&&T.unshift(Ou(o,Q,U))):d||(Q=aa(o,g),Q!=null&&T.push(Ou(o,Q,U)))),o=o.return}T.length!==0&&r.push({event:s,listeners:T})}var UI=/\r\n?/g,jI=/\u0000|\uFFFD/g;function Nb(r){return(typeof r=="string"?r:""+r).replace(UI,`
`).replace(jI,"")}function Mb(r,s){return s=Nb(s),Nb(r)===s}function rh(){}function it(r,s,o,u,d,g){switch(o){case"children":typeof u=="string"?s==="body"||s==="textarea"&&u===""||Kn(r,u):(typeof u=="number"||typeof u=="bigint")&&s!=="body"&&Kn(r,""+u);break;case"className":Ir(r,"class",u);break;case"tabIndex":Ir(r,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Ir(r,o,u);break;case"style":Yl(r,u,g);break;case"data":if(s!=="object"){Ir(r,"data",u);break}case"src":case"href":if(u===""&&(s!=="a"||o!=="href")){r.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){r.removeAttribute(o);break}u=lo(""+u),r.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){r.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(o==="formAction"?(s!=="input"&&it(r,s,"name",d.name,d,null),it(r,s,"formEncType",d.formEncType,d,null),it(r,s,"formMethod",d.formMethod,d,null),it(r,s,"formTarget",d.formTarget,d,null)):(it(r,s,"encType",d.encType,d,null),it(r,s,"method",d.method,d,null),it(r,s,"target",d.target,d,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){r.removeAttribute(o);break}u=lo(""+u),r.setAttribute(o,u);break;case"onClick":u!=null&&(r.onclick=rh);break;case"onScroll":u!=null&&je("scroll",r);break;case"onScrollEnd":u!=null&&je("scrollend",r);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(o=u.__html,o!=null){if(d.children!=null)throw Error(i(60));r.innerHTML=o}}break;case"multiple":r.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":r.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){r.removeAttribute("xlink:href");break}o=lo(""+u),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(o,""+u):r.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(o,""):r.removeAttribute(o);break;case"capture":case"download":u===!0?r.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(o,u):r.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?r.setAttribute(o,u):r.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?r.removeAttribute(o):r.setAttribute(o,u);break;case"popover":je("beforetoggle",r),je("toggle",r),Hi(r,"popover",u);break;case"xlinkActuate":Wt(r,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Wt(r,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Wt(r,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Wt(r,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Wt(r,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Wt(r,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Wt(r,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Wt(r,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Wt(r,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Hi(r,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=am.get(o)||o,Hi(r,o,u))}}function Vp(r,s,o,u,d,g){switch(o){case"style":Yl(r,u,g);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(o=u.__html,o!=null){if(d.children!=null)throw Error(i(60));r.innerHTML=o}}break;case"children":typeof u=="string"?Kn(r,u):(typeof u=="number"||typeof u=="bigint")&&Kn(r,""+u);break;case"onScroll":u!=null&&je("scroll",r);break;case"onScrollEnd":u!=null&&je("scrollend",r);break;case"onClick":u!=null&&(r.onclick=rh);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ro.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(d=o.endsWith("Capture"),s=o.slice(2,d?o.length-7:void 0),g=r[Rt]||null,g=g!=null?g[o]:null,typeof g=="function"&&r.removeEventListener(s,g,d),typeof u=="function")){typeof g!="function"&&g!==null&&(o in r?r[o]=null:r.hasAttribute(o)&&r.removeAttribute(o)),r.addEventListener(s,u,d);break e}o in r?r[o]=u:u===!0?r.setAttribute(o,""):Hi(r,o,u)}}}function en(r,s,o){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":je("error",r),je("load",r);var u=!1,d=!1,g;for(g in o)if(o.hasOwnProperty(g)){var T=o[g];if(T!=null)switch(g){case"src":u=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:it(r,s,g,T,o,null)}}d&&it(r,s,"srcSet",o.srcSet,o,null),u&&it(r,s,"src",o.src,o,null);return;case"input":je("invalid",r);var S=g=T=d=null,U=null,Q=null;for(u in o)if(o.hasOwnProperty(u)){var ne=o[u];if(ne!=null)switch(u){case"name":d=ne;break;case"type":T=ne;break;case"checked":U=ne;break;case"defaultChecked":Q=ne;break;case"value":g=ne;break;case"defaultValue":S=ne;break;case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(i(137,s));break;default:it(r,s,u,ne,o,null)}}ra(r,g,S,U,Q,T,d,!1),oo(r);return;case"select":je("invalid",r),u=T=g=null;for(d in o)if(o.hasOwnProperty(d)&&(S=o[d],S!=null))switch(d){case"value":g=S;break;case"defaultValue":T=S;break;case"multiple":u=S;default:it(r,s,d,S,o,null)}s=g,o=T,r.multiple=!!u,s!=null?li(r,!!u,s,!1):o!=null&&li(r,!!u,o,!0);return;case"textarea":je("invalid",r),g=d=u=null;for(T in o)if(o.hasOwnProperty(T)&&(S=o[T],S!=null))switch(T){case"value":u=S;break;case"defaultValue":d=S;break;case"children":g=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(i(91));break;default:it(r,s,T,S,o,null)}ia(r,u,d,g),oo(r);return;case"option":for(U in o)if(o.hasOwnProperty(U)&&(u=o[U],u!=null))switch(U){case"selected":r.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:it(r,s,U,u,o,null)}return;case"dialog":je("beforetoggle",r),je("toggle",r),je("cancel",r),je("close",r);break;case"iframe":case"object":je("load",r);break;case"video":case"audio":for(u=0;u<Du.length;u++)je(Du[u],r);break;case"image":je("error",r),je("load",r);break;case"details":je("toggle",r);break;case"embed":case"source":case"link":je("error",r),je("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Q in o)if(o.hasOwnProperty(Q)&&(u=o[Q],u!=null))switch(Q){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:it(r,s,Q,u,o,null)}return;default:if(Gl(s)){for(ne in o)o.hasOwnProperty(ne)&&(u=o[ne],u!==void 0&&Vp(r,s,ne,u,o,void 0));return}}for(S in o)o.hasOwnProperty(S)&&(u=o[S],u!=null&&it(r,s,S,u,o,null))}function FI(r,s,o,u){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,g=null,T=null,S=null,U=null,Q=null,ne=null;for(X in o){var se=o[X];if(o.hasOwnProperty(X)&&se!=null)switch(X){case"checked":break;case"value":break;case"defaultValue":U=se;default:u.hasOwnProperty(X)||it(r,s,X,null,u,se)}}for(var W in u){var X=u[W];if(se=o[W],u.hasOwnProperty(W)&&(X!=null||se!=null))switch(W){case"type":g=X;break;case"name":d=X;break;case"checked":Q=X;break;case"defaultChecked":ne=X;break;case"value":T=X;break;case"defaultValue":S=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(i(137,s));break;default:X!==se&&it(r,s,W,X,u,se)}}Mn(r,T,S,U,Q,ne,g,d);return;case"select":X=T=S=W=null;for(g in o)if(U=o[g],o.hasOwnProperty(g)&&U!=null)switch(g){case"value":break;case"multiple":X=U;default:u.hasOwnProperty(g)||it(r,s,g,null,u,U)}for(d in u)if(g=u[d],U=o[d],u.hasOwnProperty(d)&&(g!=null||U!=null))switch(d){case"value":W=g;break;case"defaultValue":S=g;break;case"multiple":T=g;default:g!==U&&it(r,s,d,g,u,U)}s=S,o=T,u=X,W!=null?li(r,!!o,W,!1):!!u!=!!o&&(s!=null?li(r,!!o,s,!0):li(r,!!o,o?[]:"",!1));return;case"textarea":X=W=null;for(S in o)if(d=o[S],o.hasOwnProperty(S)&&d!=null&&!u.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:it(r,s,S,null,u,d)}for(T in u)if(d=u[T],g=o[T],u.hasOwnProperty(T)&&(d!=null||g!=null))switch(T){case"value":W=d;break;case"defaultValue":X=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(i(91));break;default:d!==g&&it(r,s,T,d,u,g)}nt(r,W,X);return;case"option":for(var Ie in o)if(W=o[Ie],o.hasOwnProperty(Ie)&&W!=null&&!u.hasOwnProperty(Ie))switch(Ie){case"selected":r.selected=!1;break;default:it(r,s,Ie,null,u,W)}for(U in u)if(W=u[U],X=o[U],u.hasOwnProperty(U)&&W!==X&&(W!=null||X!=null))switch(U){case"selected":r.selected=W&&typeof W!="function"&&typeof W!="symbol";break;default:it(r,s,U,W,u,X)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Te in o)W=o[Te],o.hasOwnProperty(Te)&&W!=null&&!u.hasOwnProperty(Te)&&it(r,s,Te,null,u,W);for(Q in u)if(W=u[Q],X=o[Q],u.hasOwnProperty(Q)&&W!==X&&(W!=null||X!=null))switch(Q){case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(i(137,s));break;default:it(r,s,Q,W,u,X)}return;default:if(Gl(s)){for(var st in o)W=o[st],o.hasOwnProperty(st)&&W!==void 0&&!u.hasOwnProperty(st)&&Vp(r,s,st,void 0,u,W);for(ne in u)W=u[ne],X=o[ne],!u.hasOwnProperty(ne)||W===X||W===void 0&&X===void 0||Vp(r,s,ne,W,u,X);return}}for(var $ in o)W=o[$],o.hasOwnProperty($)&&W!=null&&!u.hasOwnProperty($)&&it(r,s,$,null,u,W);for(se in u)W=u[se],X=o[se],!u.hasOwnProperty(se)||W===X||W==null&&X==null||it(r,s,se,W,u,X)}var Up=null,jp=null;function ih(r){return r.nodeType===9?r:r.ownerDocument}function kb(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Pb(r,s){if(r===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&s==="foreignObject"?0:r}function Fp(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var zp=null;function zI(){var r=window.event;return r&&r.type==="popstate"?r===zp?!1:(zp=r,!0):(zp=null,!1)}var Lb=typeof setTimeout=="function"?setTimeout:void 0,BI=typeof clearTimeout=="function"?clearTimeout:void 0,Vb=typeof Promise=="function"?Promise:void 0,$I=typeof queueMicrotask=="function"?queueMicrotask:typeof Vb<"u"?function(r){return Vb.resolve(null).then(r).catch(HI)}:Lb;function HI(r){setTimeout(function(){throw r})}function ls(r){return r==="head"}function Ub(r,s){var o=s,u=0,d=0;do{var g=o.nextSibling;if(r.removeChild(o),g&&g.nodeType===8)if(o=g.data,o==="/$"){if(0<u&&8>u){o=u;var T=r.ownerDocument;if(o&1&&Nu(T.documentElement),o&2&&Nu(T.body),o&4)for(o=T.head,Nu(o),T=o.firstChild;T;){var S=T.nextSibling,U=T.nodeName;T[Js]||U==="SCRIPT"||U==="STYLE"||U==="LINK"&&T.rel.toLowerCase()==="stylesheet"||o.removeChild(T),T=S}}if(d===0){r.removeChild(g),Fu(s);return}d--}else o==="$"||o==="$?"||o==="$!"?d++:u=o.charCodeAt(0)-48;else u=0;o=g}while(o);Fu(s)}function Bp(r){var s=r.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var o=s;switch(s=s.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":Bp(o),$i(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}r.removeChild(o)}}function qI(r,s,o,u){for(;r.nodeType===1;){var d=o;if(r.nodeName.toLowerCase()!==s.toLowerCase()){if(!u&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(u){if(!r[Js])switch(s){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(g=r.getAttribute("rel"),g==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(g!==d.rel||r.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||r.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||r.getAttribute("title")!==(d.title==null?null:d.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(g=r.getAttribute("src"),(g!==(d.src==null?null:d.src)||r.getAttribute("type")!==(d.type==null?null:d.type)||r.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&g&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(s==="input"&&r.type==="hidden"){var g=d.name==null?null:""+d.name;if(d.type==="hidden"&&r.getAttribute("name")===g)return r}else return r;if(r=mr(r.nextSibling),r===null)break}return null}function YI(r,s,o){if(s==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!o||(r=mr(r.nextSibling),r===null))return null;return r}function $p(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState==="complete"}function GI(r,s){var o=r.ownerDocument;if(r.data!=="$?"||o.readyState==="complete")s();else{var u=function(){s(),o.removeEventListener("DOMContentLoaded",u)};o.addEventListener("DOMContentLoaded",u),r._reactRetry=u}}function mr(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return r}var Hp=null;function jb(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var o=r.data;if(o==="$"||o==="$!"||o==="$?"){if(s===0)return r;s--}else o==="/$"&&s++}r=r.previousSibling}return null}function Fb(r,s,o){switch(s=ih(o),r){case"html":if(r=s.documentElement,!r)throw Error(i(452));return r;case"head":if(r=s.head,!r)throw Error(i(453));return r;case"body":if(r=s.body,!r)throw Error(i(454));return r;default:throw Error(i(451))}}function Nu(r){for(var s=r.attributes;s.length;)r.removeAttributeNode(s[0]);$i(r)}var ir=new Map,zb=new Set;function sh(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var Ii=ue.d;ue.d={f:KI,r:QI,D:WI,C:XI,L:ZI,m:JI,X:tx,S:ex,M:nx};function KI(){var r=Ii.f(),s=Wf();return r||s}function QI(r){var s=Ar(r);s!==null&&s.tag===5&&s.type==="form"?o_(s):Ii.r(r)}var $o=typeof document>"u"?null:document;function Bb(r,s,o){var u=$o;if(u&&typeof s=="string"&&s){var d=It(s);d='link[rel="'+r+'"][href="'+d+'"]',typeof o=="string"&&(d+='[crossorigin="'+o+'"]'),zb.has(d)||(zb.add(d),r={rel:r,crossOrigin:o,href:s},u.querySelector(d)===null&&(s=u.createElement("link"),en(s,"link",r),Et(s),u.head.appendChild(s)))}}function WI(r){Ii.D(r),Bb("dns-prefetch",r,null)}function XI(r,s){Ii.C(r,s),Bb("preconnect",r,s)}function ZI(r,s,o){Ii.L(r,s,o);var u=$o;if(u&&r&&s){var d='link[rel="preload"][as="'+It(s)+'"]';s==="image"&&o&&o.imageSrcSet?(d+='[imagesrcset="'+It(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(d+='[imagesizes="'+It(o.imageSizes)+'"]')):d+='[href="'+It(r)+'"]';var g=d;switch(s){case"style":g=Ho(r);break;case"script":g=qo(r)}ir.has(g)||(r=y({rel:"preload",href:s==="image"&&o&&o.imageSrcSet?void 0:r,as:s},o),ir.set(g,r),u.querySelector(d)!==null||s==="style"&&u.querySelector(Mu(g))||s==="script"&&u.querySelector(ku(g))||(s=u.createElement("link"),en(s,"link",r),Et(s),u.head.appendChild(s)))}}function JI(r,s){Ii.m(r,s);var o=$o;if(o&&r){var u=s&&typeof s.as=="string"?s.as:"script",d='link[rel="modulepreload"][as="'+It(u)+'"][href="'+It(r)+'"]',g=d;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=qo(r)}if(!ir.has(g)&&(r=y({rel:"modulepreload",href:r},s),ir.set(g,r),o.querySelector(d)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(ku(g)))return}u=o.createElement("link"),en(u,"link",r),Et(u),o.head.appendChild(u)}}}function ex(r,s,o){Ii.S(r,s,o);var u=$o;if(u&&r){var d=yn(u).hoistableStyles,g=Ho(r);s=s||"default";var T=d.get(g);if(!T){var S={loading:0,preload:null};if(T=u.querySelector(Mu(g)))S.loading=5;else{r=y({rel:"stylesheet",href:r,"data-precedence":s},o),(o=ir.get(g))&&qp(r,o);var U=T=u.createElement("link");Et(U),en(U,"link",r),U._p=new Promise(function(Q,ne){U.onload=Q,U.onerror=ne}),U.addEventListener("load",function(){S.loading|=1}),U.addEventListener("error",function(){S.loading|=2}),S.loading|=4,ah(T,s,u)}T={type:"stylesheet",instance:T,count:1,state:S},d.set(g,T)}}}function tx(r,s){Ii.X(r,s);var o=$o;if(o&&r){var u=yn(o).hoistableScripts,d=qo(r),g=u.get(d);g||(g=o.querySelector(ku(d)),g||(r=y({src:r,async:!0},s),(s=ir.get(d))&&Yp(r,s),g=o.createElement("script"),Et(g),en(g,"link",r),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(d,g))}}function nx(r,s){Ii.M(r,s);var o=$o;if(o&&r){var u=yn(o).hoistableScripts,d=qo(r),g=u.get(d);g||(g=o.querySelector(ku(d)),g||(r=y({src:r,async:!0,type:"module"},s),(s=ir.get(d))&&Yp(r,s),g=o.createElement("script"),Et(g),en(g,"link",r),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(d,g))}}function $b(r,s,o,u){var d=(d=Re.current)?sh(d):null;if(!d)throw Error(i(446));switch(r){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(s=Ho(o.href),o=yn(d).hoistableStyles,u=o.get(s),u||(u={type:"style",instance:null,count:0,state:null},o.set(s,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){r=Ho(o.href);var g=yn(d).hoistableStyles,T=g.get(r);if(T||(d=d.ownerDocument||d,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(r,T),(g=d.querySelector(Mu(r)))&&!g._p&&(T.instance=g,T.state.loading=5),ir.has(r)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},ir.set(r,o),g||rx(d,r,o,T.state))),s&&u===null)throw Error(i(528,""));return T}if(s&&u!==null)throw Error(i(529,""));return null;case"script":return s=o.async,o=o.src,typeof o=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=qo(o),o=yn(d).hoistableScripts,u=o.get(s),u||(u={type:"script",instance:null,count:0,state:null},o.set(s,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,r))}}function Ho(r){return'href="'+It(r)+'"'}function Mu(r){return'link[rel="stylesheet"]['+r+"]"}function Hb(r){return y({},r,{"data-precedence":r.precedence,precedence:null})}function rx(r,s,o,u){r.querySelector('link[rel="preload"][as="style"]['+s+"]")?u.loading=1:(s=r.createElement("link"),u.preload=s,s.addEventListener("load",function(){return u.loading|=1}),s.addEventListener("error",function(){return u.loading|=2}),en(s,"link",o),Et(s),r.head.appendChild(s))}function qo(r){return'[src="'+It(r)+'"]'}function ku(r){return"script[async]"+r}function qb(r,s,o){if(s.count++,s.instance===null)switch(s.type){case"style":var u=r.querySelector('style[data-href~="'+It(o.href)+'"]');if(u)return s.instance=u,Et(u),u;var d=y({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(r.ownerDocument||r).createElement("style"),Et(u),en(u,"style",d),ah(u,o.precedence,r),s.instance=u;case"stylesheet":d=Ho(o.href);var g=r.querySelector(Mu(d));if(g)return s.state.loading|=4,s.instance=g,Et(g),g;u=Hb(o),(d=ir.get(d))&&qp(u,d),g=(r.ownerDocument||r).createElement("link"),Et(g);var T=g;return T._p=new Promise(function(S,U){T.onload=S,T.onerror=U}),en(g,"link",u),s.state.loading|=4,ah(g,o.precedence,r),s.instance=g;case"script":return g=qo(o.src),(d=r.querySelector(ku(g)))?(s.instance=d,Et(d),d):(u=o,(d=ir.get(g))&&(u=y({},o),Yp(u,d)),r=r.ownerDocument||r,d=r.createElement("script"),Et(d),en(d,"link",u),r.head.appendChild(d),s.instance=d);case"void":return null;default:throw Error(i(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(u=s.instance,s.state.loading|=4,ah(u,o.precedence,r));return s.instance}function ah(r,s,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=u.length?u[u.length-1]:null,g=d,T=0;T<u.length;T++){var S=u[T];if(S.dataset.precedence===s)g=S;else if(g!==d)break}g?g.parentNode.insertBefore(r,g.nextSibling):(s=o.nodeType===9?o.head:o,s.insertBefore(r,s.firstChild))}function qp(r,s){r.crossOrigin==null&&(r.crossOrigin=s.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=s.referrerPolicy),r.title==null&&(r.title=s.title)}function Yp(r,s){r.crossOrigin==null&&(r.crossOrigin=s.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=s.referrerPolicy),r.integrity==null&&(r.integrity=s.integrity)}var oh=null;function Yb(r,s,o){if(oh===null){var u=new Map,d=oh=new Map;d.set(o,u)}else d=oh,u=d.get(o),u||(u=new Map,d.set(o,u));if(u.has(r))return u;for(u.set(r,null),o=o.getElementsByTagName(r),d=0;d<o.length;d++){var g=o[d];if(!(g[Js]||g[Pt]||r==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var T=g.getAttribute(s)||"";T=r+T;var S=u.get(T);S?S.push(g):u.set(T,[g])}}return u}function Gb(r,s,o){r=r.ownerDocument||r,r.head.insertBefore(o,s==="title"?r.querySelector("head > title"):null)}function ix(r,s,o){if(o===1||s.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return r=s.disabled,typeof s.precedence=="string"&&r==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function Kb(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}var Pu=null;function sx(){}function ax(r,s,o){if(Pu===null)throw Error(i(475));var u=Pu;if(s.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var d=Ho(o.href),g=r.querySelector(Mu(d));if(g){r=g._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(u.count++,u=lh.bind(u),r.then(u,u)),s.state.loading|=4,s.instance=g,Et(g);return}g=r.ownerDocument||r,o=Hb(o),(d=ir.get(d))&&qp(o,d),g=g.createElement("link"),Et(g);var T=g;T._p=new Promise(function(S,U){T.onload=S,T.onerror=U}),en(g,"link",o),s.instance=g}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(s,r),(r=s.state.preload)&&(s.state.loading&3)===0&&(u.count++,s=lh.bind(u),r.addEventListener("load",s),r.addEventListener("error",s))}}function ox(){if(Pu===null)throw Error(i(475));var r=Pu;return r.stylesheets&&r.count===0&&Gp(r,r.stylesheets),0<r.count?function(s){var o=setTimeout(function(){if(r.stylesheets&&Gp(r,r.stylesheets),r.unsuspend){var u=r.unsuspend;r.unsuspend=null,u()}},6e4);return r.unsuspend=s,function(){r.unsuspend=null,clearTimeout(o)}}:null}function lh(){if(this.count--,this.count===0){if(this.stylesheets)Gp(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var uh=null;function Gp(r,s){r.stylesheets=null,r.unsuspend!==null&&(r.count++,uh=new Map,s.forEach(lx,r),uh=null,lh.call(r))}function lx(r,s){if(!(s.state.loading&4)){var o=uh.get(r);if(o)var u=o.get(null);else{o=new Map,uh.set(r,o);for(var d=r.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<d.length;g++){var T=d[g];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(o.set(T.dataset.precedence,T),u=T)}u&&o.set(null,u)}d=s.instance,T=d.getAttribute("data-precedence"),g=o.get(T)||u,g===u&&o.set(null,d),o.set(T,d),this.count++,u=lh.bind(this),d.addEventListener("load",u),d.addEventListener("error",u),g?g.parentNode.insertBefore(d,g.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(d,r.firstChild)),s.state.loading|=4}}var Lu={$$typeof:q,Provider:null,Consumer:null,_currentValue:ce,_currentValue2:ce,_threadCount:0};function ux(r,s,o,u,d,g,T,S){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ri(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ri(0),this.hiddenUpdates=ri(null),this.identifierPrefix=u,this.onUncaughtError=d,this.onCaughtError=g,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=S,this.incompleteTransitions=new Map}function Qb(r,s,o,u,d,g,T,S,U,Q,ne,se){return r=new ux(r,s,o,T,S,U,Q,se),s=1,g===!0&&(s|=24),g=Pn(3,null,null,s),r.current=g,g.stateNode=r,s=xm(),s.refCount++,r.pooledCache=s,s.refCount++,g.memoizedState={element:u,isDehydrated:o,cache:s},Nm(g),r}function Wb(r){return r?(r=To,r):To}function Xb(r,s,o,u,d,g){d=Wb(d),u.context===null?u.context=d:u.pendingContext=d,u=Qi(s),u.payload={element:o},g=g===void 0?null:g,g!==null&&(u.callback=g),o=Wi(r,u,s),o!==null&&(Fn(o,r,s),hu(o,r,s))}function Zb(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var o=r.retryLane;r.retryLane=o!==0&&o<s?o:s}}function Kp(r,s){Zb(r,s),(r=r.alternate)&&Zb(r,s)}function Jb(r){if(r.tag===13){var s=Eo(r,67108864);s!==null&&Fn(s,r,67108864),Kp(r,67108864)}}var ch=!0;function cx(r,s,o,u){var d=Z.T;Z.T=null;var g=ue.p;try{ue.p=2,Qp(r,s,o,u)}finally{ue.p=g,Z.T=d}}function fx(r,s,o,u){var d=Z.T;Z.T=null;var g=ue.p;try{ue.p=8,Qp(r,s,o,u)}finally{ue.p=g,Z.T=d}}function Qp(r,s,o,u){if(ch){var d=Wp(u);if(d===null)Lp(r,s,u,fh,o),tE(r,u);else if(dx(d,r,s,o,u))u.stopPropagation();else if(tE(r,u),s&4&&-1<hx.indexOf(r)){for(;d!==null;){var g=Ar(d);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var T=ur(g.pendingLanes);if(T!==0){var S=g;for(S.pendingLanes|=2,S.entangledLanes|=2;T;){var U=1<<31-on(T);S.entanglements[1]|=U,T&=~U}jr(g),(et&6)===0&&(Kf=Yn()+500,Cu(0))}}break;case 13:S=Eo(g,2),S!==null&&Fn(S,g,2),Wf(),Kp(g,2)}if(g=Wp(u),g===null&&Lp(r,s,u,fh,o),g===d)break;d=g}d!==null&&u.stopPropagation()}else Lp(r,s,u,null,o)}}function Wp(r){return r=Qn(r),Xp(r)}var fh=null;function Xp(r){if(fh=null,r=si(r),r!==null){var s=l(r);if(s===null)r=null;else{var o=s.tag;if(o===13){if(r=c(s),r!==null)return r;r=null}else if(o===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null)}}return fh=r,null}function eE(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(em()){case kl:return 2;case Ja:return 8;case Ks:case tm:return 32;case eo:return 268435456;default:return 32}default:return 32}}var Zp=!1,us=null,cs=null,fs=null,Vu=new Map,Uu=new Map,hs=[],hx="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function tE(r,s){switch(r){case"focusin":case"focusout":us=null;break;case"dragenter":case"dragleave":cs=null;break;case"mouseover":case"mouseout":fs=null;break;case"pointerover":case"pointerout":Vu.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Uu.delete(s.pointerId)}}function ju(r,s,o,u,d,g){return r===null||r.nativeEvent!==g?(r={blockedOn:s,domEventName:o,eventSystemFlags:u,nativeEvent:g,targetContainers:[d]},s!==null&&(s=Ar(s),s!==null&&Jb(s)),r):(r.eventSystemFlags|=u,s=r.targetContainers,d!==null&&s.indexOf(d)===-1&&s.push(d),r)}function dx(r,s,o,u,d){switch(s){case"focusin":return us=ju(us,r,s,o,u,d),!0;case"dragenter":return cs=ju(cs,r,s,o,u,d),!0;case"mouseover":return fs=ju(fs,r,s,o,u,d),!0;case"pointerover":var g=d.pointerId;return Vu.set(g,ju(Vu.get(g)||null,r,s,o,u,d)),!0;case"gotpointercapture":return g=d.pointerId,Uu.set(g,ju(Uu.get(g)||null,r,s,o,u,d)),!0}return!1}function nE(r){var s=si(r.target);if(s!==null){var o=l(s);if(o!==null){if(s=o.tag,s===13){if(s=c(o),s!==null){r.blockedOn=s,Qc(r.priority,function(){if(o.tag===13){var u=jn();u=Fi(u);var d=Eo(o,u);d!==null&&Fn(d,o,u),Kp(o,u)}});return}}else if(s===3&&o.stateNode.current.memoizedState.isDehydrated){r.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}r.blockedOn=null}function hh(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var o=Wp(r.nativeEvent);if(o===null){o=r.nativeEvent;var u=new o.constructor(o.type,o);ui=u,o.target.dispatchEvent(u),ui=null}else return s=Ar(o),s!==null&&Jb(s),r.blockedOn=o,!1;s.shift()}return!0}function rE(r,s,o){hh(r)&&o.delete(s)}function mx(){Zp=!1,us!==null&&hh(us)&&(us=null),cs!==null&&hh(cs)&&(cs=null),fs!==null&&hh(fs)&&(fs=null),Vu.forEach(rE),Uu.forEach(rE)}function dh(r,s){r.blockedOn===s&&(r.blockedOn=null,Zp||(Zp=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,mx)))}var mh=null;function iE(r){mh!==r&&(mh=r,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){mh===r&&(mh=null);for(var s=0;s<r.length;s+=3){var o=r[s],u=r[s+1],d=r[s+2];if(typeof u!="function"){if(Xp(u||o)===null)continue;break}var g=Ar(o);g!==null&&(r.splice(s,3),s-=3,Xm(g,{pending:!0,data:d,method:o.method,action:u},u,d))}}))}function Fu(r){function s(U){return dh(U,r)}us!==null&&dh(us,r),cs!==null&&dh(cs,r),fs!==null&&dh(fs,r),Vu.forEach(s),Uu.forEach(s);for(var o=0;o<hs.length;o++){var u=hs[o];u.blockedOn===r&&(u.blockedOn=null)}for(;0<hs.length&&(o=hs[0],o.blockedOn===null);)nE(o),o.blockedOn===null&&hs.shift();if(o=(r.ownerDocument||r).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var d=o[u],g=o[u+1],T=d[Rt]||null;if(typeof g=="function")T||iE(o);else if(T){var S=null;if(g&&g.hasAttribute("formAction")){if(d=g,T=g[Rt]||null)S=T.formAction;else if(Xp(d)!==null)continue}else S=T.action;typeof S=="function"?o[u+1]=S:(o.splice(u,3),u-=3),iE(o)}}}function Jp(r){this._internalRoot=r}ph.prototype.render=Jp.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(i(409));var o=s.current,u=jn();Xb(o,u,r,s,null,null)},ph.prototype.unmount=Jp.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;Xb(r.current,2,null,r,null,null),Wf(),s[Gn]=null}};function ph(r){this._internalRoot=r}ph.prototype.unstable_scheduleHydration=function(r){if(r){var s=zi();r={blockedOn:null,target:r,priority:s};for(var o=0;o<hs.length&&s!==0&&s<hs[o].priority;o++);hs.splice(o,0,r),o===0&&nE(r)}};var sE=e.version;if(sE!=="19.1.0")throw Error(i(527,sE,"19.1.0"));ue.findDOMNode=function(r){var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(i(188)):(r=Object.keys(r).join(","),Error(i(268,r)));return r=m(s),r=r!==null?p(r):null,r=r===null?null:r.stateNode,r};var px={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:Z,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var gh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!gh.isDisabled&&gh.supportsFiber)try{yt=gh.inject(px),Je=gh}catch{}}return Bu.createRoot=function(r,s){if(!a(r))throw Error(i(299));var o=!1,u="",d=E_,g=T_,T=w_,S=null;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(u=s.identifierPrefix),s.onUncaughtError!==void 0&&(d=s.onUncaughtError),s.onCaughtError!==void 0&&(g=s.onCaughtError),s.onRecoverableError!==void 0&&(T=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(S=s.unstable_transitionCallbacks)),s=Qb(r,1,!1,null,null,o,u,d,g,T,S,null),r[Gn]=s.current,Pp(r),new Jp(s)},Bu.hydrateRoot=function(r,s,o){if(!a(r))throw Error(i(299));var u=!1,d="",g=E_,T=T_,S=w_,U=null,Q=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(d=o.identifierPrefix),o.onUncaughtError!==void 0&&(g=o.onUncaughtError),o.onCaughtError!==void 0&&(T=o.onCaughtError),o.onRecoverableError!==void 0&&(S=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(U=o.unstable_transitionCallbacks),o.formState!==void 0&&(Q=o.formState)),s=Qb(r,1,!0,s,o??null,u,d,g,T,S,U,Q),s.context=Wb(null),o=s.current,u=jn(),u=Fi(u),d=Qi(u),d.callback=null,Wi(o,d,u),o=u,s.current.lanes=o,ii(s,o),jr(s),r[Gn]=s.current,Pp(r),new ph(s)},Bu.version="19.1.0",Bu}var pE;function Rx(){if(pE)return ng.exports;pE=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),ng.exports=Ax(),ng.exports}var Ix=Rx();const xx=()=>{};var gE={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yw=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let a=n.charCodeAt(i);a<128?e[t++]=a:a<2048?(e[t++]=a>>6|192,e[t++]=a&63|128):(a&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(a=65536+((a&1023)<<10)+(n.charCodeAt(++i)&1023),e[t++]=a>>18|240,e[t++]=a>>12&63|128,e[t++]=a>>6&63|128,e[t++]=a&63|128):(e[t++]=a>>12|224,e[t++]=a>>6&63|128,e[t++]=a&63|128)}return e},Cx=function(n){const e=[];let t=0,i=0;for(;t<n.length;){const a=n[t++];if(a<128)e[i++]=String.fromCharCode(a);else if(a>191&&a<224){const l=n[t++];e[i++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=n[t++],c=n[t++],h=n[t++],m=((a&7)<<18|(l&63)<<12|(c&63)<<6|h&63)-65536;e[i++]=String.fromCharCode(55296+(m>>10)),e[i++]=String.fromCharCode(56320+(m&1023))}else{const l=n[t++],c=n[t++];e[i++]=String.fromCharCode((a&15)<<12|(l&63)<<6|c&63)}}return e.join("")},Gw={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let a=0;a<n.length;a+=3){const l=n[a],c=a+1<n.length,h=c?n[a+1]:0,m=a+2<n.length,p=m?n[a+2]:0,y=l>>2,_=(l&3)<<4|h>>4;let b=(h&15)<<2|p>>6,w=p&63;m||(w=64,c||(b=64)),i.push(t[y],t[_],t[b],t[w])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(Yw(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):Cx(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let a=0;a<n.length;){const l=t[n.charAt(a++)],h=a<n.length?t[n.charAt(a)]:0;++a;const p=a<n.length?t[n.charAt(a)]:64;++a;const _=a<n.length?t[n.charAt(a)]:64;if(++a,l==null||h==null||p==null||_==null)throw new Dx;const b=l<<2|h>>4;if(i.push(b),p!==64){const w=h<<4&240|p>>2;if(i.push(w),_!==64){const R=p<<6&192|_;i.push(R)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class Dx extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Ox=function(n){const e=Yw(n);return Gw.encodeByteArray(e,!0)},Fh=function(n){return Ox(n).replace(/\./g,"")},Kw=function(n){try{return Gw.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nx(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mx=()=>Nx().__FIREBASE_DEFAULTS__,kx=()=>{if(typeof process>"u"||typeof gE>"u")return;const n=gE.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},Px=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&Kw(n[1]);return e&&JSON.parse(e)},gd=()=>{try{return xx()||Mx()||kx()||Px()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},Qw=n=>{var e,t;return(t=(e=gd())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},Lx=n=>{const e=Qw(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},Ww=()=>{var n;return(n=gd())===null||n===void 0?void 0:n.config},Xw=n=>{var e;return(e=gd())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vx{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sc(n){return n.endsWith(".cloudworkstations.dev")}async function Zw(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ux(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",a=n.iat||0,l=n.sub||n.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Fh(JSON.stringify(t)),Fh(JSON.stringify(c)),""].join(".")}const Ju={};function jx(){const n={prod:[],emulator:[]};for(const e of Object.keys(Ju))Ju[e]?n.emulator.push(e):n.prod.push(e);return n}function Fx(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let yE=!1;function yd(n,e){if(typeof window>"u"||typeof document>"u"||!Sc(window.location.host)||Ju[n]===e||Ju[n]||yE)return;Ju[n]=e;function t(b){return`__firebase__banner__${b}`}const i="__firebase__banner",l=jx().prod.length>0;function c(){const b=document.getElementById(i);b&&b.remove()}function h(b){b.style.display="flex",b.style.background="#7faaf0",b.style.position="absolute",b.style.bottom="5px",b.style.left="5px",b.style.padding=".5em",b.style.borderRadius="5px",b.style.alignItems="center"}function m(b,w){b.setAttribute("width","24"),b.setAttribute("id",w),b.setAttribute("height","24"),b.setAttribute("viewBox","0 0 24 24"),b.setAttribute("fill","none"),b.style.marginLeft="-6px"}function p(){const b=document.createElement("span");return b.style.cursor="pointer",b.style.marginLeft="16px",b.style.fontSize="24px",b.innerHTML=" &times;",b.onclick=()=>{yE=!0,c()},b}function y(b,w){b.setAttribute("id",w),b.innerText="Learn more",b.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",b.setAttribute("target","__blank"),b.style.paddingLeft="5px",b.style.textDecoration="underline"}function _(){const b=Fx(i),w=t("text"),R=document.getElementById(w)||document.createElement("span"),C=t("learnmore"),D=document.getElementById(C)||document.createElement("a"),B=t("preprendIcon"),F=document.getElementById(B)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(b.created){const q=b.element;h(q),y(D,C);const H=p();m(F,B),q.append(F,R,D,H),document.body.appendChild(q)}l?(R.innerText="Preview backend disconnected.",F.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(F.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,R.innerText="Preview backend running in this workspace."),R.setAttribute("id",w)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",_):_()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function zx(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(gn())}function Bx(){var n;const e=(n=gd())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function $x(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Hx(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function qx(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Yx(){const n=gn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function Gx(){return!Bx()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Kx(){try{return typeof indexedDB=="object"}catch{return!1}}function Qx(){return new Promise((n,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(i);a.onsuccess=()=>{a.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},a.onupgradeneeded=()=>{t=!1},a.onerror=()=>{var l;e(((l=a.error)===null||l===void 0?void 0:l.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wx="FirebaseError";class Vi extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=Wx,Object.setPrototypeOf(this,Vi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ac.prototype.create)}}class Ac{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},a=`${this.service}/${e}`,l=this.errors[e],c=l?Xx(l,i):"Error",h=`${this.serviceName}: ${c} (${a}).`;return new Vi(a,h,i)}}function Xx(n,e){return n.replace(Zx,(t,i)=>{const a=e[i];return a!=null?String(a):`<${i}?>`})}const Zx=/\{\$([^}]+)}/g;function Jx(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Pa(n,e){if(n===e)return!0;const t=Object.keys(n),i=Object.keys(e);for(const a of t){if(!i.includes(a))return!1;const l=n[a],c=e[a];if(vE(l)&&vE(c)){if(!Pa(l,c))return!1}else if(l!==c)return!1}for(const a of i)if(!t.includes(a))return!1;return!0}function vE(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rc(n){const e=[];for(const[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(a=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function Hu(n){const e={};return n.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[a,l]=i.split("=");e[decodeURIComponent(a)]=decodeURIComponent(l)}}),e}function qu(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function eC(n,e){const t=new tC(n,e);return t.subscribe.bind(t)}class tC{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let a;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");nC(e,["next","error","complete"])?a=e:a={next:e,error:t,complete:i},a.next===void 0&&(a.next=ag),a.error===void 0&&(a.error=ag),a.complete===void 0&&(a.complete=ag);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function nC(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function ag(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mt(n){return n&&n._delegate?n._delegate:n}class La{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xa="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rC{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new Vx;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:t});a&&i.resolve(a)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),a=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(sC(e))try{this.getOrInitializeService({instanceIdentifier:xa})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:a});i.resolve(l)}catch{}}}}clearInstance(e=xa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=xa){return this.instances.has(e)}getOptions(e=xa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[l,c]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(l);i===h&&c.resolve(a)}return a}onInit(e,t){var i;const a=this.normalizeInstanceIdentifier(t),l=(i=this.onInitCallbacks.get(a))!==null&&i!==void 0?i:new Set;l.add(e),this.onInitCallbacks.set(a,l);const c=this.instances.get(a);return c&&e(c,a),()=>{l.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const a of i)try{a(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:iC(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=xa){return this.component?this.component.multipleInstances?e:xa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function iC(n){return n===xa?void 0:n}function sC(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aC{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new rC(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Fe;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Fe||(Fe={}));const oC={debug:Fe.DEBUG,verbose:Fe.VERBOSE,info:Fe.INFO,warn:Fe.WARN,error:Fe.ERROR,silent:Fe.SILENT},lC=Fe.INFO,uC={[Fe.DEBUG]:"log",[Fe.VERBOSE]:"log",[Fe.INFO]:"info",[Fe.WARN]:"warn",[Fe.ERROR]:"error"},cC=(n,e,...t)=>{if(e<n.logLevel)return;const i=new Date().toISOString(),a=uC[e];if(a)console[a](`[${i}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Dy{constructor(e){this.name=e,this._logLevel=lC,this._logHandler=cC,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Fe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?oC[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Fe.DEBUG,...e),this._logHandler(this,Fe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Fe.VERBOSE,...e),this._logHandler(this,Fe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Fe.INFO,...e),this._logHandler(this,Fe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Fe.WARN,...e),this._logHandler(this,Fe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Fe.ERROR,...e),this._logHandler(this,Fe.ERROR,...e)}}const fC=(n,e)=>e.some(t=>n instanceof t);let _E,bE;function hC(){return _E||(_E=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function dC(){return bE||(bE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Jw=new WeakMap,Pg=new WeakMap,e1=new WeakMap,og=new WeakMap,Oy=new WeakMap;function mC(n){const e=new Promise((t,i)=>{const a=()=>{n.removeEventListener("success",l),n.removeEventListener("error",c)},l=()=>{t(Ss(n.result)),a()},c=()=>{i(n.error),a()};n.addEventListener("success",l),n.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&Jw.set(t,n)}).catch(()=>{}),Oy.set(e,n),e}function pC(n){if(Pg.has(n))return;const e=new Promise((t,i)=>{const a=()=>{n.removeEventListener("complete",l),n.removeEventListener("error",c),n.removeEventListener("abort",c)},l=()=>{t(),a()},c=()=>{i(n.error||new DOMException("AbortError","AbortError")),a()};n.addEventListener("complete",l),n.addEventListener("error",c),n.addEventListener("abort",c)});Pg.set(n,e)}let Lg={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Pg.get(n);if(e==="objectStoreNames")return n.objectStoreNames||e1.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Ss(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function gC(n){Lg=n(Lg)}function yC(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=n.call(lg(this),e,...t);return e1.set(i,e.sort?e.sort():[e]),Ss(i)}:dC().includes(n)?function(...e){return n.apply(lg(this),e),Ss(Jw.get(this))}:function(...e){return Ss(n.apply(lg(this),e))}}function vC(n){return typeof n=="function"?yC(n):(n instanceof IDBTransaction&&pC(n),fC(n,hC())?new Proxy(n,Lg):n)}function Ss(n){if(n instanceof IDBRequest)return mC(n);if(og.has(n))return og.get(n);const e=vC(n);return e!==n&&(og.set(n,e),Oy.set(e,n)),e}const lg=n=>Oy.get(n);function _C(n,e,{blocked:t,upgrade:i,blocking:a,terminated:l}={}){const c=indexedDB.open(n,e),h=Ss(c);return i&&c.addEventListener("upgradeneeded",m=>{i(Ss(c.result),m.oldVersion,m.newVersion,Ss(c.transaction),m)}),t&&c.addEventListener("blocked",m=>t(m.oldVersion,m.newVersion,m)),h.then(m=>{l&&m.addEventListener("close",()=>l()),a&&m.addEventListener("versionchange",p=>a(p.oldVersion,p.newVersion,p))}).catch(()=>{}),h}const bC=["get","getKey","getAll","getAllKeys","count"],EC=["put","add","delete","clear"],ug=new Map;function EE(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(ug.get(e))return ug.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,a=EC.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(a||bC.includes(t)))return;const l=async function(c,...h){const m=this.transaction(c,a?"readwrite":"readonly");let p=m.store;return i&&(p=p.index(h.shift())),(await Promise.all([p[t](...h),a&&m.done]))[0]};return ug.set(e,l),l}gC(n=>({...n,get:(e,t,i)=>EE(e,t)||n.get(e,t,i),has:(e,t)=>!!EE(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TC{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(wC(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function wC(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Vg="@firebase/app",TE="0.12.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mi=new Dy("@firebase/app"),SC="@firebase/app-compat",AC="@firebase/analytics-compat",RC="@firebase/analytics",IC="@firebase/app-check-compat",xC="@firebase/app-check",CC="@firebase/auth",DC="@firebase/auth-compat",OC="@firebase/database",NC="@firebase/data-connect",MC="@firebase/database-compat",kC="@firebase/functions",PC="@firebase/functions-compat",LC="@firebase/installations",VC="@firebase/installations-compat",UC="@firebase/messaging",jC="@firebase/messaging-compat",FC="@firebase/performance",zC="@firebase/performance-compat",BC="@firebase/remote-config",$C="@firebase/remote-config-compat",HC="@firebase/storage",qC="@firebase/storage-compat",YC="@firebase/firestore",GC="@firebase/vertexai",KC="@firebase/firestore-compat",QC="firebase",WC="11.7.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ug="[DEFAULT]",XC={[Vg]:"fire-core",[SC]:"fire-core-compat",[RC]:"fire-analytics",[AC]:"fire-analytics-compat",[xC]:"fire-app-check",[IC]:"fire-app-check-compat",[CC]:"fire-auth",[DC]:"fire-auth-compat",[OC]:"fire-rtdb",[NC]:"fire-data-connect",[MC]:"fire-rtdb-compat",[kC]:"fire-fn",[PC]:"fire-fn-compat",[LC]:"fire-iid",[VC]:"fire-iid-compat",[UC]:"fire-fcm",[jC]:"fire-fcm-compat",[FC]:"fire-perf",[zC]:"fire-perf-compat",[BC]:"fire-rc",[$C]:"fire-rc-compat",[HC]:"fire-gcs",[qC]:"fire-gcs-compat",[YC]:"fire-fst",[KC]:"fire-fst-compat",[GC]:"fire-vertex","fire-js":"fire-js",[QC]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zh=new Map,ZC=new Map,jg=new Map;function wE(n,e){try{n.container.addComponent(e)}catch(t){Mi.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function ol(n){const e=n.name;if(jg.has(e))return Mi.debug(`There were multiple attempts to register component ${e}.`),!1;jg.set(e,n);for(const t of zh.values())wE(t,n);for(const t of ZC.values())wE(t,n);return!0}function Ny(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function or(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JC={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},As=new Ac("app","Firebase",JC);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eD{constructor(e,t,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new La("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw As.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _l=WC;function t1(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const i=Object.assign({name:Ug,automaticDataCollectionEnabled:!1},e),a=i.name;if(typeof a!="string"||!a)throw As.create("bad-app-name",{appName:String(a)});if(t||(t=Ww()),!t)throw As.create("no-options");const l=zh.get(a);if(l){if(Pa(t,l.options)&&Pa(i,l.config))return l;throw As.create("duplicate-app",{appName:a})}const c=new aC(a);for(const m of jg.values())c.addComponent(m);const h=new eD(t,i,c);return zh.set(a,h),h}function n1(n=Ug){const e=zh.get(n);if(!e&&n===Ug&&Ww())return t1();if(!e)throw As.create("no-app",{appName:n});return e}function Rs(n,e,t){var i;let a=(i=XC[n])!==null&&i!==void 0?i:n;t&&(a+=`-${t}`);const l=a.match(/\s|\//),c=e.match(/\s|\//);if(l||c){const h=[`Unable to register library "${a}" with version "${e}":`];l&&h.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&c&&h.push("and"),c&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Mi.warn(h.join(" "));return}ol(new La(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tD="firebase-heartbeat-database",nD=1,uc="firebase-heartbeat-store";let cg=null;function r1(){return cg||(cg=_C(tD,nD,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(uc)}catch(t){console.warn(t)}}}}).catch(n=>{throw As.create("idb-open",{originalErrorMessage:n.message})})),cg}async function rD(n){try{const t=(await r1()).transaction(uc),i=await t.objectStore(uc).get(i1(n));return await t.done,i}catch(e){if(e instanceof Vi)Mi.warn(e.message);else{const t=As.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Mi.warn(t.message)}}}async function SE(n,e){try{const i=(await r1()).transaction(uc,"readwrite");await i.objectStore(uc).put(e,i1(n)),await i.done}catch(t){if(t instanceof Vi)Mi.warn(t.message);else{const i=As.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Mi.warn(i.message)}}}function i1(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iD=1024,sD=30;class aD{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new lD(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,t;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=AE();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(c=>c.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:a}),this._heartbeatsCache.heartbeats.length>sD){const c=uD(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){Mi.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=AE(),{heartbeatsToSend:i,unsentEntries:a}=oD(this._heartbeatsCache.heartbeats),l=Fh(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return Mi.warn(t),""}}}function AE(){return new Date().toISOString().substring(0,10)}function oD(n,e=iD){const t=[];let i=n.slice();for(const a of n){const l=t.find(c=>c.agent===a.agent);if(l){if(l.dates.push(a.date),RE(t)>e){l.dates.pop();break}}else if(t.push({agent:a.agent,dates:[a.date]}),RE(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class lD{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Kx()?Qx().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await rD(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const a=await this.read();return SE(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const a=await this.read();return SE(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function RE(n){return Fh(JSON.stringify({version:2,heartbeats:n})).length}function uD(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let i=1;i<n.length;i++)n[i].date<t&&(t=n[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cD(n){ol(new La("platform-logger",e=>new TC(e),"PRIVATE")),ol(new La("heartbeat",e=>new aD(e),"PRIVATE")),Rs(Vg,TE,n),Rs(Vg,TE,"esm2017"),Rs("fire-js","")}cD("");var Fg=function(n,e){return Fg=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(t[a]=i[a])},Fg(n,e)};function My(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Fg(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var Hn=function(){return Hn=Object.assign||function(e){for(var t,i=1,a=arguments.length;i<a;i++){t=arguments[i];for(var l in t)Object.prototype.hasOwnProperty.call(t,l)&&(e[l]=t[l])}return e},Hn.apply(this,arguments)};function ky(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,i=Object.getOwnPropertySymbols(n);a<i.length;a++)e.indexOf(i[a])<0&&Object.prototype.propertyIsEnumerable.call(n,i[a])&&(t[i[a]]=n[i[a]]);return t}function de(n,e,t){if(t||arguments.length===2)for(var i=0,a=e.length,l;i<a;i++)(l||!(i in e))&&(l||(l=Array.prototype.slice.call(e,0,i)),l[i]=e[i]);return n.concat(l||Array.prototype.slice.call(e))}function s1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const fD=s1,a1=new Ac("auth","Firebase",s1());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bh=new Dy("@firebase/auth");function hD(n,...e){Bh.logLevel<=Fe.WARN&&Bh.warn(`Auth (${_l}): ${n}`,...e)}function Ch(n,...e){Bh.logLevel<=Fe.ERROR&&Bh.error(`Auth (${_l}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function br(n,...e){throw Py(n,...e)}function qr(n,...e){return Py(n,...e)}function o1(n,e,t){const i=Object.assign(Object.assign({},fD()),{[e]:t});return new Ac("auth","Firebase",i).create(e,{appName:n.name})}function Oi(n){return o1(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Py(n,...e){if(typeof n!="string"){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return a1.create(n,...e)}function Se(n,e,...t){if(!n)throw Py(e,...t)}function Ci(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Ch(e),new Error(e)}function ki(n,e){n||Ci(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zg(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function dD(){return IE()==="http:"||IE()==="https:"}function IE(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mD(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(dD()||Hx()||"connection"in navigator)?navigator.onLine:!0}function pD(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ic{constructor(e,t){this.shortDelay=e,this.longDelay=t,ki(t>e,"Short delay should be less than long delay!"),this.isMobile=zx()||qx()}get(){return mD()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ly(n,e){ki(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l1{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ci("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ci("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ci("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gD={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yD=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],vD=new Ic(3e4,6e4);function Fs(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function zs(n,e,t,i,a={}){return u1(n,a,async()=>{let l={},c={};i&&(e==="GET"?c=i:l={body:JSON.stringify(i)});const h=Rc(Object.assign({key:n.config.apiKey},c)).slice(1),m=await n._getAdditionalHeaders();m["Content-Type"]="application/json",n.languageCode&&(m["X-Firebase-Locale"]=n.languageCode);const p=Object.assign({method:e,headers:m},l);return $x()||(p.referrerPolicy="no-referrer"),n.emulatorConfig&&Sc(n.emulatorConfig.host)&&(p.credentials="include"),l1.fetch()(await c1(n,n.config.apiHost,t,h),p)})}async function u1(n,e,t){n._canInitEmulator=!1;const i=Object.assign(Object.assign({},gD),e);try{const a=new bD(n),l=await Promise.race([t(),a.promise]);a.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw yh(n,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const h=l.ok?c.errorMessage:c.error.message,[m,p]=h.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw yh(n,"credential-already-in-use",c);if(m==="EMAIL_EXISTS")throw yh(n,"email-already-in-use",c);if(m==="USER_DISABLED")throw yh(n,"user-disabled",c);const y=i[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw o1(n,y,p);br(n,y)}}catch(a){if(a instanceof Vi)throw a;br(n,"network-request-failed",{message:String(a)})}}async function xc(n,e,t,i,a={}){const l=await zs(n,e,t,i,a);return"mfaPendingCredential"in l&&br(n,"multi-factor-auth-required",{_serverResponse:l}),l}async function c1(n,e,t,i){const a=`${e}${t}?${i}`,l=n,c=l.config.emulator?Ly(n.config,a):`${n.config.apiScheme}://${a}`;return yD.includes(t)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(c).toString():c}function _D(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class bD{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(qr(this.auth,"network-request-failed")),vD.get())})}}function yh(n,e,t){const i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const a=qr(n,e,i);return a.customData._tokenResponse=t,a}function xE(n){return n!==void 0&&n.enterprise!==void 0}class ED{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return _D(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function TD(n,e){return zs(n,"GET","/v2/recaptchaConfig",Fs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wD(n,e){return zs(n,"POST","/v1/accounts:delete",e)}async function $h(n,e){return zs(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ec(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function SD(n,e=!1){const t=Mt(n),i=await t.getIdToken(e),a=Vy(i);Se(a&&a.exp&&a.auth_time&&a.iat,t.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,c=l==null?void 0:l.sign_in_provider;return{claims:a,token:i,authTime:ec(fg(a.auth_time)),issuedAtTime:ec(fg(a.iat)),expirationTime:ec(fg(a.exp)),signInProvider:c||null,signInSecondFactor:(l==null?void 0:l.sign_in_second_factor)||null}}function fg(n){return Number(n)*1e3}function Vy(n){const[e,t,i]=n.split(".");if(e===void 0||t===void 0||i===void 0)return Ch("JWT malformed, contained fewer than 3 sections"),null;try{const a=Kw(t);return a?JSON.parse(a):(Ch("Failed to decode base64 JWT payload"),null)}catch(a){return Ch("Caught error parsing JWT payload as JSON",a==null?void 0:a.toString()),null}}function CE(n){const e=Vy(n);return Se(e,"internal-error"),Se(typeof e.exp<"u","internal-error"),Se(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cc(n,e,t=!1){if(t)return e;try{return await e}catch(i){throw i instanceof Vi&&AD(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function AD({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RD{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bg{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=ec(this.lastLoginAt),this.creationTime=ec(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hh(n){var e;const t=n.auth,i=await n.getIdToken(),a=await cc(n,$h(t,{idToken:i}));Se(a==null?void 0:a.users.length,t,"internal-error");const l=a.users[0];n._notifyReloadListener(l);const c=!((e=l.providerUserInfo)===null||e===void 0)&&e.length?f1(l.providerUserInfo):[],h=xD(n.providerData,c),m=n.isAnonymous,p=!(n.email&&l.passwordHash)&&!(h!=null&&h.length),y=m?p:!1,_={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:h,metadata:new Bg(l.createdAt,l.lastLoginAt),isAnonymous:y};Object.assign(n,_)}async function ID(n){const e=Mt(n);await Hh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function xD(n,e){return[...n.filter(i=>!e.some(a=>a.providerId===i.providerId)),...e]}function f1(n){return n.map(e=>{var{providerId:t}=e,i=ky(e,["providerId"]);return{providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CD(n,e){const t=await u1(n,{},async()=>{const i=Rc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:l}=n.config,c=await c1(n,a,"/v1/token",`key=${l}`),h=await n._getAdditionalHeaders();return h["Content-Type"]="application/x-www-form-urlencoded",l1.fetch()(c,{method:"POST",headers:h,body:i})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function DD(n,e){return zs(n,"POST","/v2/accounts:revokeToken",Fs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class el{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Se(e.idToken,"internal-error"),Se(typeof e.idToken<"u","internal-error"),Se(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):CE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Se(e.length!==0,"internal-error");const t=CE(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Se(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:i,refreshToken:a,expiresIn:l}=await CD(e,t);this.updateTokensAndExpiration(i,a,Number(l))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){const{refreshToken:i,accessToken:a,expirationTime:l}=t,c=new el;return i&&(Se(typeof i=="string","internal-error",{appName:e}),c.refreshToken=i),a&&(Se(typeof a=="string","internal-error",{appName:e}),c.accessToken=a),l&&(Se(typeof l=="number","internal-error",{appName:e}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new el,this.toJSON())}_performRefresh(){return Ci("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ms(n,e){Se(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class yr{constructor(e){var{uid:t,auth:i,stsTokenManager:a}=e,l=ky(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new RD(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new Bg(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const t=await cc(this,this.stsTokenManager.getToken(this.auth,e));return Se(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return SD(this,e)}reload(){return ID(this)}_assign(e){this!==e&&(Se(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new yr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Se(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await Hh(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(or(this.auth.app))return Promise.reject(Oi(this.auth));const e=await this.getIdToken();return await cc(this,wD(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var i,a,l,c,h,m,p,y;const _=(i=t.displayName)!==null&&i!==void 0?i:void 0,b=(a=t.email)!==null&&a!==void 0?a:void 0,w=(l=t.phoneNumber)!==null&&l!==void 0?l:void 0,R=(c=t.photoURL)!==null&&c!==void 0?c:void 0,C=(h=t.tenantId)!==null&&h!==void 0?h:void 0,D=(m=t._redirectEventId)!==null&&m!==void 0?m:void 0,B=(p=t.createdAt)!==null&&p!==void 0?p:void 0,F=(y=t.lastLoginAt)!==null&&y!==void 0?y:void 0,{uid:q,emailVerified:H,isAnonymous:K,providerData:ee,stsTokenManager:N}=t;Se(q&&N,e,"internal-error");const x=el.fromJSON(this.name,N);Se(typeof q=="string",e,"internal-error"),ms(_,e.name),ms(b,e.name),Se(typeof H=="boolean",e,"internal-error"),Se(typeof K=="boolean",e,"internal-error"),ms(w,e.name),ms(R,e.name),ms(C,e.name),ms(D,e.name),ms(B,e.name),ms(F,e.name);const O=new yr({uid:q,auth:e,email:b,emailVerified:H,displayName:_,isAnonymous:K,photoURL:R,phoneNumber:w,tenantId:C,stsTokenManager:x,createdAt:B,lastLoginAt:F});return ee&&Array.isArray(ee)&&(O.providerData=ee.map(M=>Object.assign({},M))),D&&(O._redirectEventId=D),O}static async _fromIdTokenResponse(e,t,i=!1){const a=new el;a.updateFromServerResponse(t);const l=new yr({uid:t.localId,auth:e,stsTokenManager:a,isAnonymous:i});return await Hh(l),l}static async _fromGetAccountInfoResponse(e,t,i){const a=t.users[0];Se(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?f1(a.providerUserInfo):[],c=!(a.email&&a.passwordHash)&&!(l!=null&&l.length),h=new el;h.updateFromIdToken(i);const m=new yr({uid:a.localId,auth:e,stsTokenManager:h,isAnonymous:c}),p={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new Bg(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!(l!=null&&l.length)};return Object.assign(m,p),m}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DE=new Map;function Di(n){ki(n instanceof Function,"Expected a class definition");let e=DE.get(n);return e?(ki(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,DE.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}h1.type="NONE";const OE=h1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dh(n,e,t){return`firebase:${n}:${e}:${t}`}class tl{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:a,name:l}=this.auth;this.fullUserKey=Dh(this.userKey,a.apiKey,l),this.fullPersistenceKey=Dh("persistence",a.apiKey,l),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await $h(this.auth,{idToken:e}).catch(()=>{});return t?yr._fromGetAccountInfoResponse(this.auth,t,e):null}return yr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new tl(Di(OE),e,i);const a=(await Promise.all(t.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let l=a[0]||Di(OE);const c=Dh(i,e.config.apiKey,e.name);let h=null;for(const p of t)try{const y=await p._get(c);if(y){let _;if(typeof y=="string"){const b=await $h(e,{idToken:y}).catch(()=>{});if(!b)break;_=await yr._fromGetAccountInfoResponse(e,b,y)}else _=yr._fromJSON(e,y);p!==l&&(h=_),l=p;break}}catch{}const m=a.filter(p=>p._shouldAllowMigration);return!l._shouldAllowMigration||!m.length?new tl(l,e,i):(l=m[0],h&&await l._set(c,h.toJSON()),await Promise.all(t.map(async p=>{if(p!==l)try{await p._remove(c)}catch{}})),new tl(l,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NE(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(g1(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(d1(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(v1(e))return"Blackberry";if(_1(e))return"Webos";if(m1(e))return"Safari";if((e.includes("chrome/")||p1(e))&&!e.includes("edge/"))return"Chrome";if(y1(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(t);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function d1(n=gn()){return/firefox\//i.test(n)}function m1(n=gn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function p1(n=gn()){return/crios\//i.test(n)}function g1(n=gn()){return/iemobile/i.test(n)}function y1(n=gn()){return/android/i.test(n)}function v1(n=gn()){return/blackberry/i.test(n)}function _1(n=gn()){return/webos/i.test(n)}function Uy(n=gn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function OD(n=gn()){var e;return Uy(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function ND(){return Yx()&&document.documentMode===10}function b1(n=gn()){return Uy(n)||y1(n)||_1(n)||v1(n)||/windows phone/i.test(n)||g1(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E1(n,e=[]){let t;switch(n){case"Browser":t=NE(gn());break;case"Worker":t=`${NE(gn())}-${n}`;break;default:t=n}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${_l}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MD{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=l=>new Promise((c,h)=>{try{const m=e(l);c(m)}catch(m){h(m)}});i.onAbort=t,this.queue.push(i);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(const a of t)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kD(n,e={}){return zs(n,"GET","/v2/passwordPolicy",Fs(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PD=6;class LD{constructor(e){var t,i,a,l;const c=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=c.minPasswordLength)!==null&&t!==void 0?t:PD,c.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=c.maxPasswordLength),c.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=c.containsLowercaseCharacter),c.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=c.containsUppercaseCharacter),c.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=c.containsNumericCharacter),c.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=c.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(a=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&a!==void 0?a:"",this.forceUpgradeOnSignin=(l=e.forceUpgradeOnSignin)!==null&&l!==void 0?l:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,i,a,l,c,h;const m={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,m),this.validatePasswordCharacterOptions(e,m),m.isValid&&(m.isValid=(t=m.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),m.isValid&&(m.isValid=(i=m.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),m.isValid&&(m.isValid=(a=m.containsLowercaseLetter)!==null&&a!==void 0?a:!0),m.isValid&&(m.isValid=(l=m.containsUppercaseLetter)!==null&&l!==void 0?l:!0),m.isValid&&(m.isValid=(c=m.containsNumericCharacter)!==null&&c!==void 0?c:!0),m.isValid&&(m.isValid=(h=m.containsNonAlphanumericCharacter)!==null&&h!==void 0?h:!0),m}validatePasswordLengthOptions(e,t){const i=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),a&&(t.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let a=0;a<e.length;a++)i=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,a,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VD{constructor(e,t,i,a){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ME(this),this.idTokenSubscription=new ME(this),this.beforeStateQueue=new MD(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=a1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Di(t)),this._initializationPromise=this.queue(async()=>{var i,a,l;if(!this._deleted&&(this.persistenceManager=await tl.create(this,e),(i=this._resolvePersistenceManagerAvailable)===null||i===void 0||i.call(this),!this._deleted)){if(!((a=this._popupRedirectResolver)===null||a===void 0)&&a._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((l=this.currentUser)===null||l===void 0?void 0:l.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await $h(this,{idToken:e}),i=await yr._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(or(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(h,h))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,h=a==null?void 0:a._redirectEventId,m=await this.tryRedirectSignIn(e);(!c||c===h)&&(m!=null&&m.user)&&(a=m.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return Se(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Hh(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=pD()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(or(this.app))return Promise.reject(Oi(this));const t=e?Mt(e):null;return t&&Se(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Se(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return or(this.app)?Promise.reject(Oi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return or(this.app)?Promise.reject(Oi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Di(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await kD(this),t=new LD(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Ac("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),await DD(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const i=await this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Di(e)||this._popupRedirectResolver;Se(t,this,"argument-error"),this.redirectPersistenceManager=await tl.create(this,[Di(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,i;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,a){if(this._deleted)return()=>{};const l=typeof t=="function"?t:t.next.bind(t);let c=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(Se(h,this,"internal-error"),h.then(()=>{c||l(this.currentUser)}),typeof t=="function"){const m=e.addObserver(t,i,a);return()=>{c=!0,m()}}else{const m=e.addObserver(t);return()=>{c=!0,m()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Se(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=E1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(t["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(t["X-Firebase-AppCheck"]=a),t}async _getAppCheckToken(){var e;if(or(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&hD(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function Ya(n){return Mt(n)}class ME{constructor(e){this.auth=e,this.observer=null,this.addObserver=eC(t=>this.observer=t)}get next(){return Se(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function UD(n){vd=n}function T1(n){return vd.loadJS(n)}function jD(){return vd.recaptchaEnterpriseScript}function FD(){return vd.gapiScript}function zD(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class BD{constructor(){this.enterprise=new $D}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class $D{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const HD="recaptcha-enterprise",w1="NO_RECAPTCHA";class qD{constructor(e){this.type=HD,this.auth=Ya(e)}async verify(e="verify",t=!1){async function i(l){if(!t){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(c,h)=>{TD(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(m=>{if(m.recaptchaKey===void 0)h(new Error("recaptcha Enterprise site key undefined"));else{const p=new ED(m);return l.tenantId==null?l._agentRecaptchaConfig=p:l._tenantRecaptchaConfigs[l.tenantId]=p,c(p.siteKey)}}).catch(m=>{h(m)})})}function a(l,c,h){const m=window.grecaptcha;xE(m)?m.enterprise.ready(()=>{m.enterprise.execute(l,{action:e}).then(p=>{c(p)}).catch(()=>{c(w1)})}):h(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new BD().execute("siteKey",{action:"verify"}):new Promise((l,c)=>{i(this.auth).then(h=>{if(!t&&xE(window.grecaptcha))a(h,l,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let m=jD();m.length!==0&&(m+=h),T1(m).then(()=>{a(h,l,c)}).catch(p=>{c(p)})}}).catch(h=>{c(h)})})}}async function kE(n,e,t,i=!1,a=!1){const l=new qD(n);let c;if(a)c=w1;else try{c=await l.verify(t)}catch{c=await l.verify(t,!0)}const h=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in h){const m=h.phoneEnrollmentInfo.phoneNumber,p=h.phoneEnrollmentInfo.recaptchaToken;Object.assign(h,{phoneEnrollmentInfo:{phoneNumber:m,recaptchaToken:p,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in h){const m=h.phoneSignInInfo.recaptchaToken;Object.assign(h,{phoneSignInInfo:{recaptchaToken:m,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return h}return i?Object.assign(h,{captchaResp:c}):Object.assign(h,{captchaResponse:c}),Object.assign(h,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(h,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),h}async function $g(n,e,t,i,a){var l;if(!((l=n._getRecaptchaConfig())===null||l===void 0)&&l.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await kE(n,e,t,t==="getOobCode");return i(n,c)}else return i(n,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const h=await kE(n,e,t,t==="getOobCode");return i(n,h)}else return Promise.reject(c)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YD(n,e){const t=Ny(n,"auth");if(t.isInitialized()){const a=t.getImmediate(),l=t.getOptions();if(Pa(l,e??{}))return a;br(a,"already-initialized")}return t.initialize({options:e})}function GD(n,e){const t=(e==null?void 0:e.persistence)||[],i=(Array.isArray(t)?t:[t]).map(Di);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function KD(n,e,t){const i=Ya(n);Se(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const a=!1,l=S1(e),{host:c,port:h}=QD(e),m=h===null?"":`:${h}`,p={url:`${l}//${c}${m}/`},y=Object.freeze({host:c,port:h,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!i._canInitEmulator){Se(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),Se(Pa(p,i.config.emulator)&&Pa(y,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=p,i.emulatorConfig=y,i.settings.appVerificationDisabledForTesting=!0,Sc(c)?(yd("Auth",!0),Zw(`${l}//${c}${m}`)):WD()}function S1(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function QD(n){const e=S1(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(i);if(a){const l=a[1];return{host:l,port:PE(i.substr(l.length+1))}}else{const[l,c]=i.split(":");return{host:l,port:PE(c)}}}function PE(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function WD(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jy{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Ci("not implemented")}_getIdTokenResponse(e){return Ci("not implemented")}_linkToIdToken(e,t){return Ci("not implemented")}_getReauthenticationResolver(e){return Ci("not implemented")}}async function XD(n,e){return zs(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZD(n,e){return xc(n,"POST","/v1/accounts:signInWithPassword",Fs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JD(n,e){return xc(n,"POST","/v1/accounts:signInWithEmailLink",Fs(n,e))}async function e2(n,e){return xc(n,"POST","/v1/accounts:signInWithEmailLink",Fs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fc extends jy{constructor(e,t,i,a=null){super("password",i),this._email=e,this._password=t,this._tenantId=a}static _fromEmailAndPassword(e,t){return new fc(e,t,"password")}static _fromEmailAndCode(e,t,i=null){return new fc(e,t,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return $g(e,t,"signInWithPassword",ZD);case"emailLink":return JD(e,{email:this._email,oobCode:this._password});default:br(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const i={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return $g(e,i,"signUpPassword",XD);case"emailLink":return e2(e,{idToken:t,email:this._email,oobCode:this._password});default:br(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nl(n,e){return xc(n,"POST","/v1/accounts:signInWithIdp",Fs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t2="http://localhost";class Va extends jy{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Va(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):br("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:a}=t,l=ky(t,["providerId","signInMethod"]);if(!i||!a)return null;const c=new Va(i,a);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(e){const t=this.buildRequest();return nl(e,t)}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,nl(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,nl(e,t)}buildRequest(){const e={requestUri:t2,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Rc(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n2(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function r2(n){const e=Hu(qu(n)).link,t=e?Hu(qu(e)).deep_link_id:null,i=Hu(qu(n)).deep_link_id;return(i?Hu(qu(i)).link:null)||i||t||e||n}class Fy{constructor(e){var t,i,a,l,c,h;const m=Hu(qu(e)),p=(t=m.apiKey)!==null&&t!==void 0?t:null,y=(i=m.oobCode)!==null&&i!==void 0?i:null,_=n2((a=m.mode)!==null&&a!==void 0?a:null);Se(p&&y&&_,"argument-error"),this.apiKey=p,this.operation=_,this.code=y,this.continueUrl=(l=m.continueUrl)!==null&&l!==void 0?l:null,this.languageCode=(c=m.lang)!==null&&c!==void 0?c:null,this.tenantId=(h=m.tenantId)!==null&&h!==void 0?h:null}static parseLink(e){const t=r2(e);try{return new Fy(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bl{constructor(){this.providerId=bl.PROVIDER_ID}static credential(e,t){return fc._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const i=Fy.parseLink(t);return Se(i,"argument-error"),fc._fromEmailAndCode(e,i.code,i.tenantId)}}bl.PROVIDER_ID="password";bl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";bl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A1{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cc extends A1{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ps extends Cc{constructor(){super("facebook.com")}static credential(e){return Va._fromParams({providerId:ps.PROVIDER_ID,signInMethod:ps.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ps.credentialFromTaggedObject(e)}static credentialFromError(e){return ps.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ps.credential(e.oauthAccessToken)}catch{return null}}}ps.FACEBOOK_SIGN_IN_METHOD="facebook.com";ps.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gs extends Cc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Va._fromParams({providerId:gs.PROVIDER_ID,signInMethod:gs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return gs.credentialFromTaggedObject(e)}static credentialFromError(e){return gs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i}=e;if(!t&&!i)return null;try{return gs.credential(t,i)}catch{return null}}}gs.GOOGLE_SIGN_IN_METHOD="google.com";gs.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ys extends Cc{constructor(){super("github.com")}static credential(e){return Va._fromParams({providerId:ys.PROVIDER_ID,signInMethod:ys.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ys.credentialFromTaggedObject(e)}static credentialFromError(e){return ys.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ys.credential(e.oauthAccessToken)}catch{return null}}}ys.GITHUB_SIGN_IN_METHOD="github.com";ys.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vs extends Cc{constructor(){super("twitter.com")}static credential(e,t){return Va._fromParams({providerId:vs.PROVIDER_ID,signInMethod:vs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return vs.credentialFromTaggedObject(e)}static credentialFromError(e){return vs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:i}=e;if(!t||!i)return null;try{return vs.credential(t,i)}catch{return null}}}vs.TWITTER_SIGN_IN_METHOD="twitter.com";vs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function i2(n,e){return xc(n,"POST","/v1/accounts:signUp",Fs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ua{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,i,a=!1){const l=await yr._fromIdTokenResponse(e,i,a),c=LE(i);return new Ua({user:l,providerId:c,_tokenResponse:i,operationType:t})}static async _forOperation(e,t,i){await e._updateTokensIfNecessary(i,!0);const a=LE(i);return new Ua({user:e,providerId:a,_tokenResponse:i,operationType:t})}}function LE(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qh extends Vi{constructor(e,t,i,a){var l;super(t.code,t.message),this.operationType=i,this.user=a,Object.setPrototypeOf(this,qh.prototype),this.customData={appName:e.name,tenantId:(l=e.tenantId)!==null&&l!==void 0?l:void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,a){return new qh(e,t,i,a)}}function R1(n,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?qh._fromErrorAndOperation(n,l,e,i):l})}async function s2(n,e,t=!1){const i=await cc(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Ua._forOperation(n,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function a2(n,e,t=!1){const{auth:i}=n;if(or(i.app))return Promise.reject(Oi(i));const a="reauthenticate";try{const l=await cc(n,R1(i,a,e,n),t);Se(l.idToken,i,"internal-error");const c=Vy(l.idToken);Se(c,i,"internal-error");const{sub:h}=c;return Se(n.uid===h,i,"user-mismatch"),Ua._forOperation(n,a,l)}catch(l){throw(l==null?void 0:l.code)==="auth/user-not-found"&&br(i,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function I1(n,e,t=!1){if(or(n.app))return Promise.reject(Oi(n));const i="signIn",a=await R1(n,i,e),l=await Ua._fromIdTokenResponse(n,i,a);return t||await n._updateCurrentUser(l.user),l}async function o2(n,e){return I1(Ya(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function x1(n){const e=Ya(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function l2(n,e,t){if(or(n.app))return Promise.reject(Oi(n));const i=Ya(n),c=await $g(i,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",i2).catch(m=>{throw m.code==="auth/password-does-not-meet-requirements"&&x1(n),m}),h=await Ua._fromIdTokenResponse(i,"signIn",c);return await i._updateCurrentUser(h.user),h}function u2(n,e,t){return or(n.app)?Promise.reject(Oi(n)):o2(Mt(n),bl.credential(e,t)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&x1(n),i})}function c2(n,e,t,i){return Mt(n).onIdTokenChanged(e,t,i)}function f2(n,e,t){return Mt(n).beforeAuthStateChanged(e,t)}function h2(n,e,t,i){return Mt(n).onAuthStateChanged(e,t,i)}function d2(n){return Mt(n).signOut()}const Yh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C1{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Yh,"1"),this.storage.removeItem(Yh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m2=1e3,p2=10;class D1 extends C1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=b1(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const i=this.storage.getItem(t),a=this.localCache[t];i!==a&&e(t,a,i)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((c,h,m)=>{this.notifyListeners(c,m)});return}const i=e.key;t?this.detachListener():this.stopPolling();const a=()=>{const c=this.storage.getItem(i);!t&&this.localCache[i]===c||this.notifyListeners(i,c)},l=this.storage.getItem(i);ND()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,p2):a()}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const a of Array.from(i))a(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:i}),!0)})},m2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}D1.type="LOCAL";const g2=D1;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O1 extends C1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}O1.type="SESSION";const N1=O1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y2(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _d{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(a=>a.isListeningto(e));if(t)return t;const i=new _d(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:i,eventType:a,data:l}=t.data,c=this.handlersMap[a];if(!(c!=null&&c.size))return;t.ports[0].postMessage({status:"ack",eventId:i,eventType:a});const h=Array.from(c).map(async p=>p(t.origin,l)),m=await y2(h);t.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:m})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}_d.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zy(n="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v2{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,i=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,c;return new Promise((h,m)=>{const p=zy("",20);a.port1.start();const y=setTimeout(()=>{m(new Error("unsupported_event"))},i);c={messageChannel:a,onMessage(_){const b=_;if(b.data.eventId===p)switch(b.data.status){case"ack":clearTimeout(y),l=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),h(b.data.response);break;default:clearTimeout(y),clearTimeout(l),m(new Error("invalid_response"));break}}},this.handlers.add(c),a.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:p,data:t},[a.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yr(){return window}function _2(n){Yr().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M1(){return typeof Yr().WorkerGlobalScope<"u"&&typeof Yr().importScripts=="function"}async function b2(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function E2(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function T2(){return M1()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k1="firebaseLocalStorageDb",w2=1,Gh="firebaseLocalStorage",P1="fbase_key";class Dc{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function bd(n,e){return n.transaction([Gh],e?"readwrite":"readonly").objectStore(Gh)}function S2(){const n=indexedDB.deleteDatabase(k1);return new Dc(n).toPromise()}function Hg(){const n=indexedDB.open(k1,w2);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(Gh,{keyPath:P1})}catch(a){t(a)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(Gh)?e(i):(i.close(),await S2(),e(await Hg()))})})}async function VE(n,e,t){const i=bd(n,!0).put({[P1]:e,value:t});return new Dc(i).toPromise()}async function A2(n,e){const t=bd(n,!1).get(e),i=await new Dc(t).toPromise();return i===void 0?null:i.value}function UE(n,e){const t=bd(n,!0).delete(e);return new Dc(t).toPromise()}const R2=800,I2=3;class L1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Hg(),this.db)}async _withRetries(e){let t=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(t++>I2)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return M1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=_d._getInstance(T2()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await b2(),!this.activeServiceWorker)return;this.sender=new v2(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((t=i[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||E2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Hg();return await VE(e,Yh,"1"),await UE(e,Yh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(i=>VE(i,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(i=>A2(i,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>UE(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const l=bd(a,!1).getAll();return new Dc(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],i=new Set;if(e.length!==0)for(const{fbase_key:a,value:l}of e)i.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),t.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!i.has(a)&&(this.notifyListeners(a,null),t.push(a));return t}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const a of Array.from(i))a(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),R2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}L1.type="LOCAL";const x2=L1;new Ic(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C2(n,e){return e?Di(e):(Se(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class By extends jy{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return nl(e,this._buildIdpRequest())}_linkToIdToken(e,t){return nl(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return nl(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function D2(n){return I1(n.auth,new By(n),n.bypassAuthState)}function O2(n){const{auth:e,user:t}=n;return Se(t,e,"internal-error"),a2(t,new By(n),n.bypassAuthState)}async function N2(n){const{auth:e,user:t}=n;return Se(t,e,"internal-error"),s2(t,new By(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V1{constructor(e,t,i,a,l=!1){this.auth=e,this.resolver=i,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:i,postBody:a,tenantId:l,error:c,type:h}=e;if(c){this.reject(c);return}const m={auth:this.auth,requestUri:t,sessionId:i,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(m))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return D2;case"linkViaPopup":case"linkViaRedirect":return N2;case"reauthViaPopup":case"reauthViaRedirect":return O2;default:br(this.auth,"internal-error")}}resolve(e){ki(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ki(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M2=new Ic(2e3,1e4);class Xo extends V1{constructor(e,t,i,a,l){super(e,t,a,l),this.provider=i,this.authWindow=null,this.pollId=null,Xo.currentPopupAction&&Xo.currentPopupAction.cancel(),Xo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Se(e,this.auth,"internal-error"),e}async onExecution(){ki(this.filter.length===1,"Popup operations only handle one event");const e=zy();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(qr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(qr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Xo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,i;if(!((i=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(qr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,M2.get())};e()}}Xo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k2="pendingRedirect",Oh=new Map;class P2 extends V1{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}async execute(){let e=Oh.get(this.auth._key());if(!e){try{const i=await L2(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}Oh.set(this.auth._key(),e)}return this.bypassAuthState||Oh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function L2(n,e){const t=j2(e),i=U2(n);if(!await i._isAvailable())return!1;const a=await i._get(t)==="true";return await i._remove(t),a}function V2(n,e){Oh.set(n._key(),e)}function U2(n){return Di(n._redirectPersistence)}function j2(n){return Dh(k2,n.config.apiKey,n.name)}async function F2(n,e,t=!1){if(or(n.app))return Promise.reject(Oi(n));const i=Ya(n),a=C2(i,e),c=await new P2(i,a,t).execute();return c&&!t&&(delete c.user._redirectEventId,await i._persistUserIfCurrent(c.user),await i._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z2=10*60*1e3;class B2{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!$2(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var i;if(e.error&&!U1(e)){const a=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";t.onError(qr(this.auth,a))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=z2&&this.cachedEventUids.clear(),this.cachedEventUids.has(jE(e))}saveEventToCache(e){this.cachedEventUids.add(jE(e)),this.lastProcessedEventTime=Date.now()}}function jE(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function U1({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function $2(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return U1(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function H2(n,e={}){return zs(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Y2=/^https?/;async function G2(n){if(n.config.emulator)return;const{authorizedDomains:e}=await H2(n);for(const t of e)try{if(K2(t))return}catch{}br(n,"unauthorized-domain")}function K2(n){const e=zg(),{protocol:t,hostname:i}=new URL(e);if(n.startsWith("chrome-extension://")){const c=new URL(n);return c.hostname===""&&i===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&c.hostname===i}if(!Y2.test(t))return!1;if(q2.test(n))return i===n;const a=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q2=new Ic(3e4,6e4);function FE(){const n=Yr().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function W2(n){return new Promise((e,t)=>{var i,a,l;function c(){FE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{FE(),t(qr(n,"network-request-failed"))},timeout:Q2.get()})}if(!((a=(i=Yr().gapi)===null||i===void 0?void 0:i.iframes)===null||a===void 0)&&a.Iframe)e(gapi.iframes.getContext());else if(!((l=Yr().gapi)===null||l===void 0)&&l.load)c();else{const h=zD("iframefcb");return Yr()[h]=()=>{gapi.load?c():t(qr(n,"network-request-failed"))},T1(`${FD()}?onload=${h}`).catch(m=>t(m))}}).catch(e=>{throw Nh=null,e})}let Nh=null;function X2(n){return Nh=Nh||W2(n),Nh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z2=new Ic(5e3,15e3),J2="__/auth/iframe",eO="emulator/auth/iframe",tO={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},nO=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function rO(n){const e=n.config;Se(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?Ly(e,eO):`https://${n.config.authDomain}/${J2}`,i={apiKey:e.apiKey,appName:n.name,v:_l},a=nO.get(n.config.apiHost);a&&(i.eid=a);const l=n._getFrameworks();return l.length&&(i.fw=l.join(",")),`${t}?${Rc(i).slice(1)}`}async function iO(n){const e=await X2(n),t=Yr().gapi;return Se(t,n,"internal-error"),e.open({where:document.body,url:rO(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:tO,dontclear:!0},i=>new Promise(async(a,l)=>{await i.restyle({setHideOnLeave:!1});const c=qr(n,"network-request-failed"),h=Yr().setTimeout(()=>{l(c)},Z2.get());function m(){Yr().clearTimeout(h),a(i)}i.ping(m).then(m,()=>{l(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sO={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},aO=500,oO=600,lO="_blank",uO="http://localhost";class zE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function cO(n,e,t,i=aO,a=oO){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),c=Math.max((window.screen.availWidth-i)/2,0).toString();let h="";const m=Object.assign(Object.assign({},sO),{width:i.toString(),height:a.toString(),top:l,left:c}),p=gn().toLowerCase();t&&(h=p1(p)?lO:t),d1(p)&&(e=e||uO,m.scrollbars="yes");const y=Object.entries(m).reduce((b,[w,R])=>`${b}${w}=${R},`,"");if(OD(p)&&h!=="_self")return fO(e||"",h),new zE(null);const _=window.open(e||"",h,y);Se(_,n,"popup-blocked");try{_.focus()}catch{}return new zE(_)}function fO(n,e){const t=document.createElement("a");t.href=n,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hO="__/auth/handler",dO="emulator/auth/handler",mO=encodeURIComponent("fac");async function BE(n,e,t,i,a,l){Se(n.config.authDomain,n,"auth-domain-config-required"),Se(n.config.apiKey,n,"invalid-api-key");const c={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:i,v:_l,eventId:a};if(e instanceof A1){e.setDefaultLanguage(n.languageCode),c.providerId=e.providerId||"",Jx(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[y,_]of Object.entries({}))c[y]=_}if(e instanceof Cc){const y=e.getScopes().filter(_=>_!=="");y.length>0&&(c.scopes=y.join(","))}n.tenantId&&(c.tid=n.tenantId);const h=c;for(const y of Object.keys(h))h[y]===void 0&&delete h[y];const m=await n._getAppCheckToken(),p=m?`#${mO}=${encodeURIComponent(m)}`:"";return`${pO(n)}?${Rc(h).slice(1)}${p}`}function pO({config:n}){return n.emulator?Ly(n,dO):`https://${n.authDomain}/${hO}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hg="webStorageSupport";class gO{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=N1,this._completeRedirectFn=F2,this._overrideRedirectResult=V2}async _openPopup(e,t,i,a){var l;ki((l=this.eventManagers[e._key()])===null||l===void 0?void 0:l.manager,"_initialize() not called before _openPopup()");const c=await BE(e,t,i,zg(),a);return cO(e,c,zy())}async _openRedirect(e,t,i,a){await this._originValidation(e);const l=await BE(e,t,i,zg(),a);return _2(l),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:a,promise:l}=this.eventManagers[t];return a?Promise.resolve(a):(ki(l,"If manager is not set, promise should be"),l)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}async initAndGetManager(e){const t=await iO(e),i=new B2(e);return t.register("authEvent",a=>(Se(a==null?void 0:a.authEvent,e,"invalid-auth-event"),{status:i.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(hg,{type:hg},a=>{var l;const c=(l=a==null?void 0:a[0])===null||l===void 0?void 0:l[hg];c!==void 0&&t(!!c),br(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=G2(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return b1()||m1()||Uy()}}const yO=gO;var $E="@firebase/auth",HE="1.10.3";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vO{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Se(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _O(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function bO(n){ol(new La("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:c,authDomain:h}=i.options;Se(c&&!c.includes(":"),"invalid-api-key",{appName:i.name});const m={apiKey:c,authDomain:h,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:E1(n)},p=new VD(i,a,l,m);return GD(p,t),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),ol(new La("auth-internal",e=>{const t=Ya(e.getProvider("auth").getImmediate());return(i=>new vO(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Rs($E,HE,_O(n)),Rs($E,HE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EO=5*60,TO=Xw("authIdTokenMaxAge")||EO;let qE=null;const wO=n=>async e=>{const t=e&&await e.getIdTokenResult(),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>TO)return;const a=t==null?void 0:t.token;qE!==a&&(qE=a,await fetch(n,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function SO(n=n1()){const e=Ny(n,"auth");if(e.isInitialized())return e.getImmediate();const t=YD(n,{popupRedirectResolver:yO,persistence:[x2,g2,N1]}),i=Xw("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(i,location.origin);if(location.origin===l.origin){const c=wO(l.toString());f2(t,c,()=>c(t.currentUser)),c2(t,h=>c(h))}}const a=Qw("auth");return a?KD(t,`http://${a}`):yd("Auth",!1),t}function AO(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}UD({loadJS(n){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=a=>{const l=qr("internal-error");l.customData=a,t(l)},i.type="text/javascript",i.charset="UTF-8",AO().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});bO("Browser");var RO="firebase",IO="11.7.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Rs(RO,IO,"app");var YE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Is,j1;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(N,x){function O(){}O.prototype=x.prototype,N.D=x.prototype,N.prototype=new O,N.prototype.constructor=N,N.C=function(M,V,z){for(var k=Array(arguments.length-2),ke=2;ke<arguments.length;ke++)k[ke-2]=arguments[ke];return x.prototype[V].apply(M,k)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,t),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(N,x,O){O||(O=0);var M=Array(16);if(typeof x=="string")for(var V=0;16>V;++V)M[V]=x.charCodeAt(O++)|x.charCodeAt(O++)<<8|x.charCodeAt(O++)<<16|x.charCodeAt(O++)<<24;else for(V=0;16>V;++V)M[V]=x[O++]|x[O++]<<8|x[O++]<<16|x[O++]<<24;x=N.g[0],O=N.g[1],V=N.g[2];var z=N.g[3],k=x+(z^O&(V^z))+M[0]+3614090360&4294967295;x=O+(k<<7&4294967295|k>>>25),k=z+(V^x&(O^V))+M[1]+3905402710&4294967295,z=x+(k<<12&4294967295|k>>>20),k=V+(O^z&(x^O))+M[2]+606105819&4294967295,V=z+(k<<17&4294967295|k>>>15),k=O+(x^V&(z^x))+M[3]+3250441966&4294967295,O=V+(k<<22&4294967295|k>>>10),k=x+(z^O&(V^z))+M[4]+4118548399&4294967295,x=O+(k<<7&4294967295|k>>>25),k=z+(V^x&(O^V))+M[5]+1200080426&4294967295,z=x+(k<<12&4294967295|k>>>20),k=V+(O^z&(x^O))+M[6]+2821735955&4294967295,V=z+(k<<17&4294967295|k>>>15),k=O+(x^V&(z^x))+M[7]+4249261313&4294967295,O=V+(k<<22&4294967295|k>>>10),k=x+(z^O&(V^z))+M[8]+1770035416&4294967295,x=O+(k<<7&4294967295|k>>>25),k=z+(V^x&(O^V))+M[9]+2336552879&4294967295,z=x+(k<<12&4294967295|k>>>20),k=V+(O^z&(x^O))+M[10]+4294925233&4294967295,V=z+(k<<17&4294967295|k>>>15),k=O+(x^V&(z^x))+M[11]+2304563134&4294967295,O=V+(k<<22&4294967295|k>>>10),k=x+(z^O&(V^z))+M[12]+1804603682&4294967295,x=O+(k<<7&4294967295|k>>>25),k=z+(V^x&(O^V))+M[13]+4254626195&4294967295,z=x+(k<<12&4294967295|k>>>20),k=V+(O^z&(x^O))+M[14]+2792965006&4294967295,V=z+(k<<17&4294967295|k>>>15),k=O+(x^V&(z^x))+M[15]+1236535329&4294967295,O=V+(k<<22&4294967295|k>>>10),k=x+(V^z&(O^V))+M[1]+4129170786&4294967295,x=O+(k<<5&4294967295|k>>>27),k=z+(O^V&(x^O))+M[6]+3225465664&4294967295,z=x+(k<<9&4294967295|k>>>23),k=V+(x^O&(z^x))+M[11]+643717713&4294967295,V=z+(k<<14&4294967295|k>>>18),k=O+(z^x&(V^z))+M[0]+3921069994&4294967295,O=V+(k<<20&4294967295|k>>>12),k=x+(V^z&(O^V))+M[5]+3593408605&4294967295,x=O+(k<<5&4294967295|k>>>27),k=z+(O^V&(x^O))+M[10]+38016083&4294967295,z=x+(k<<9&4294967295|k>>>23),k=V+(x^O&(z^x))+M[15]+3634488961&4294967295,V=z+(k<<14&4294967295|k>>>18),k=O+(z^x&(V^z))+M[4]+3889429448&4294967295,O=V+(k<<20&4294967295|k>>>12),k=x+(V^z&(O^V))+M[9]+568446438&4294967295,x=O+(k<<5&4294967295|k>>>27),k=z+(O^V&(x^O))+M[14]+3275163606&4294967295,z=x+(k<<9&4294967295|k>>>23),k=V+(x^O&(z^x))+M[3]+4107603335&4294967295,V=z+(k<<14&4294967295|k>>>18),k=O+(z^x&(V^z))+M[8]+1163531501&4294967295,O=V+(k<<20&4294967295|k>>>12),k=x+(V^z&(O^V))+M[13]+2850285829&4294967295,x=O+(k<<5&4294967295|k>>>27),k=z+(O^V&(x^O))+M[2]+4243563512&4294967295,z=x+(k<<9&4294967295|k>>>23),k=V+(x^O&(z^x))+M[7]+1735328473&4294967295,V=z+(k<<14&4294967295|k>>>18),k=O+(z^x&(V^z))+M[12]+2368359562&4294967295,O=V+(k<<20&4294967295|k>>>12),k=x+(O^V^z)+M[5]+4294588738&4294967295,x=O+(k<<4&4294967295|k>>>28),k=z+(x^O^V)+M[8]+2272392833&4294967295,z=x+(k<<11&4294967295|k>>>21),k=V+(z^x^O)+M[11]+1839030562&4294967295,V=z+(k<<16&4294967295|k>>>16),k=O+(V^z^x)+M[14]+4259657740&4294967295,O=V+(k<<23&4294967295|k>>>9),k=x+(O^V^z)+M[1]+2763975236&4294967295,x=O+(k<<4&4294967295|k>>>28),k=z+(x^O^V)+M[4]+1272893353&4294967295,z=x+(k<<11&4294967295|k>>>21),k=V+(z^x^O)+M[7]+4139469664&4294967295,V=z+(k<<16&4294967295|k>>>16),k=O+(V^z^x)+M[10]+3200236656&4294967295,O=V+(k<<23&4294967295|k>>>9),k=x+(O^V^z)+M[13]+681279174&4294967295,x=O+(k<<4&4294967295|k>>>28),k=z+(x^O^V)+M[0]+3936430074&4294967295,z=x+(k<<11&4294967295|k>>>21),k=V+(z^x^O)+M[3]+3572445317&4294967295,V=z+(k<<16&4294967295|k>>>16),k=O+(V^z^x)+M[6]+76029189&4294967295,O=V+(k<<23&4294967295|k>>>9),k=x+(O^V^z)+M[9]+3654602809&4294967295,x=O+(k<<4&4294967295|k>>>28),k=z+(x^O^V)+M[12]+3873151461&4294967295,z=x+(k<<11&4294967295|k>>>21),k=V+(z^x^O)+M[15]+530742520&4294967295,V=z+(k<<16&4294967295|k>>>16),k=O+(V^z^x)+M[2]+3299628645&4294967295,O=V+(k<<23&4294967295|k>>>9),k=x+(V^(O|~z))+M[0]+4096336452&4294967295,x=O+(k<<6&4294967295|k>>>26),k=z+(O^(x|~V))+M[7]+1126891415&4294967295,z=x+(k<<10&4294967295|k>>>22),k=V+(x^(z|~O))+M[14]+2878612391&4294967295,V=z+(k<<15&4294967295|k>>>17),k=O+(z^(V|~x))+M[5]+4237533241&4294967295,O=V+(k<<21&4294967295|k>>>11),k=x+(V^(O|~z))+M[12]+1700485571&4294967295,x=O+(k<<6&4294967295|k>>>26),k=z+(O^(x|~V))+M[3]+2399980690&4294967295,z=x+(k<<10&4294967295|k>>>22),k=V+(x^(z|~O))+M[10]+4293915773&4294967295,V=z+(k<<15&4294967295|k>>>17),k=O+(z^(V|~x))+M[1]+2240044497&4294967295,O=V+(k<<21&4294967295|k>>>11),k=x+(V^(O|~z))+M[8]+1873313359&4294967295,x=O+(k<<6&4294967295|k>>>26),k=z+(O^(x|~V))+M[15]+4264355552&4294967295,z=x+(k<<10&4294967295|k>>>22),k=V+(x^(z|~O))+M[6]+2734768916&4294967295,V=z+(k<<15&4294967295|k>>>17),k=O+(z^(V|~x))+M[13]+1309151649&4294967295,O=V+(k<<21&4294967295|k>>>11),k=x+(V^(O|~z))+M[4]+4149444226&4294967295,x=O+(k<<6&4294967295|k>>>26),k=z+(O^(x|~V))+M[11]+3174756917&4294967295,z=x+(k<<10&4294967295|k>>>22),k=V+(x^(z|~O))+M[2]+718787259&4294967295,V=z+(k<<15&4294967295|k>>>17),k=O+(z^(V|~x))+M[9]+3951481745&4294967295,N.g[0]=N.g[0]+x&4294967295,N.g[1]=N.g[1]+(V+(k<<21&4294967295|k>>>11))&4294967295,N.g[2]=N.g[2]+V&4294967295,N.g[3]=N.g[3]+z&4294967295}i.prototype.u=function(N,x){x===void 0&&(x=N.length);for(var O=x-this.blockSize,M=this.B,V=this.h,z=0;z<x;){if(V==0)for(;z<=O;)a(this,N,z),z+=this.blockSize;if(typeof N=="string"){for(;z<x;)if(M[V++]=N.charCodeAt(z++),V==this.blockSize){a(this,M),V=0;break}}else for(;z<x;)if(M[V++]=N[z++],V==this.blockSize){a(this,M),V=0;break}}this.h=V,this.o+=x},i.prototype.v=function(){var N=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);N[0]=128;for(var x=1;x<N.length-8;++x)N[x]=0;var O=8*this.o;for(x=N.length-8;x<N.length;++x)N[x]=O&255,O/=256;for(this.u(N),N=Array(16),x=O=0;4>x;++x)for(var M=0;32>M;M+=8)N[O++]=this.g[x]>>>M&255;return N};function l(N,x){var O=h;return Object.prototype.hasOwnProperty.call(O,N)?O[N]:O[N]=x(N)}function c(N,x){this.h=x;for(var O=[],M=!0,V=N.length-1;0<=V;V--){var z=N[V]|0;M&&z==x||(O[V]=z,M=!1)}this.g=O}var h={};function m(N){return-128<=N&&128>N?l(N,function(x){return new c([x|0],0>x?-1:0)}):new c([N|0],0>N?-1:0)}function p(N){if(isNaN(N)||!isFinite(N))return _;if(0>N)return D(p(-N));for(var x=[],O=1,M=0;N>=O;M++)x[M]=N/O|0,O*=4294967296;return new c(x,0)}function y(N,x){if(N.length==0)throw Error("number format error: empty string");if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(N.charAt(0)=="-")return D(y(N.substring(1),x));if(0<=N.indexOf("-"))throw Error('number format error: interior "-" character');for(var O=p(Math.pow(x,8)),M=_,V=0;V<N.length;V+=8){var z=Math.min(8,N.length-V),k=parseInt(N.substring(V,V+z),x);8>z?(z=p(Math.pow(x,z)),M=M.j(z).add(p(k))):(M=M.j(O),M=M.add(p(k)))}return M}var _=m(0),b=m(1),w=m(16777216);n=c.prototype,n.m=function(){if(C(this))return-D(this).m();for(var N=0,x=1,O=0;O<this.g.length;O++){var M=this.i(O);N+=(0<=M?M:4294967296+M)*x,x*=4294967296}return N},n.toString=function(N){if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if(R(this))return"0";if(C(this))return"-"+D(this).toString(N);for(var x=p(Math.pow(N,6)),O=this,M="";;){var V=H(O,x).g;O=B(O,V.j(x));var z=((0<O.g.length?O.g[0]:O.h)>>>0).toString(N);if(O=V,R(O))return z+M;for(;6>z.length;)z="0"+z;M=z+M}},n.i=function(N){return 0>N?0:N<this.g.length?this.g[N]:this.h};function R(N){if(N.h!=0)return!1;for(var x=0;x<N.g.length;x++)if(N.g[x]!=0)return!1;return!0}function C(N){return N.h==-1}n.l=function(N){return N=B(this,N),C(N)?-1:R(N)?0:1};function D(N){for(var x=N.g.length,O=[],M=0;M<x;M++)O[M]=~N.g[M];return new c(O,~N.h).add(b)}n.abs=function(){return C(this)?D(this):this},n.add=function(N){for(var x=Math.max(this.g.length,N.g.length),O=[],M=0,V=0;V<=x;V++){var z=M+(this.i(V)&65535)+(N.i(V)&65535),k=(z>>>16)+(this.i(V)>>>16)+(N.i(V)>>>16);M=k>>>16,z&=65535,k&=65535,O[V]=k<<16|z}return new c(O,O[O.length-1]&-2147483648?-1:0)};function B(N,x){return N.add(D(x))}n.j=function(N){if(R(this)||R(N))return _;if(C(this))return C(N)?D(this).j(D(N)):D(D(this).j(N));if(C(N))return D(this.j(D(N)));if(0>this.l(w)&&0>N.l(w))return p(this.m()*N.m());for(var x=this.g.length+N.g.length,O=[],M=0;M<2*x;M++)O[M]=0;for(M=0;M<this.g.length;M++)for(var V=0;V<N.g.length;V++){var z=this.i(M)>>>16,k=this.i(M)&65535,ke=N.i(V)>>>16,De=N.i(V)&65535;O[2*M+2*V]+=k*De,F(O,2*M+2*V),O[2*M+2*V+1]+=z*De,F(O,2*M+2*V+1),O[2*M+2*V+1]+=k*ke,F(O,2*M+2*V+1),O[2*M+2*V+2]+=z*ke,F(O,2*M+2*V+2)}for(M=0;M<x;M++)O[M]=O[2*M+1]<<16|O[2*M];for(M=x;M<2*x;M++)O[M]=0;return new c(O,0)};function F(N,x){for(;(N[x]&65535)!=N[x];)N[x+1]+=N[x]>>>16,N[x]&=65535,x++}function q(N,x){this.g=N,this.h=x}function H(N,x){if(R(x))throw Error("division by zero");if(R(N))return new q(_,_);if(C(N))return x=H(D(N),x),new q(D(x.g),D(x.h));if(C(x))return x=H(N,D(x)),new q(D(x.g),x.h);if(30<N.g.length){if(C(N)||C(x))throw Error("slowDivide_ only works with positive integers.");for(var O=b,M=x;0>=M.l(N);)O=K(O),M=K(M);var V=ee(O,1),z=ee(M,1);for(M=ee(M,2),O=ee(O,2);!R(M);){var k=z.add(M);0>=k.l(N)&&(V=V.add(O),z=k),M=ee(M,1),O=ee(O,1)}return x=B(N,V.j(x)),new q(V,x)}for(V=_;0<=N.l(x);){for(O=Math.max(1,Math.floor(N.m()/x.m())),M=Math.ceil(Math.log(O)/Math.LN2),M=48>=M?1:Math.pow(2,M-48),z=p(O),k=z.j(x);C(k)||0<k.l(N);)O-=M,z=p(O),k=z.j(x);R(z)&&(z=b),V=V.add(z),N=B(N,k)}return new q(V,N)}n.A=function(N){return H(this,N).h},n.and=function(N){for(var x=Math.max(this.g.length,N.g.length),O=[],M=0;M<x;M++)O[M]=this.i(M)&N.i(M);return new c(O,this.h&N.h)},n.or=function(N){for(var x=Math.max(this.g.length,N.g.length),O=[],M=0;M<x;M++)O[M]=this.i(M)|N.i(M);return new c(O,this.h|N.h)},n.xor=function(N){for(var x=Math.max(this.g.length,N.g.length),O=[],M=0;M<x;M++)O[M]=this.i(M)^N.i(M);return new c(O,this.h^N.h)};function K(N){for(var x=N.g.length+1,O=[],M=0;M<x;M++)O[M]=N.i(M)<<1|N.i(M-1)>>>31;return new c(O,N.h)}function ee(N,x){var O=x>>5;x%=32;for(var M=N.g.length-O,V=[],z=0;z<M;z++)V[z]=0<x?N.i(z+O)>>>x|N.i(z+O+1)<<32-x:N.i(z+O);return new c(V,N.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,j1=i,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=p,c.fromString=y,Is=c}).apply(typeof YE<"u"?YE:typeof self<"u"?self:typeof window<"u"?window:{});var vh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var F1,Yu,z1,Mh,qg,B1,$1,H1;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(f,v,E){return f==Array.prototype||f==Object.prototype||(f[v]=E.value),f};function t(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof vh=="object"&&vh];for(var v=0;v<f.length;++v){var E=f[v];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var i=t(this);function a(f,v){if(v)e:{var E=i;f=f.split(".");for(var I=0;I<f.length-1;I++){var Y=f[I];if(!(Y in E))break e;E=E[Y]}f=f[f.length-1],I=E[f],v=v(I),v!=I&&v!=null&&e(E,f,{configurable:!0,writable:!0,value:v})}}function l(f,v){f instanceof String&&(f+="");var E=0,I=!1,Y={next:function(){if(!I&&E<f.length){var J=E++;return{value:v(J,f[J]),done:!1}}return I=!0,{done:!0,value:void 0}}};return Y[Symbol.iterator]=function(){return Y},Y}a("Array.prototype.values",function(f){return f||function(){return l(this,function(v,E){return E})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},h=this||self;function m(f){var v=typeof f;return v=v!="object"?v:f?Array.isArray(f)?"array":v:"null",v=="array"||v=="object"&&typeof f.length=="number"}function p(f){var v=typeof f;return v=="object"&&f!=null||v=="function"}function y(f,v,E){return f.call.apply(f.bind,arguments)}function _(f,v,E){if(!f)throw Error();if(2<arguments.length){var I=Array.prototype.slice.call(arguments,2);return function(){var Y=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Y,I),f.apply(v,Y)}}return function(){return f.apply(v,arguments)}}function b(f,v,E){return b=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?y:_,b.apply(null,arguments)}function w(f,v){var E=Array.prototype.slice.call(arguments,1);return function(){var I=E.slice();return I.push.apply(I,arguments),f.apply(this,I)}}function R(f,v){function E(){}E.prototype=v.prototype,f.aa=v.prototype,f.prototype=new E,f.prototype.constructor=f,f.Qb=function(I,Y,J){for(var he=Array(arguments.length-2),Be=2;Be<arguments.length;Be++)he[Be-2]=arguments[Be];return v.prototype[Y].apply(I,he)}}function C(f){const v=f.length;if(0<v){const E=Array(v);for(let I=0;I<v;I++)E[I]=f[I];return E}return[]}function D(f,v){for(let E=1;E<arguments.length;E++){const I=arguments[E];if(m(I)){const Y=f.length||0,J=I.length||0;f.length=Y+J;for(let he=0;he<J;he++)f[Y+he]=I[he]}else f.push(I)}}class B{constructor(v,E){this.i=v,this.j=E,this.h=0,this.g=null}get(){let v;return 0<this.h?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function F(f){return/^[\s\xa0]*$/.test(f)}function q(){var f=h.navigator;return f&&(f=f.userAgent)?f:""}function H(f){return H[" "](f),f}H[" "]=function(){};var K=q().indexOf("Gecko")!=-1&&!(q().toLowerCase().indexOf("webkit")!=-1&&q().indexOf("Edge")==-1)&&!(q().indexOf("Trident")!=-1||q().indexOf("MSIE")!=-1)&&q().indexOf("Edge")==-1;function ee(f,v,E){for(const I in f)v.call(E,f[I],I,f)}function N(f,v){for(const E in f)v.call(void 0,f[E],E,f)}function x(f){const v={};for(const E in f)v[E]=f[E];return v}const O="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function M(f,v){let E,I;for(let Y=1;Y<arguments.length;Y++){I=arguments[Y];for(E in I)f[E]=I[E];for(let J=0;J<O.length;J++)E=O[J],Object.prototype.hasOwnProperty.call(I,E)&&(f[E]=I[E])}}function V(f){var v=1;f=f.split(":");const E=[];for(;0<v&&f.length;)E.push(f.shift()),v--;return f.length&&E.push(f.join(":")),E}function z(f){h.setTimeout(()=>{throw f},0)}function k(){var f=le;let v=null;return f.g&&(v=f.g,f.g=f.g.next,f.g||(f.h=null),v.next=null),v}class ke{constructor(){this.h=this.g=null}add(v,E){const I=De.get();I.set(v,E),this.h?this.h.next=I:this.g=I,this.h=I}}var De=new B(()=>new Z,f=>f.reset());class Z{constructor(){this.next=this.g=this.h=null}set(v,E){this.h=v,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let ue,ce=!1,le=new ke,L=()=>{const f=h.Promise.resolve(void 0);ue=()=>{f.then(re)}};var re=()=>{for(var f;f=k();){try{f.h.call(f.g)}catch(E){z(E)}var v=De;v.j(f),100>v.h&&(v.h++,f.next=v.g,v.g=f)}ce=!1};function fe(){this.s=this.s,this.C=this.C}fe.prototype.s=!1,fe.prototype.ma=function(){this.s||(this.s=!0,this.N())},fe.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function te(f,v){this.type=f,this.g=this.target=v,this.defaultPrevented=!1}te.prototype.h=function(){this.defaultPrevented=!0};var ve=function(){if(!h.addEventListener||!Object.defineProperty)return!1;var f=!1,v=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const E=()=>{};h.addEventListener("test",E,v),h.removeEventListener("test",E,v)}catch{}return f}();function Oe(f,v){if(te.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f){var E=this.type=f.type,I=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;if(this.target=f.target||f.srcElement,this.g=v,v=f.relatedTarget){if(K){e:{try{H(v.nodeName);var Y=!0;break e}catch{}Y=!1}Y||(v=null)}}else E=="mouseover"?v=f.fromElement:E=="mouseout"&&(v=f.toElement);this.relatedTarget=v,I?(this.clientX=I.clientX!==void 0?I.clientX:I.pageX,this.clientY=I.clientY!==void 0?I.clientY:I.pageY,this.screenX=I.screenX||0,this.screenY=I.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=typeof f.pointerType=="string"?f.pointerType:Re[f.pointerType]||"",this.state=f.state,this.i=f,f.defaultPrevented&&Oe.aa.h.call(this)}}R(Oe,te);var Re={2:"touch",3:"pen",4:"mouse"};Oe.prototype.h=function(){Oe.aa.h.call(this);var f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var gt="closure_listenable_"+(1e6*Math.random()|0),Qe=0;function an(f,v,E,I,Y){this.listener=f,this.proxy=null,this.src=v,this.type=E,this.capture=!!I,this.ha=Y,this.key=++Qe,this.da=this.fa=!1}function ji(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function ni(f){this.src=f,this.g={},this.h=0}ni.prototype.add=function(f,v,E,I,Y){var J=f.toString();f=this.g[J],f||(f=this.g[J]=[],this.h++);var he=Ys(f,v,I,Y);return-1<he?(v=f[he],E||(v.fa=!1)):(v=new an(v,this.src,J,!!I,Y),v.fa=E,f.push(v)),v};function qs(f,v){var E=v.type;if(E in f.g){var I=f.g[E],Y=Array.prototype.indexOf.call(I,v,void 0),J;(J=0<=Y)&&Array.prototype.splice.call(I,Y,1),J&&(ji(v),f.g[E].length==0&&(delete f.g[E],f.h--))}}function Ys(f,v,E,I){for(var Y=0;Y<f.length;++Y){var J=f[Y];if(!J.da&&J.listener==v&&J.capture==!!E&&J.ha==I)return Y}return-1}var Gs="closure_lm_"+(1e6*Math.random()|0),Ml={};function Yc(f,v,E,I,Y){if(Array.isArray(v)){for(var J=0;J<v.length;J++)Yc(f,v[J],E,I,Y);return null}return E=Gc(E),f&&f[gt]?f.K(v,E,p(I)?!!I.capture:!1,Y):Yn(f,v,E,!1,I,Y)}function Yn(f,v,E,I,Y,J){if(!v)throw Error("Invalid event type");var he=p(Y)?!!Y.capture:!!Y,Be=eo(f);if(Be||(f[Gs]=Be=new ni(f)),E=Be.add(v,E,I,he,J),E.proxy)return E;if(I=em(),E.proxy=I,I.src=f,I.listener=E,f.addEventListener)ve||(Y=he),Y===void 0&&(Y=!1),f.addEventListener(v.toString(),I,Y);else if(f.attachEvent)f.attachEvent(Ks(v.toString()),I);else if(f.addListener&&f.removeListener)f.addListener(I);else throw Error("addEventListener and attachEvent are unavailable.");return E}function em(){function f(E){return v.call(f.src,f.listener,E)}const v=tm;return f}function kl(f,v,E,I,Y){if(Array.isArray(v))for(var J=0;J<v.length;J++)kl(f,v[J],E,I,Y);else I=p(I)?!!I.capture:!!I,E=Gc(E),f&&f[gt]?(f=f.i,v=String(v).toString(),v in f.g&&(J=f.g[v],E=Ys(J,E,I,Y),-1<E&&(ji(J[E]),Array.prototype.splice.call(J,E,1),J.length==0&&(delete f.g[v],f.h--)))):f&&(f=eo(f))&&(v=f.g[v.toString()],f=-1,v&&(f=Ys(v,E,I,Y)),(E=-1<f?v[f]:null)&&Ja(E))}function Ja(f){if(typeof f!="number"&&f&&!f.da){var v=f.src;if(v&&v[gt])qs(v.i,f);else{var E=f.type,I=f.proxy;v.removeEventListener?v.removeEventListener(E,I,f.capture):v.detachEvent?v.detachEvent(Ks(E),I):v.addListener&&v.removeListener&&v.removeListener(I),(E=eo(v))?(qs(E,f),E.h==0&&(E.src=null,v[Gs]=null)):ji(f)}}}function Ks(f){return f in Ml?Ml[f]:Ml[f]="on"+f}function tm(f,v){if(f.da)f=!0;else{v=new Oe(v,this);var E=f.listener,I=f.ha||f.src;f.fa&&Ja(f),f=E.call(I,v)}return f}function eo(f){return f=f[Gs],f instanceof ni?f:null}var Pl="__closure_events_fn_"+(1e9*Math.random()>>>0);function Gc(f){return typeof f=="function"?f:(f[Pl]||(f[Pl]=function(v){return f.handleEvent(v)}),f[Pl])}function yt(){fe.call(this),this.i=new ni(this),this.M=this,this.F=null}R(yt,fe),yt.prototype[gt]=!0,yt.prototype.removeEventListener=function(f,v,E,I){kl(this,f,v,E,I)};function Je(f,v){var E,I=f.F;if(I)for(E=[];I;I=I.F)E.push(I);if(f=f.M,I=v.type||v,typeof v=="string")v=new te(v,f);else if(v instanceof te)v.target=v.target||f;else{var Y=v;v=new te(I,f),M(v,Y)}if(Y=!0,E)for(var J=E.length-1;0<=J;J--){var he=v.g=E[J];Y=Nn(he,I,!0,v)&&Y}if(he=v.g=f,Y=Nn(he,I,!0,v)&&Y,Y=Nn(he,I,!1,v)&&Y,E)for(J=0;J<E.length;J++)he=v.g=E[J],Y=Nn(he,I,!1,v)&&Y}yt.prototype.N=function(){if(yt.aa.N.call(this),this.i){var f=this.i,v;for(v in f.g){for(var E=f.g[v],I=0;I<E.length;I++)ji(E[I]);delete f.g[v],f.h--}}this.F=null},yt.prototype.K=function(f,v,E,I){return this.i.add(String(f),v,!1,E,I)},yt.prototype.L=function(f,v,E,I){return this.i.add(String(f),v,!0,E,I)};function Nn(f,v,E,I){if(v=f.i.g[String(v)],!v)return!0;v=v.concat();for(var Y=!0,J=0;J<v.length;++J){var he=v[J];if(he&&!he.da&&he.capture==E){var Be=he.listener,Lt=he.ha||he.src;he.fa&&qs(f.i,he),Y=Be.call(Lt,I)!==!1&&Y}}return Y&&!I.defaultPrevented}function on(f,v,E){if(typeof f=="function")E&&(f=b(f,E));else if(f&&typeof f.handleEvent=="function")f=b(f.handleEvent,f);else throw Error("Invalid listener argument");return 2147483647<Number(v)?-1:h.setTimeout(f,v||0)}function Kc(f){f.g=on(()=>{f.g=null,f.i&&(f.i=!1,Kc(f))},f.l);const v=f.h;f.h=null,f.m.apply(null,v)}class nm extends fe{constructor(v,E){super(),this.m=v,this.l=E,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:Kc(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Qs(f){fe.call(this),this.h=f,this.g={}}R(Qs,fe);var Ws=[];function Xs(f){ee(f.g,function(v,E){this.g.hasOwnProperty(E)&&Ja(v)},f),f.g={}}Qs.prototype.N=function(){Qs.aa.N.call(this),Xs(this)},Qs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ur=h.JSON.stringify,to=h.JSON.parse,Zs=class{stringify(f){return h.JSON.stringify(f,void 0)}parse(f){return h.JSON.parse(f,void 0)}};function Ll(){}Ll.prototype.h=null;function Vl(f){return f.h||(f.h=f.i())}function Ul(){}var ri={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ii(){te.call(this,"d")}R(ii,te);function jl(){te.call(this,"c")}R(jl,te);var Sr={},Fl=null;function Fi(){return Fl=Fl||new yt}Sr.La="serverreachability";function no(f){te.call(this,Sr.La,f)}R(no,te);function zi(f){const v=Fi();Je(v,new no(v))}Sr.STAT_EVENT="statevent";function Qc(f,v){te.call(this,Sr.STAT_EVENT,f),this.stat=v}R(Qc,te);function ht(f){const v=Fi();Je(v,new Qc(v,f))}Sr.Ma="timingevent";function Pt(f,v){te.call(this,Sr.Ma,f),this.size=v}R(Pt,te);function Rt(f,v){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){f()},v)}function Gn(){this.g=!0}Gn.prototype.xa=function(){this.g=!1};function zl(f,v,E,I,Y,J){f.info(function(){if(f.g)if(J)for(var he="",Be=J.split("&"),Lt=0;Lt<Be.length;Lt++){var $e=Be[Lt].split("=");if(1<$e.length){var $t=$e[0];$e=$e[1];var Vt=$t.split("_");he=2<=Vt.length&&Vt[1]=="type"?he+($t+"="+$e+"&"):he+($t+"=redacted&")}}else he=null;else he=J;return"XMLHTTP REQ ("+I+") [attempt "+Y+"]: "+v+`
`+E+`
`+he})}function rm(f,v,E,I,Y,J,he){f.info(function(){return"XMLHTTP RESP ("+I+") [ attempt "+Y+"]: "+v+`
`+E+`
`+J+" "+he})}function Bi(f,v,E,I){f.info(function(){return"XMLHTTP TEXT ("+v+"): "+Js(f,E)+(I?" "+I:"")})}function Wc(f,v){f.info(function(){return"TIMEOUT: "+v})}Gn.prototype.info=function(){};function Js(f,v){if(!f.g)return v;if(!v)return null;try{var E=JSON.parse(v);if(E){for(f=0;f<E.length;f++)if(Array.isArray(E[f])){var I=E[f];if(!(2>I.length)){var Y=I[1];if(Array.isArray(Y)&&!(1>Y.length)){var J=Y[0];if(J!="noop"&&J!="stop"&&J!="close")for(var he=1;he<Y.length;he++)Y[he]=""}}}}return ur(E)}catch{return v}}var $i={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},si={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ar;function Rr(){}R(Rr,Ll),Rr.prototype.g=function(){return new XMLHttpRequest},Rr.prototype.i=function(){return{}},Ar=new Rr;function yn(f,v,E,I){this.j=f,this.i=v,this.l=E,this.R=I||1,this.U=new Qs(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Et}function Et(){this.i=null,this.g="",this.h=!1}var Bl={},ro={};function cr(f,v,E){f.L=1,f.v=ia(Mn(v)),f.m=E,f.P=!0,ai(f,null)}function ai(f,v){f.F=Date.now(),ea(f),f.A=Mn(f.v);var E=f.A,I=f.R;Array.isArray(I)||(I=[String(I)]),Kl(E.i,"t",I),f.C=0,E=f.j.J,f.h=new Et,f.g=df(f.j,E?v:null,!f.m),0<f.O&&(f.M=new nm(b(f.Y,f,f.g),f.O)),v=f.U,E=f.g,I=f.ca;var Y="readystatechange";Array.isArray(Y)||(Y&&(Ws[0]=Y.toString()),Y=Ws);for(var J=0;J<Y.length;J++){var he=Yc(E,Y[J],I||v.handleEvent,!1,v.h||v);if(!he)break;v.g[he.key]=he}v=f.H?x(f.H):{},f.m?(f.u||(f.u="POST"),v["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.A,f.u,f.m,v)):(f.u="GET",f.g.ea(f.A,f.u,null,v)),zi(),zl(f.i,f.u,f.A,f.l,f.R,f.m)}yn.prototype.ca=function(f){f=f.target;const v=this.M;v&&Xn(f)==3?v.j():this.Y(f)},yn.prototype.Y=function(f){try{if(f==this.g)e:{const Vt=Xn(this.g);var v=this.g.Ba();const mi=this.g.Z();if(!(3>Vt)&&(Vt!=3||this.g&&(this.h.h||this.g.oa()||sf(this.g)))){this.J||Vt!=4||v==7||(v==8||0>=mi?zi(3):zi(2)),Hi(this);var E=this.g.Z();this.X=E;t:if(Xc(this)){var I=sf(this.g);f="";var Y=I.length,J=Xn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Wt(this),Ir(this);var he="";break t}this.h.i=new h.TextDecoder}for(v=0;v<Y;v++)this.h.h=!0,f+=this.h.i.decode(I[v],{stream:!(J&&v==Y-1)});I.length=0,this.h.g+=f,this.C=0,he=this.h.g}else he=this.g.oa();if(this.o=E==200,rm(this.i,this.u,this.A,this.l,this.R,Vt,E),this.o){if(this.T&&!this.K){t:{if(this.g){var Be,Lt=this.g;if((Be=Lt.g?Lt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!F(Be)){var $e=Be;break t}}$e=null}if(E=$e)Bi(this.i,this.l,E,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ta(this,E);else{this.o=!1,this.s=3,ht(12),Wt(this),Ir(this);break e}}if(this.P){E=!0;let Xt;for(;!this.J&&this.C<he.length;)if(Xt=Zc(this,he),Xt==ro){Vt==4&&(this.s=4,ht(14),E=!1),Bi(this.i,this.l,null,"[Incomplete Response]");break}else if(Xt==Bl){this.s=4,ht(15),Bi(this.i,this.l,he,"[Invalid Chunk]"),E=!1;break}else Bi(this.i,this.l,Xt,null),ta(this,Xt);if(Xc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Vt!=4||he.length!=0||this.h.h||(this.s=1,ht(16),E=!1),this.o=this.o&&E,!E)Bi(this.i,this.l,he,"[Invalid Chunked Response]"),Wt(this),Ir(this);else if(0<he.length&&!this.W){this.W=!0;var $t=this.j;$t.g==this&&$t.ba&&!$t.M&&($t.j.info("Great, no buffering proxy detected. Bytes received: "+he.length),ha($t),$t.M=!0,ht(11))}}else Bi(this.i,this.l,he,null),ta(this,he);Vt==4&&Wt(this),this.o&&!this.J&&(Vt==4?cf(this.j,this):(this.o=!1,ea(this)))}else lm(this.g),E==400&&0<he.indexOf("Unknown SID")?(this.s=3,ht(12)):(this.s=0,ht(13)),Wt(this),Ir(this)}}}catch{}finally{}};function Xc(f){return f.g?f.u=="GET"&&f.L!=2&&f.j.Ca:!1}function Zc(f,v){var E=f.C,I=v.indexOf(`
`,E);return I==-1?ro:(E=Number(v.substring(E,I)),isNaN(E)?Bl:(I+=1,I+E>v.length?ro:(v=v.slice(I,I+E),f.C=I+E,v)))}yn.prototype.cancel=function(){this.J=!0,Wt(this)};function ea(f){f.S=Date.now()+f.I,Jc(f,f.I)}function Jc(f,v){if(f.B!=null)throw Error("WatchDog timer not null");f.B=Rt(b(f.ba,f),v)}function Hi(f){f.B&&(h.clearTimeout(f.B),f.B=null)}yn.prototype.ba=function(){this.B=null;const f=Date.now();0<=f-this.S?(Wc(this.i,this.A),this.L!=2&&(zi(),ht(17)),Wt(this),this.s=2,Ir(this)):Jc(this,this.S-f)};function Ir(f){f.j.G==0||f.J||cf(f.j,f)}function Wt(f){Hi(f);var v=f.M;v&&typeof v.ma=="function"&&v.ma(),f.M=null,Xs(f.U),f.g&&(v=f.g,f.g=null,v.abort(),v.ma())}function ta(f,v){try{var E=f.j;if(E.G!=0&&(E.g==f||$l(E.h,f))){if(!f.K&&$l(E.h,f)&&E.G==3){try{var I=E.Da.g.parse(v)}catch{I=null}if(Array.isArray(I)&&I.length==3){var Y=I;if(Y[0]==0){e:if(!E.u){if(E.g)if(E.g.F+3e3<f.F)go(E),mo(E);else break e;Jl(E),ht(18)}}else E.za=Y[1],0<E.za-E.T&&37500>Y[2]&&E.F&&E.v==0&&!E.C&&(E.C=Rt(b(E.Za,E),6e3));if(1>=so(E.h)&&E.ca){try{E.ca()}catch{}E.ca=void 0}}else di(E,11)}else if((f.K||E.g==f)&&go(E),!F(v))for(Y=E.Da.g.parse(v),v=0;v<Y.length;v++){let $e=Y[v];if(E.T=$e[0],$e=$e[1],E.G==2)if($e[0]=="c"){E.K=$e[1],E.ia=$e[2];const $t=$e[3];$t!=null&&(E.la=$t,E.j.info("VER="+E.la));const Vt=$e[4];Vt!=null&&(E.Aa=Vt,E.j.info("SVER="+E.Aa));const mi=$e[5];mi!=null&&typeof mi=="number"&&0<mi&&(I=1.5*mi,E.L=I,E.j.info("backChannelRequestTimeoutMs_="+I)),I=E;const Xt=f.g;if(Xt){const kr=Xt.g?Xt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(kr){var J=I.h;J.g||kr.indexOf("spdy")==-1&&kr.indexOf("quic")==-1&&kr.indexOf("h2")==-1||(J.j=J.l,J.g=new Set,J.h&&(ao(J,J.h),J.h=null))}if(I.D){const tu=Xt.g?Xt.g.getResponseHeader("X-HTTP-Session-Id"):null;tu&&(I.ya=tu,nt(I.I,I.D,tu))}}E.G=3,E.l&&E.l.ua(),E.ba&&(E.R=Date.now()-f.F,E.j.info("Handshake RTT: "+E.R+"ms")),I=E;var he=f;if(I.qa=hf(I,I.J?I.ia:null,I.W),he.K){vn(I.h,he);var Be=he,Lt=I.L;Lt&&(Be.I=Lt),Be.B&&(Hi(Be),ea(Be)),I.g=he}else lf(I);0<E.i.length&&po(E)}else $e[0]!="stop"&&$e[0]!="close"||di(E,7);else E.G==3&&($e[0]=="stop"||$e[0]=="close"?$e[0]=="stop"?di(E,7):Xl(E):$e[0]!="noop"&&E.l&&E.l.ta($e),E.v=0)}}zi(4)}catch{}}var ef=class{constructor(f,v){this.g=f,this.map=v}};function oi(f){this.l=f||10,h.PerformanceNavigationTiming?(f=h.performance.getEntriesByType("navigation"),f=0<f.length&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function io(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function so(f){return f.h?1:f.g?f.g.size:0}function $l(f,v){return f.h?f.h==v:f.g?f.g.has(v):!1}function ao(f,v){f.g?f.g.add(v):f.h=v}function vn(f,v){f.h&&f.h==v?f.h=null:f.g&&f.g.has(v)&&f.g.delete(v)}oi.prototype.cancel=function(){if(this.i=Hl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function Hl(f){if(f.h!=null)return f.i.concat(f.h.D);if(f.g!=null&&f.g.size!==0){let v=f.i;for(const E of f.g.values())v=v.concat(E.D);return v}return C(f.i)}function im(f){if(f.V&&typeof f.V=="function")return f.V();if(typeof Map<"u"&&f instanceof Map||typeof Set<"u"&&f instanceof Set)return Array.from(f.values());if(typeof f=="string")return f.split("");if(m(f)){for(var v=[],E=f.length,I=0;I<E;I++)v.push(f[I]);return v}v=[],E=0;for(I in f)v[E++]=f[I];return v}function oo(f){if(f.na&&typeof f.na=="function")return f.na();if(!f.V||typeof f.V!="function"){if(typeof Map<"u"&&f instanceof Map)return Array.from(f.keys());if(!(typeof Set<"u"&&f instanceof Set)){if(m(f)||typeof f=="string"){var v=[];f=f.length;for(var E=0;E<f;E++)v.push(E);return v}v=[],E=0;for(const I in f)v[E++]=I;return v}}}function ql(f,v){if(f.forEach&&typeof f.forEach=="function")f.forEach(v,void 0);else if(m(f)||typeof f=="string")Array.prototype.forEach.call(f,v,void 0);else for(var E=oo(f),I=im(f),Y=I.length,J=0;J<Y;J++)v.call(void 0,I[J],E&&E[J],f)}var na=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function sm(f,v){if(f){f=f.split("&");for(var E=0;E<f.length;E++){var I=f[E].indexOf("="),Y=null;if(0<=I){var J=f[E].substring(0,I);Y=f[E].substring(I+1)}else J=f[E];v(J,Y?decodeURIComponent(Y.replace(/\+/g," ")):"")}}}function It(f){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,f instanceof It){this.h=f.h,ra(this,f.j),this.o=f.o,this.g=f.g,qi(this,f.s),this.l=f.l;var v=f.i,E=new ui;E.i=v.i,v.g&&(E.g=new Map(v.g),E.h=v.h),li(this,E),this.m=f.m}else f&&(v=String(f).match(na))?(this.h=!1,ra(this,v[1]||"",!0),this.o=Kn(v[2]||""),this.g=Kn(v[3]||"",!0),qi(this,v[4]),this.l=Kn(v[5]||"",!0),li(this,v[6]||"",!0),this.m=Kn(v[7]||"")):(this.h=!1,this.i=new ui(null,this.h))}It.prototype.toString=function(){var f=[],v=this.j;v&&f.push(sa(v,Yl,!0),":");var E=this.g;return(E||v=="file")&&(f.push("//"),(v=this.o)&&f.push(sa(v,Yl,!0),"@"),f.push(encodeURIComponent(String(E)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.s,E!=null&&f.push(":",String(E))),(E=this.l)&&(this.g&&E.charAt(0)!="/"&&f.push("/"),f.push(sa(E,E.charAt(0)=="/"?am:Gl,!0))),(E=this.i.toString())&&f.push("?",E),(E=this.m)&&f.push("#",sa(E,lo)),f.join("")};function Mn(f){return new It(f)}function ra(f,v,E){f.j=E?Kn(v,!0):v,f.j&&(f.j=f.j.replace(/:$/,""))}function qi(f,v){if(v){if(v=Number(v),isNaN(v)||0>v)throw Error("Bad port number "+v);f.s=v}else f.s=null}function li(f,v,E){v instanceof ui?(f.i=v,nf(f.i,f.h)):(E||(v=sa(v,om)),f.i=new ui(v,f.h))}function nt(f,v,E){f.i.set(v,E)}function ia(f){return nt(f,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),f}function Kn(f,v){return f?v?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function sa(f,v,E){return typeof f=="string"?(f=encodeURI(f).replace(v,tf),E&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function tf(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var Yl=/[#\/\?@]/g,Gl=/[#\?:]/g,am=/[#\?]/g,om=/[#\?@]/g,lo=/#/g;function ui(f,v){this.h=this.g=null,this.i=f||null,this.j=!!v}function Qn(f){f.g||(f.g=new Map,f.h=0,f.i&&sm(f.i,function(v,E){f.add(decodeURIComponent(v.replace(/\+/g," ")),E)}))}n=ui.prototype,n.add=function(f,v){Qn(this),this.i=null,f=xr(this,f);var E=this.g.get(f);return E||this.g.set(f,E=[]),E.push(v),this.h+=1,this};function ci(f,v){Qn(f),v=xr(f,v),f.g.has(v)&&(f.i=null,f.h-=f.g.get(v).length,f.g.delete(v))}function fi(f,v){return Qn(f),v=xr(f,v),f.g.has(v)}n.forEach=function(f,v){Qn(this),this.g.forEach(function(E,I){E.forEach(function(Y){f.call(v,Y,I,this)},this)},this)},n.na=function(){Qn(this);const f=Array.from(this.g.values()),v=Array.from(this.g.keys()),E=[];for(let I=0;I<v.length;I++){const Y=f[I];for(let J=0;J<Y.length;J++)E.push(v[I])}return E},n.V=function(f){Qn(this);let v=[];if(typeof f=="string")fi(this,f)&&(v=v.concat(this.g.get(xr(this,f))));else{f=Array.from(this.g.values());for(let E=0;E<f.length;E++)v=v.concat(f[E])}return v},n.set=function(f,v){return Qn(this),this.i=null,f=xr(this,f),fi(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[v]),this.h+=1,this},n.get=function(f,v){return f?(f=this.V(f),0<f.length?String(f[0]):v):v};function Kl(f,v,E){ci(f,v),0<E.length&&(f.i=null,f.g.set(xr(f,v),C(E)),f.h+=E.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],v=Array.from(this.g.keys());for(var E=0;E<v.length;E++){var I=v[E];const J=encodeURIComponent(String(I)),he=this.V(I);for(I=0;I<he.length;I++){var Y=J;he[I]!==""&&(Y+="="+encodeURIComponent(String(he[I]))),f.push(Y)}}return this.i=f.join("&")};function xr(f,v){return v=String(v),f.j&&(v=v.toLowerCase()),v}function nf(f,v){v&&!f.j&&(Qn(f),f.i=null,f.g.forEach(function(E,I){var Y=I.toLowerCase();I!=Y&&(ci(this,I),Kl(this,Y,E))},f)),f.j=v}function aa(f,v){const E=new Gn;if(h.Image){const I=new Image;I.onload=w(Wn,E,"TestLoadImage: loaded",!0,v,I),I.onerror=w(Wn,E,"TestLoadImage: error",!1,v,I),I.onabort=w(Wn,E,"TestLoadImage: abort",!1,v,I),I.ontimeout=w(Wn,E,"TestLoadImage: timeout",!1,v,I),h.setTimeout(function(){I.ontimeout&&I.ontimeout()},1e4),I.src=f}else v(!1)}function fr(f,v){const E=new Gn,I=new AbortController,Y=setTimeout(()=>{I.abort(),Wn(E,"TestPingServer: timeout",!1,v)},1e4);fetch(f,{signal:I.signal}).then(J=>{clearTimeout(Y),J.ok?Wn(E,"TestPingServer: ok",!0,v):Wn(E,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(Y),Wn(E,"TestPingServer: error",!1,v)})}function Wn(f,v,E,I,Y){try{Y&&(Y.onload=null,Y.onerror=null,Y.onabort=null,Y.ontimeout=null),I(E)}catch{}}function oa(){this.g=new Zs}function Cr(f,v,E){const I=E||"";try{ql(f,function(Y,J){let he=Y;p(Y)&&(he=ur(Y)),v.push(I+J+"="+encodeURIComponent(he))})}catch(Y){throw v.push(I+"type="+encodeURIComponent("_badmap")),Y}}function Yi(f){this.l=f.Ub||null,this.j=f.eb||!1}R(Yi,Ll),Yi.prototype.g=function(){return new hi(this.l,this.j)},Yi.prototype.i=function(f){return function(){return f}}({});function hi(f,v){yt.call(this),this.D=f,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}R(hi,yt),n=hi.prototype,n.open=function(f,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=f,this.A=v,this.readyState=1,Or(this)},n.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const v={headers:this.u,method:this.B,credentials:this.m,cache:void 0};f&&(v.body=f),(this.D||h).fetch(new Request(this.A,v)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Dr(this)),this.readyState=0},n.Sa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,Or(this)),this.g&&(this.readyState=3,Or(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ql(this)}else f.text().then(this.Ra.bind(this),this.ga.bind(this))};function Ql(f){f.j.read().then(f.Pa.bind(f)).catch(f.ga.bind(f))}n.Pa=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var v=f.value?f.value:new Uint8Array(0);(v=this.v.decode(v,{stream:!f.done}))&&(this.response=this.responseText+=v)}f.done?Dr(this):Or(this),this.readyState==3&&Ql(this)}},n.Ra=function(f){this.g&&(this.response=this.responseText=f,Dr(this))},n.Qa=function(f){this.g&&(this.response=f,Dr(this))},n.ga=function(){this.g&&Dr(this)};function Dr(f){f.readyState=4,f.l=null,f.j=null,f.v=null,Or(f)}n.setRequestHeader=function(f,v){this.u.append(f,v)},n.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],v=this.h.entries();for(var E=v.next();!E.done;)E=E.value,f.push(E[0]+": "+E[1]),E=v.next();return f.join(`\r
`)};function Or(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(hi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function Wl(f){let v="";return ee(f,function(E,I){v+=I,v+=":",v+=E,v+=`\r
`}),v}function Bt(f,v,E){e:{for(I in E){var I=!1;break e}I=!0}I||(E=Wl(E),typeof f=="string"?E!=null&&encodeURIComponent(String(E)):nt(f,v,E))}function Xe(f){yt.call(this),this.headers=new Map,this.o=f||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}R(Xe,yt);var uo=/^https?$/i,la=["POST","PUT"];n=Xe.prototype,n.Ha=function(f){this.J=f},n.ea=function(f,v,E,I){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);v=v?v.toUpperCase():"GET",this.D=f,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ar.g(),this.v=this.o?Vl(this.o):Vl(Ar),this.g.onreadystatechange=b(this.Ea,this);try{this.B=!0,this.g.open(v,String(f),!0),this.B=!1}catch(J){rf(this,J);return}if(f=E||"",E=new Map(this.headers),I)if(Object.getPrototypeOf(I)===Object.prototype)for(var Y in I)E.set(Y,I[Y]);else if(typeof I.keys=="function"&&typeof I.get=="function")for(const J of I.keys())E.set(J,I.get(J));else throw Error("Unknown input type for opt_headers: "+String(I));I=Array.from(E.keys()).find(J=>J.toLowerCase()=="content-type"),Y=h.FormData&&f instanceof h.FormData,!(0<=Array.prototype.indexOf.call(la,v,void 0))||I||Y||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[J,he]of E)this.g.setRequestHeader(J,he);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ua(this),this.u=!0,this.g.send(f),this.u=!1}catch(J){rf(this,J)}};function rf(f,v){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=v,f.m=5,co(f),Nr(f)}function co(f){f.A||(f.A=!0,Je(f,"complete"),Je(f,"error"))}n.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=f||7,Je(this,"complete"),Je(this,"abort"),Nr(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Nr(this,!0)),Xe.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?fo(this):this.bb())},n.bb=function(){fo(this)};function fo(f){if(f.h&&typeof c<"u"&&(!f.v[1]||Xn(f)!=4||f.Z()!=2)){if(f.u&&Xn(f)==4)on(f.Ea,0,f);else if(Je(f,"readystatechange"),Xn(f)==4){f.h=!1;try{const he=f.Z();e:switch(he){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var E;if(!(E=v)){var I;if(I=he===0){var Y=String(f.D).match(na)[1]||null;!Y&&h.self&&h.self.location&&(Y=h.self.location.protocol.slice(0,-1)),I=!uo.test(Y?Y.toLowerCase():"")}E=I}if(E)Je(f,"complete"),Je(f,"success");else{f.m=6;try{var J=2<Xn(f)?f.g.statusText:""}catch{J=""}f.l=J+" ["+f.Z()+"]",co(f)}}finally{Nr(f)}}}}function Nr(f,v){if(f.g){ua(f);const E=f.g,I=f.v[0]?()=>{}:null;f.g=null,f.v=null,v||Je(f,"ready");try{E.onreadystatechange=I}catch{}}}function ua(f){f.I&&(h.clearTimeout(f.I),f.I=null)}n.isActive=function(){return!!this.g};function Xn(f){return f.g?f.g.readyState:0}n.Z=function(){try{return 2<Xn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(f){if(this.g){var v=this.g.responseText;return f&&v.indexOf(f)==0&&(v=v.substring(f.length)),to(v)}};function sf(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.H){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function lm(f){const v={};f=(f.g&&2<=Xn(f)&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let I=0;I<f.length;I++){if(F(f[I]))continue;var E=V(f[I]);const Y=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const J=v[Y]||[];v[Y]=J,J.push(E)}N(v,function(I){return I.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ca(f,v,E){return E&&E.internalChannelParams&&E.internalChannelParams[f]||v}function ho(f){this.Aa=0,this.i=[],this.j=new Gn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ca("failFast",!1,f),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ca("baseRetryDelayMs",5e3,f),this.cb=ca("retryDelaySeedMs",1e4,f),this.Wa=ca("forwardChannelMaxRetries",2,f),this.wa=ca("forwardChannelRequestTimeoutMs",2e4,f),this.pa=f&&f.xmlHttpFactory||void 0,this.Xa=f&&f.Tb||void 0,this.Ca=f&&f.useFetchStreams||!1,this.L=void 0,this.J=f&&f.supportsCrossDomainXhr||!1,this.K="",this.h=new oi(f&&f.concurrentRequestLimit),this.Da=new oa,this.P=f&&f.fastHandshake||!1,this.O=f&&f.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=f&&f.Rb||!1,f&&f.xa&&this.j.xa(),f&&f.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&f&&f.detectBufferingProxy||!1,this.ja=void 0,f&&f.longPollingTimeout&&0<f.longPollingTimeout&&(this.ja=f.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=ho.prototype,n.la=8,n.G=1,n.connect=function(f,v,E,I){ht(0),this.W=f,this.H=v||{},E&&I!==void 0&&(this.H.OSID=E,this.H.OAID=I),this.F=this.X,this.I=hf(this,null,this.W),po(this)};function Xl(f){if(af(f),f.G==3){var v=f.U++,E=Mn(f.I);if(nt(E,"SID",f.K),nt(E,"RID",v),nt(E,"TYPE","terminate"),fa(f,E),v=new yn(f,f.j,v),v.L=2,v.v=ia(Mn(E)),E=!1,h.navigator&&h.navigator.sendBeacon)try{E=h.navigator.sendBeacon(v.v.toString(),"")}catch{}!E&&h.Image&&(new Image().src=v.v,E=!0),E||(v.g=df(v.j,null),v.g.ea(v.v)),v.F=Date.now(),ea(v)}ff(f)}function mo(f){f.g&&(ha(f),f.g.cancel(),f.g=null)}function af(f){mo(f),f.u&&(h.clearTimeout(f.u),f.u=null),go(f),f.h.cancel(),f.s&&(typeof f.s=="number"&&h.clearTimeout(f.s),f.s=null)}function po(f){if(!io(f.h)&&!f.s){f.s=!0;var v=f.Ga;ue||L(),ce||(ue(),ce=!0),le.add(v,f),f.B=0}}function um(f,v){return so(f.h)>=f.h.j-(f.s?1:0)?!1:f.s?(f.i=v.D.concat(f.i),!0):f.G==1||f.G==2||f.B>=(f.Va?0:f.Wa)?!1:(f.s=Rt(b(f.Ga,f,v),eu(f,f.B)),f.B++,!0)}n.Ga=function(f){if(this.s)if(this.s=null,this.G==1){if(!f){this.U=Math.floor(1e5*Math.random()),f=this.U++;const Y=new yn(this,this.j,f);let J=this.o;if(this.S&&(J?(J=x(J),M(J,this.S)):J=this.S),this.m!==null||this.O||(Y.H=J,J=null),this.P)e:{for(var v=0,E=0;E<this.i.length;E++){t:{var I=this.i[E];if("__data__"in I.map&&(I=I.map.__data__,typeof I=="string")){I=I.length;break t}I=void 0}if(I===void 0)break;if(v+=I,4096<v){v=E;break e}if(v===4096||E===this.i.length-1){v=E+1;break e}}v=1e3}else v=1e3;v=of(this,Y,v),E=Mn(this.I),nt(E,"RID",f),nt(E,"CVER",22),this.D&&nt(E,"X-HTTP-Session-Id",this.D),fa(this,E),J&&(this.O?v="headers="+encodeURIComponent(String(Wl(J)))+"&"+v:this.m&&Bt(E,this.m,J)),ao(this.h,Y),this.Ua&&nt(E,"TYPE","init"),this.P?(nt(E,"$req",v),nt(E,"SID","null"),Y.T=!0,cr(Y,E,null)):cr(Y,E,v),this.G=2}}else this.G==3&&(f?Zl(this,f):this.i.length==0||io(this.h)||Zl(this))};function Zl(f,v){var E;v?E=v.l:E=f.U++;const I=Mn(f.I);nt(I,"SID",f.K),nt(I,"RID",E),nt(I,"AID",f.T),fa(f,I),f.m&&f.o&&Bt(I,f.m,f.o),E=new yn(f,f.j,E,f.B+1),f.m===null&&(E.H=f.o),v&&(f.i=v.D.concat(f.i)),v=of(f,E,1e3),E.I=Math.round(.5*f.wa)+Math.round(.5*f.wa*Math.random()),ao(f.h,E),cr(E,I,v)}function fa(f,v){f.H&&ee(f.H,function(E,I){nt(v,I,E)}),f.l&&ql({},function(E,I){nt(v,I,E)})}function of(f,v,E){E=Math.min(f.i.length,E);var I=f.l?b(f.l.Na,f.l,f):null;e:{var Y=f.i;let J=-1;for(;;){const he=["count="+E];J==-1?0<E?(J=Y[0].g,he.push("ofs="+J)):J=0:he.push("ofs="+J);let Be=!0;for(let Lt=0;Lt<E;Lt++){let $e=Y[Lt].g;const $t=Y[Lt].map;if($e-=J,0>$e)J=Math.max(0,Y[Lt].g-100),Be=!1;else try{Cr($t,he,"req"+$e+"_")}catch{I&&I($t)}}if(Be){I=he.join("&");break e}}}return f=f.i.splice(0,E),v.D=f,I}function lf(f){if(!f.g&&!f.u){f.Y=1;var v=f.Fa;ue||L(),ce||(ue(),ce=!0),le.add(v,f),f.v=0}}function Jl(f){return f.g||f.u||3<=f.v?!1:(f.Y++,f.u=Rt(b(f.Fa,f),eu(f,f.v)),f.v++,!0)}n.Fa=function(){if(this.u=null,uf(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var f=2*this.R;this.j.info("BP detection timer enabled: "+f),this.A=Rt(b(this.ab,this),f)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ht(10),mo(this),uf(this))};function ha(f){f.A!=null&&(h.clearTimeout(f.A),f.A=null)}function uf(f){f.g=new yn(f,f.j,"rpc",f.Y),f.m===null&&(f.g.H=f.o),f.g.O=0;var v=Mn(f.qa);nt(v,"RID","rpc"),nt(v,"SID",f.K),nt(v,"AID",f.T),nt(v,"CI",f.F?"0":"1"),!f.F&&f.ja&&nt(v,"TO",f.ja),nt(v,"TYPE","xmlhttp"),fa(f,v),f.m&&f.o&&Bt(v,f.m,f.o),f.L&&(f.g.I=f.L);var E=f.g;f=f.ia,E.L=1,E.v=ia(Mn(v)),E.m=null,E.P=!0,ai(E,f)}n.Za=function(){this.C!=null&&(this.C=null,mo(this),Jl(this),ht(19))};function go(f){f.C!=null&&(h.clearTimeout(f.C),f.C=null)}function cf(f,v){var E=null;if(f.g==v){go(f),ha(f),f.g=null;var I=2}else if($l(f.h,v))E=v.D,vn(f.h,v),I=1;else return;if(f.G!=0){if(v.o)if(I==1){E=v.m?v.m.length:0,v=Date.now()-v.F;var Y=f.B;I=Fi(),Je(I,new Pt(I,E)),po(f)}else lf(f);else if(Y=v.s,Y==3||Y==0&&0<v.X||!(I==1&&um(f,v)||I==2&&Jl(f)))switch(E&&0<E.length&&(v=f.h,v.i=v.i.concat(E)),Y){case 1:di(f,5);break;case 4:di(f,10);break;case 3:di(f,6);break;default:di(f,2)}}}function eu(f,v){let E=f.Ta+Math.floor(Math.random()*f.cb);return f.isActive()||(E*=2),E*v}function di(f,v){if(f.j.info("Error code "+v),v==2){var E=b(f.fb,f),I=f.Xa;const Y=!I;I=new It(I||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||ra(I,"https"),ia(I),Y?aa(I.toString(),E):fr(I.toString(),E)}else ht(2);f.G=0,f.l&&f.l.sa(v),ff(f),af(f)}n.fb=function(f){f?(this.j.info("Successfully pinged google.com"),ht(2)):(this.j.info("Failed to ping google.com"),ht(1))};function ff(f){if(f.G=0,f.ka=[],f.l){const v=Hl(f.h);(v.length!=0||f.i.length!=0)&&(D(f.ka,v),D(f.ka,f.i),f.h.i.length=0,C(f.i),f.i.length=0),f.l.ra()}}function hf(f,v,E){var I=E instanceof It?Mn(E):new It(E);if(I.g!="")v&&(I.g=v+"."+I.g),qi(I,I.s);else{var Y=h.location;I=Y.protocol,v=v?v+"."+Y.hostname:Y.hostname,Y=+Y.port;var J=new It(null);I&&ra(J,I),v&&(J.g=v),Y&&qi(J,Y),E&&(J.l=E),I=J}return E=f.D,v=f.ya,E&&v&&nt(I,E,v),nt(I,"VER",f.la),fa(f,I),I}function df(f,v,E){if(v&&!f.J)throw Error("Can't create secondary domain capable XhrIo object.");return v=f.Ca&&!f.pa?new Xe(new Yi({eb:E})):new Xe(f.pa),v.Ha(f.J),v}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function mf(){}n=mf.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function yo(){}yo.prototype.g=function(f,v){return new _n(f,v)};function _n(f,v){yt.call(this),this.g=new ho(v),this.l=f,this.h=v&&v.messageUrlParams||null,f=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(f?f["X-WebChannel-Content-Type"]=v.messageContentType:f={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.va&&(f?f["X-WebChannel-Client-Profile"]=v.va:f={"X-WebChannel-Client-Profile":v.va}),this.g.S=f,(f=v&&v.Sb)&&!F(f)&&(this.g.m=f),this.v=v&&v.supportsCrossDomainXhr||!1,this.u=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!F(v)&&(this.g.D=v,f=this.h,f!==null&&v in f&&(f=this.h,v in f&&delete f[v])),this.j=new Mr(this)}R(_n,yt),_n.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},_n.prototype.close=function(){Xl(this.g)},_n.prototype.o=function(f){var v=this.g;if(typeof f=="string"){var E={};E.__data__=f,f=E}else this.u&&(E={},E.__data__=ur(f),f=E);v.i.push(new ef(v.Ya++,f)),v.G==3&&po(v)},_n.prototype.N=function(){this.g.l=null,delete this.j,Xl(this.g),delete this.g,_n.aa.N.call(this)};function pf(f){ii.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var v=f.__sm__;if(v){e:{for(const E in v){f=E;break e}f=void 0}(this.i=f)&&(f=this.i,v=v!==null&&f in v?v[f]:void 0),this.data=v}else this.data=f}R(pf,ii);function gf(){jl.call(this),this.status=1}R(gf,jl);function Mr(f){this.g=f}R(Mr,mf),Mr.prototype.ua=function(){Je(this.g,"a")},Mr.prototype.ta=function(f){Je(this.g,new pf(f))},Mr.prototype.sa=function(f){Je(this.g,new gf)},Mr.prototype.ra=function(){Je(this.g,"b")},yo.prototype.createWebChannel=yo.prototype.g,_n.prototype.send=_n.prototype.o,_n.prototype.open=_n.prototype.m,_n.prototype.close=_n.prototype.close,H1=function(){return new yo},$1=function(){return Fi()},B1=Sr,qg={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},$i.NO_ERROR=0,$i.TIMEOUT=8,$i.HTTP_ERROR=6,Mh=$i,si.COMPLETE="complete",z1=si,Ul.EventType=ri,ri.OPEN="a",ri.CLOSE="b",ri.ERROR="c",ri.MESSAGE="d",yt.prototype.listen=yt.prototype.K,Yu=Ul,Xe.prototype.listenOnce=Xe.prototype.L,Xe.prototype.getLastError=Xe.prototype.Ka,Xe.prototype.getLastErrorCode=Xe.prototype.Ba,Xe.prototype.getStatus=Xe.prototype.Z,Xe.prototype.getResponseJson=Xe.prototype.Oa,Xe.prototype.getResponseText=Xe.prototype.oa,Xe.prototype.send=Xe.prototype.ea,Xe.prototype.setWithCredentials=Xe.prototype.Ha,F1=Xe}).apply(typeof vh<"u"?vh:typeof self<"u"?self:typeof window<"u"?window:{});const GE="@firebase/firestore",KE="4.7.13";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}fn.UNAUTHENTICATED=new fn(null),fn.GOOGLE_CREDENTIALS=new fn("google-credentials-uid"),fn.FIRST_PARTY=new fn("first-party-uid"),fn.MOCK_USER=new fn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let El="11.7.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ja=new Dy("@firebase/firestore");function Go(){return ja.logLevel}function pe(n,...e){if(ja.logLevel<=Fe.DEBUG){const t=e.map($y);ja.debug(`Firestore (${El}): ${n}`,...t)}}function Pi(n,...e){if(ja.logLevel<=Fe.ERROR){const t=e.map($y);ja.error(`Firestore (${El}): ${n}`,...t)}}function ll(n,...e){if(ja.logLevel<=Fe.WARN){const t=e.map($y);ja.warn(`Firestore (${El}): ${n}`,...t)}}function $y(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ae(n,e,t){let i="Unexpected state";typeof e=="string"?i=e:t=e,q1(n,i,t)}function q1(n,e,t){let i=`FIRESTORE (${El}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{i+=" CONTEXT: "+JSON.stringify(t)}catch{i+=" CONTEXT: "+t}throw Pi(i),new Error(i)}function Ze(n,e,t,i){let a="Unexpected state";typeof t=="string"?a=t:i=t,n||q1(e,a,i)}function Ne(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ae={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ge extends Vi{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xs{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y1{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class xO{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(fn.UNAUTHENTICATED))}shutdown(){}}class CO{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class DO{constructor(e){this.t=e,this.currentUser=fn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Ze(this.o===void 0,42304);let i=this.i;const a=m=>this.i!==i?(i=this.i,t(m)):Promise.resolve();let l=new xs;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new xs,e.enqueueRetryable(()=>a(this.currentUser))};const c=()=>{const m=l;e.enqueueRetryable(async()=>{await m.promise,await a(this.currentUser)})},h=m=>{pe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit(m=>h(m)),setTimeout(()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?h(m):(pe("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new xs)}},0),c()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(pe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Ze(typeof i.accessToken=="string",31837,{l:i}),new Y1(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ze(e===null||typeof e=="string",2055,{h:e}),new fn(e)}}class OO{constructor(e,t,i){this.P=e,this.T=t,this.I=i,this.type="FirstParty",this.user=fn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class NO{constructor(e,t,i){this.P=e,this.T=t,this.I=i}getToken(){return Promise.resolve(new OO(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(fn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class QE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class MO{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,or(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Ze(this.o===void 0,3512);const i=l=>{l.error!=null&&pe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.m;return this.m=l.token,pe("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>i(l))};const a=l=>{pe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(l=>a(l)),setTimeout(()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?a(l):pe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new QE(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Ze(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new QE(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kO(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G1(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K1{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const a=kO(40);for(let l=0;l<a.length;++l)i.length<20&&a[l]<t&&(i+=e.charAt(a[l]%62))}return i}}function Le(n,e){return n<e?-1:n>e?1:0}function Yg(n,e){let t=0;for(;t<n.length&&t<e.length;){const i=n.codePointAt(t),a=e.codePointAt(t);if(i!==a){if(i<128&&a<128)return Le(i,a);{const l=G1(),c=PO(l.encode(WE(n,t)),l.encode(WE(e,t)));return c!==0?c:Le(i,a)}}t+=i>65535?2:1}return Le(n.length,e.length)}function WE(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function PO(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return Le(n[t],e[t]);return Le(n.length,e.length)}function ul(n,e,t){return n.length===e.length&&n.every((i,a)=>t(i,e[a]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XE=-62135596800,ZE=1e6;class Ft{static now(){return Ft.fromMillis(Date.now())}static fromDate(e){return Ft.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor((e-1e3*t)*ZE);return new Ft(t,i)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ge(ae.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ge(ae.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<XE)throw new ge(ae.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ge(ae.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/ZE}_compareTo(e){return this.seconds===e.seconds?Le(this.nanoseconds,e.nanoseconds):Le(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-XE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ce{static fromTimestamp(e){return new Ce(e)}static min(){return new Ce(new Ft(0,0))}static max(){return new Ce(new Ft(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JE="__name__";class Br{constructor(e,t,i){t===void 0?t=0:t>e.length&&Ae(637,{offset:t,range:e.length}),i===void 0?i=e.length-t:i>e.length-t&&Ae(1746,{length:i,range:e.length-t}),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return Br.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Br?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let a=0;a<i;a++){const l=Br.compareSegments(e.get(a),t.get(a));if(l!==0)return l}return Le(e.length,t.length)}static compareSegments(e,t){const i=Br.isNumericId(e),a=Br.isNumericId(t);return i&&!a?-1:!i&&a?1:i&&a?Br.extractNumericId(e).compare(Br.extractNumericId(t)):Yg(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Is.fromString(e.substring(4,e.length-2))}}class ft extends Br{construct(e,t,i){return new ft(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new ge(ae.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(a=>a.length>0))}return new ft(t)}static emptyPath(){return new ft([])}}const LO=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class rn extends Br{construct(e,t,i){return new rn(e,t,i)}static isValidIdentifier(e){return LO.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),rn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===JE}static keyField(){return new rn([JE])}static fromServerFormat(e){const t=[];let i="",a=0;const l=()=>{if(i.length===0)throw new ge(ae.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let c=!1;for(;a<e.length;){const h=e[a];if(h==="\\"){if(a+1===e.length)throw new ge(ae.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[a+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new ge(ae.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=m,a+=2}else h==="`"?(c=!c,a++):h!=="."||c?(i+=h,a++):(l(),a++)}if(l(),c)throw new ge(ae.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new rn(t)}static emptyPath(){return new rn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class be{constructor(e){this.path=e}static fromPath(e){return new be(ft.fromString(e))}static fromName(e){return new be(ft.fromString(e).popFirst(5))}static empty(){return new be(ft.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ft.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return ft.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new be(new ft(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hc=-1;function VO(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,a=Ce.fromTimestamp(i===1e9?new Ft(t+1,0):new Ft(t,i));return new Os(a,be.empty(),e)}function UO(n){return new Os(n.readTime,n.key,hc)}class Os{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new Os(Ce.min(),be.empty(),hc)}static max(){return new Os(Ce.max(),be.empty(),hc)}}function jO(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=be.comparator(n.documentKey,e.documentKey),t!==0?t:Le(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FO="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class zO{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tl(n){if(n.code!==ae.FAILED_PRECONDITION||n.message!==FO)throw n;pe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ae(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new oe((i,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(i,a)},this.catchCallback=l=>{this.wrapFailure(t,l).next(i,a)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof oe?t:oe.resolve(t)}catch(t){return oe.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):oe.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):oe.reject(t)}static resolve(e){return new oe((t,i)=>{t(e)})}static reject(e){return new oe((t,i)=>{i(e)})}static waitFor(e){return new oe((t,i)=>{let a=0,l=0,c=!1;e.forEach(h=>{++a,h.next(()=>{++l,c&&l===a&&t()},m=>i(m))}),c=!0,l===a&&t()})}static or(e){let t=oe.resolve(!1);for(const i of e)t=t.next(a=>a?oe.resolve(a):i());return t}static forEach(e,t){const i=[];return e.forEach((a,l)=>{i.push(t.call(this,a,l))}),this.waitFor(i)}static mapArray(e,t){return new oe((i,a)=>{const l=e.length,c=new Array(l);let h=0;for(let m=0;m<l;m++){const p=m;t(e[p]).next(y=>{c[p]=y,++h,h===l&&i(c)},y=>a(y))}})}static doWhile(e,t){return new oe((i,a)=>{const l=()=>{e()===!0?t().next(()=>{l()},a):i()};l()})}}function BO(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function wl(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ed{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.ue(i),this.ce=i=>t.writeSequenceNumber(i))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}Ed.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hy=-1;function Td(n){return n==null}function Kh(n){return n===0&&1/n==-1/0}function $O(n){return typeof n=="number"&&Number.isInteger(n)&&!Kh(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q1="";function HO(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=eT(e)),e=qO(n.get(t),e);return eT(e)}function qO(n,e){let t=e;const i=n.length;for(let a=0;a<i;a++){const l=n.charAt(a);switch(l){case"\0":t+="";break;case Q1:t+="";break;default:t+=l}}return t}function eT(n){return n+Q1+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tT(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Bs(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function W1(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pt{constructor(e,t){this.comparator=e,this.root=t||tn.EMPTY}insert(e,t){return new pt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,tn.BLACK,null,null))}remove(e){return new pt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,tn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return t+i.left.size;a<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new _h(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new _h(this.root,e,this.comparator,!1)}getReverseIterator(){return new _h(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new _h(this.root,e,this.comparator,!0)}}class _h{constructor(e,t,i,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?i(e.key,t):1,t&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class tn{constructor(e,t,i,a,l){this.key=e,this.value=t,this.color=i??tn.RED,this.left=a??tn.EMPTY,this.right=l??tn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,a,l){return new tn(e??this.key,t??this.value,i??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let a=this;const l=i(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,t,i),null):l===0?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,i)),a.fixUp()}removeMin(){if(this.left.isEmpty())return tn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),t(e,a.key)===0){if(a.right.isEmpty())return tn.EMPTY;i=a.right.min(),a=a.copy(i.key,i.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,tn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,tn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ae(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ae(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ae(27949);return e+(this.isRed()?0:1)}}tn.EMPTY=null,tn.RED=!0,tn.BLACK=!1;tn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ae(57766)}get value(){throw Ae(16141)}get color(){throw Ae(16727)}get left(){throw Ae(29726)}get right(){throw Ae(36894)}copy(e,t,i,a,l){return this}insert(e,t,i){return new tn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zt{constructor(e){this.comparator=e,this.data=new pt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const a=i.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new nT(this.data.getIterator())}getIteratorFrom(e){return new nT(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof zt)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=i.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new zt(this.comparator);return t.data=e,t}}class nT{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zn{constructor(e){this.fields=e,e.sort(rn.comparator)}static empty(){return new zn([])}unionWith(e){let t=new zt(rn.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new zn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return ul(this.fields,e.fields,(t,i)=>t.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new X1("Invalid base64 string: "+l):l}}(e);return new sn(t)}static fromUint8Array(e){const t=function(a){let l="";for(let c=0;c<a.length;++c)l+=String.fromCharCode(a[c]);return l}(e);return new sn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const i=new Uint8Array(t.length);for(let a=0;a<t.length;a++)i[a]=t.charCodeAt(a);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Le(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}sn.EMPTY_BYTE_STRING=new sn("");const YO=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ns(n){if(Ze(!!n,39018),typeof n=="string"){let e=0;const t=YO.exec(n);if(Ze(!!t,46558,{timestamp:n}),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:St(n.seconds),nanos:St(n.nanos)}}function St(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Ms(n){return typeof n=="string"?sn.fromBase64String(n):sn.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z1="server_timestamp",J1="__type__",eS="__previous_value__",tS="__local_write_time__";function qy(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[J1])===null||t===void 0?void 0:t.stringValue)===Z1}function wd(n){const e=n.mapValue.fields[eS];return qy(e)?wd(e):e}function dc(n){const e=Ns(n.mapValue.fields[tS].timestampValue);return new Ft(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GO{constructor(e,t,i,a,l,c,h,m,p,y){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=a,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=h,this.longPollingOptions=m,this.useFetchStreams=p,this.isUsingEmulator=y}}const Qh="(default)";class mc{constructor(e,t){this.projectId=e,this.database=t||Qh}static empty(){return new mc("","")}get isDefaultDatabase(){return this.database===Qh}isEqual(e){return e instanceof mc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nS="__type__",KO="__max__",bh={mapValue:{}},rS="__vector__",Wh="value";function ks(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?qy(n)?4:WO(n)?9007199254740991:QO(n)?10:11:Ae(28295,{value:n})}function Xr(n,e){if(n===e)return!0;const t=ks(n);if(t!==ks(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return dc(n).isEqual(dc(e));case 3:return function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const c=Ns(a.timestampValue),h=Ns(l.timestampValue);return c.seconds===h.seconds&&c.nanos===h.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(a,l){return Ms(a.bytesValue).isEqual(Ms(l.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(a,l){return St(a.geoPointValue.latitude)===St(l.geoPointValue.latitude)&&St(a.geoPointValue.longitude)===St(l.geoPointValue.longitude)}(n,e);case 2:return function(a,l){if("integerValue"in a&&"integerValue"in l)return St(a.integerValue)===St(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const c=St(a.doubleValue),h=St(l.doubleValue);return c===h?Kh(c)===Kh(h):isNaN(c)&&isNaN(h)}return!1}(n,e);case 9:return ul(n.arrayValue.values||[],e.arrayValue.values||[],Xr);case 10:case 11:return function(a,l){const c=a.mapValue.fields||{},h=l.mapValue.fields||{};if(tT(c)!==tT(h))return!1;for(const m in c)if(c.hasOwnProperty(m)&&(h[m]===void 0||!Xr(c[m],h[m])))return!1;return!0}(n,e);default:return Ae(52216,{left:n})}}function pc(n,e){return(n.values||[]).find(t=>Xr(t,e))!==void 0}function cl(n,e){if(n===e)return 0;const t=ks(n),i=ks(e);if(t!==i)return Le(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return Le(n.booleanValue,e.booleanValue);case 2:return function(l,c){const h=St(l.integerValue||l.doubleValue),m=St(c.integerValue||c.doubleValue);return h<m?-1:h>m?1:h===m?0:isNaN(h)?isNaN(m)?0:-1:1}(n,e);case 3:return rT(n.timestampValue,e.timestampValue);case 4:return rT(dc(n),dc(e));case 5:return Yg(n.stringValue,e.stringValue);case 6:return function(l,c){const h=Ms(l),m=Ms(c);return h.compareTo(m)}(n.bytesValue,e.bytesValue);case 7:return function(l,c){const h=l.split("/"),m=c.split("/");for(let p=0;p<h.length&&p<m.length;p++){const y=Le(h[p],m[p]);if(y!==0)return y}return Le(h.length,m.length)}(n.referenceValue,e.referenceValue);case 8:return function(l,c){const h=Le(St(l.latitude),St(c.latitude));return h!==0?h:Le(St(l.longitude),St(c.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return iT(n.arrayValue,e.arrayValue);case 10:return function(l,c){var h,m,p,y;const _=l.fields||{},b=c.fields||{},w=(h=_[Wh])===null||h===void 0?void 0:h.arrayValue,R=(m=b[Wh])===null||m===void 0?void 0:m.arrayValue,C=Le(((p=w==null?void 0:w.values)===null||p===void 0?void 0:p.length)||0,((y=R==null?void 0:R.values)===null||y===void 0?void 0:y.length)||0);return C!==0?C:iT(w,R)}(n.mapValue,e.mapValue);case 11:return function(l,c){if(l===bh.mapValue&&c===bh.mapValue)return 0;if(l===bh.mapValue)return 1;if(c===bh.mapValue)return-1;const h=l.fields||{},m=Object.keys(h),p=c.fields||{},y=Object.keys(p);m.sort(),y.sort();for(let _=0;_<m.length&&_<y.length;++_){const b=Yg(m[_],y[_]);if(b!==0)return b;const w=cl(h[m[_]],p[y[_]]);if(w!==0)return w}return Le(m.length,y.length)}(n.mapValue,e.mapValue);default:throw Ae(23264,{Pe:t})}}function rT(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Le(n,e);const t=Ns(n),i=Ns(e),a=Le(t.seconds,i.seconds);return a!==0?a:Le(t.nanos,i.nanos)}function iT(n,e){const t=n.values||[],i=e.values||[];for(let a=0;a<t.length&&a<i.length;++a){const l=cl(t[a],i[a]);if(l)return l}return Le(t.length,i.length)}function fl(n){return Gg(n)}function Gg(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const i=Ns(t);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Ms(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return be.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let i="[",a=!0;for(const l of t.values||[])a?a=!1:i+=",",i+=Gg(l);return i+"]"}(n.arrayValue):"mapValue"in n?function(t){const i=Object.keys(t.fields||{}).sort();let a="{",l=!0;for(const c of i)l?l=!1:a+=",",a+=`${c}:${Gg(t.fields[c])}`;return a+"}"}(n.mapValue):Ae(61005,{value:n})}function kh(n){switch(ks(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=wd(n);return e?16+kh(e):16;case 5:return 2*n.stringValue.length;case 6:return Ms(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((a,l)=>a+kh(l),0)}(n.arrayValue);case 10:case 11:return function(i){let a=0;return Bs(i.fields,(l,c)=>{a+=l.length+kh(c)}),a}(n.mapValue);default:throw Ae(13486,{value:n})}}function sT(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Kg(n){return!!n&&"integerValue"in n}function Yy(n){return!!n&&"arrayValue"in n}function aT(n){return!!n&&"nullValue"in n}function oT(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Ph(n){return!!n&&"mapValue"in n}function QO(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[nS])===null||t===void 0?void 0:t.stringValue)===rS}function tc(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Bs(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=tc(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=tc(n.arrayValue.values[t]);return e}return Object.assign({},n)}function WO(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===KO}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dn{constructor(e){this.value=e}static empty(){return new Dn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!Ph(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=tc(t)}setAll(e){let t=rn.emptyPath(),i={},a=[];e.forEach((c,h)=>{if(!t.isImmediateParentOf(h)){const m=this.getFieldsMap(t);this.applyChanges(m,i,a),i={},a=[],t=h.popLast()}c?i[h.lastSegment()]=tc(c):a.push(h.lastSegment())});const l=this.getFieldsMap(t);this.applyChanges(l,i,a)}delete(e){const t=this.field(e.popLast());Ph(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Xr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let a=t.mapValue.fields[e.get(i)];Ph(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,i){Bs(t,(a,l)=>e[a]=l);for(const a of i)delete e[a]}clone(){return new Dn(tc(this.value))}}function iS(n){const e=[];return Bs(n.fields,(t,i)=>{const a=new rn([t]);if(Ph(i)){const l=iS(i.mapValue).fields;if(l.length===0)e.push(a);else for(const c of l)e.push(a.child(c))}else e.push(a)}),new zn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mn{constructor(e,t,i,a,l,c,h){this.key=e,this.documentType=t,this.version=i,this.readTime=a,this.createTime=l,this.data=c,this.documentState=h}static newInvalidDocument(e){return new mn(e,0,Ce.min(),Ce.min(),Ce.min(),Dn.empty(),0)}static newFoundDocument(e,t,i,a){return new mn(e,1,t,Ce.min(),i,a,0)}static newNoDocument(e,t){return new mn(e,2,t,Ce.min(),Ce.min(),Dn.empty(),0)}static newUnknownDocument(e,t){return new mn(e,3,t,Ce.min(),Ce.min(),Dn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ce.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Dn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Dn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ce.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof mn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new mn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xh{constructor(e,t){this.position=e,this.inclusive=t}}function lT(n,e,t){let i=0;for(let a=0;a<n.position.length;a++){const l=e[a],c=n.position[a];if(l.field.isKeyField()?i=be.comparator(be.fromName(c.referenceValue),t.key):i=cl(c,t.data.field(l.field)),l.dir==="desc"&&(i*=-1),i!==0)break}return i}function uT(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Xr(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gc{constructor(e,t="asc"){this.field=e,this.dir=t}}function XO(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sS{}class Nt extends sS{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new JO(e,t,i):t==="array-contains"?new nN(e,i):t==="in"?new rN(e,i):t==="not-in"?new iN(e,i):t==="array-contains-any"?new sN(e,i):new Nt(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new eN(e,i):new tN(e,i)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(cl(t,this.value)):t!==null&&ks(this.value)===ks(t)&&this.matchesComparison(cl(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ae(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Er extends sS{constructor(e,t){super(),this.filters=e,this.op=t,this.Te=null}static create(e,t){return new Er(e,t)}matches(e){return aS(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function aS(n){return n.op==="and"}function oS(n){return ZO(n)&&aS(n)}function ZO(n){for(const e of n.filters)if(e instanceof Er)return!1;return!0}function Qg(n){if(n instanceof Nt)return n.field.canonicalString()+n.op.toString()+fl(n.value);if(oS(n))return n.filters.map(e=>Qg(e)).join(",");{const e=n.filters.map(t=>Qg(t)).join(",");return`${n.op}(${e})`}}function lS(n,e){return n instanceof Nt?function(i,a){return a instanceof Nt&&i.op===a.op&&i.field.isEqual(a.field)&&Xr(i.value,a.value)}(n,e):n instanceof Er?function(i,a){return a instanceof Er&&i.op===a.op&&i.filters.length===a.filters.length?i.filters.reduce((l,c,h)=>l&&lS(c,a.filters[h]),!0):!1}(n,e):void Ae(19439)}function uS(n){return n instanceof Nt?function(t){return`${t.field.canonicalString()} ${t.op} ${fl(t.value)}`}(n):n instanceof Er?function(t){return t.op.toString()+" {"+t.getFilters().map(uS).join(" ,")+"}"}(n):"Filter"}class JO extends Nt{constructor(e,t,i){super(e,t,i),this.key=be.fromName(i.referenceValue)}matches(e){const t=be.comparator(e.key,this.key);return this.matchesComparison(t)}}class eN extends Nt{constructor(e,t){super(e,"in",t),this.keys=cS("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class tN extends Nt{constructor(e,t){super(e,"not-in",t),this.keys=cS("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function cS(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(i=>be.fromName(i.referenceValue))}class nN extends Nt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Yy(t)&&pc(t.arrayValue,this.value)}}class rN extends Nt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&pc(this.value.arrayValue,t)}}class iN extends Nt{constructor(e,t){super(e,"not-in",t)}matches(e){if(pc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!pc(this.value.arrayValue,t)}}class sN extends Nt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Yy(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>pc(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aN{constructor(e,t=null,i=[],a=[],l=null,c=null,h=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=a,this.limit=l,this.startAt=c,this.endAt=h,this.Ie=null}}function cT(n,e=null,t=[],i=[],a=null,l=null,c=null){return new aN(n,e,t,i,a,l,c)}function Gy(n){const e=Ne(n);if(e.Ie===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>Qg(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>function(l){return l.field.canonicalString()+l.dir}(i)).join(","),Td(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>fl(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>fl(i)).join(",")),e.Ie=t}return e.Ie}function Ky(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!XO(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!lS(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!uT(n.startAt,e.startAt)&&uT(n.endAt,e.endAt)}function Wg(n){return be.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sl{constructor(e,t=null,i=[],a=[],l=null,c="F",h=null,m=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=a,this.limit=l,this.limitType=c,this.startAt=h,this.endAt=m,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function oN(n,e,t,i,a,l,c,h){return new Sl(n,e,t,i,a,l,c,h)}function fS(n){return new Sl(n)}function fT(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function hS(n){return n.collectionGroup!==null}function nc(n){const e=Ne(n);if(e.Ee===null){e.Ee=[];const t=new Set;for(const l of e.explicitOrderBy)e.Ee.push(l),t.add(l.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let h=new zt(rn.comparator);return c.filters.forEach(m=>{m.getFlattenedFilters().forEach(p=>{p.isInequality()&&(h=h.add(p.field))})}),h})(e).forEach(l=>{t.has(l.canonicalString())||l.isKeyField()||e.Ee.push(new gc(l,i))}),t.has(rn.keyField().canonicalString())||e.Ee.push(new gc(rn.keyField(),i))}return e.Ee}function Gr(n){const e=Ne(n);return e.de||(e.de=lN(e,nc(n))),e.de}function lN(n,e){if(n.limitType==="F")return cT(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(a=>{const l=a.dir==="desc"?"asc":"desc";return new gc(a.field,l)});const t=n.endAt?new Xh(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new Xh(n.startAt.position,n.startAt.inclusive):null;return cT(n.path,n.collectionGroup,e,n.filters,n.limit,t,i)}}function Xg(n,e){const t=n.filters.concat([e]);return new Sl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function Zg(n,e,t){return new Sl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Sd(n,e){return Ky(Gr(n),Gr(e))&&n.limitType===e.limitType}function dS(n){return`${Gy(Gr(n))}|lt:${n.limitType}`}function Ko(n){return`Query(target=${function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map(a=>uS(a)).join(", ")}]`),Td(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map(a=>function(c){return`${c.field.canonicalString()} (${c.dir})`}(a)).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(a=>fl(a)).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(a=>fl(a)).join(",")),`Target(${i})`}(Gr(n))}; limitType=${n.limitType})`}function Ad(n,e){return e.isFoundDocument()&&function(i,a){const l=a.key.path;return i.collectionGroup!==null?a.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(l):be.isDocumentKey(i.path)?i.path.isEqual(l):i.path.isImmediateParentOf(l)}(n,e)&&function(i,a){for(const l of nc(i))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0}(n,e)&&function(i,a){for(const l of i.filters)if(!l.matches(a))return!1;return!0}(n,e)&&function(i,a){return!(i.startAt&&!function(c,h,m){const p=lT(c,h,m);return c.inclusive?p<=0:p<0}(i.startAt,nc(i),a)||i.endAt&&!function(c,h,m){const p=lT(c,h,m);return c.inclusive?p>=0:p>0}(i.endAt,nc(i),a))}(n,e)}function uN(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function mS(n){return(e,t)=>{let i=!1;for(const a of nc(n)){const l=cN(a,e,t);if(l!==0)return l;i=i||a.field.isKeyField()}return 0}}function cN(n,e,t){const i=n.field.isKeyField()?be.comparator(e.key,t.key):function(l,c,h){const m=c.data.field(l),p=h.data.field(l);return m!==null&&p!==null?cl(m,p):Ae(42886)}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return Ae(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ga{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(const[a,l]of i)if(this.equalsFn(a,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,t]);a.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return i.length===1?delete this.inner[t]:i.splice(a,1),this.innerSize--,!0;return!1}forEach(e){Bs(this.inner,(t,i)=>{for(const[a,l]of i)e(a,l)})}isEmpty(){return W1(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fN=new pt(be.comparator);function Li(){return fN}const pS=new pt(be.comparator);function Gu(...n){let e=pS;for(const t of n)e=e.insert(t.key,t);return e}function gS(n){let e=pS;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function Oa(){return rc()}function yS(){return rc()}function rc(){return new Ga(n=>n.toString(),(n,e)=>n.isEqual(e))}const hN=new pt(be.comparator),dN=new zt(be.comparator);function ze(...n){let e=dN;for(const t of n)e=e.add(t);return e}const mN=new zt(Le);function pN(){return mN}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qy(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Kh(e)?"-0":e}}function vS(n){return{integerValue:""+n}}function gN(n,e){return $O(e)?vS(e):Qy(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rd{constructor(){this._=void 0}}function yN(n,e,t){return n instanceof yc?function(a,l){const c={fields:{[J1]:{stringValue:Z1},[tS]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&qy(l)&&(l=wd(l)),l&&(c.fields[eS]=l),{mapValue:c}}(t,e):n instanceof vc?bS(n,e):n instanceof _c?ES(n,e):function(a,l){const c=_S(a,l),h=hT(c)+hT(a.Re);return Kg(c)&&Kg(a.Re)?vS(h):Qy(a.serializer,h)}(n,e)}function vN(n,e,t){return n instanceof vc?bS(n,e):n instanceof _c?ES(n,e):t}function _S(n,e){return n instanceof Zh?function(i){return Kg(i)||function(l){return!!l&&"doubleValue"in l}(i)}(e)?e:{integerValue:0}:null}class yc extends Rd{}class vc extends Rd{constructor(e){super(),this.elements=e}}function bS(n,e){const t=TS(e);for(const i of n.elements)t.some(a=>Xr(a,i))||t.push(i);return{arrayValue:{values:t}}}class _c extends Rd{constructor(e){super(),this.elements=e}}function ES(n,e){let t=TS(e);for(const i of n.elements)t=t.filter(a=>!Xr(a,i));return{arrayValue:{values:t}}}class Zh extends Rd{constructor(e,t){super(),this.serializer=e,this.Re=t}}function hT(n){return St(n.integerValue||n.doubleValue)}function TS(n){return Yy(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _N{constructor(e,t){this.field=e,this.transform=t}}function bN(n,e){return n.field.isEqual(e.field)&&function(i,a){return i instanceof vc&&a instanceof vc||i instanceof _c&&a instanceof _c?ul(i.elements,a.elements,Xr):i instanceof Zh&&a instanceof Zh?Xr(i.Re,a.Re):i instanceof yc&&a instanceof yc}(n.transform,e.transform)}class EN{constructor(e,t){this.version=e,this.transformResults=t}}class Sn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Sn}static exists(e){return new Sn(void 0,e)}static updateTime(e){return new Sn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Lh(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Id{}function wS(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new xd(n.key,Sn.none()):new Oc(n.key,n.data,Sn.none());{const t=n.data,i=Dn.empty();let a=new zt(rn.comparator);for(let l of e.fields)if(!a.has(l)){let c=t.field(l);c===null&&l.length>1&&(l=l.popLast(),c=t.field(l)),c===null?i.delete(l):i.set(l,c),a=a.add(l)}return new $s(n.key,i,new zn(a.toArray()),Sn.none())}}function TN(n,e,t){n instanceof Oc?function(a,l,c){const h=a.value.clone(),m=mT(a.fieldTransforms,l,c.transformResults);h.setAll(m),l.convertToFoundDocument(c.version,h).setHasCommittedMutations()}(n,e,t):n instanceof $s?function(a,l,c){if(!Lh(a.precondition,l))return void l.convertToUnknownDocument(c.version);const h=mT(a.fieldTransforms,l,c.transformResults),m=l.data;m.setAll(SS(a)),m.setAll(h),l.convertToFoundDocument(c.version,m).setHasCommittedMutations()}(n,e,t):function(a,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()}(0,e,t)}function ic(n,e,t,i){return n instanceof Oc?function(l,c,h,m){if(!Lh(l.precondition,c))return h;const p=l.value.clone(),y=pT(l.fieldTransforms,m,c);return p.setAll(y),c.convertToFoundDocument(c.version,p).setHasLocalMutations(),null}(n,e,t,i):n instanceof $s?function(l,c,h,m){if(!Lh(l.precondition,c))return h;const p=pT(l.fieldTransforms,m,c),y=c.data;return y.setAll(SS(l)),y.setAll(p),c.convertToFoundDocument(c.version,y).setHasLocalMutations(),h===null?null:h.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(_=>_.field))}(n,e,t,i):function(l,c,h){return Lh(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):h}(n,e,t)}function wN(n,e){let t=null;for(const i of n.fieldTransforms){const a=e.data.field(i.field),l=_S(i.transform,a||null);l!=null&&(t===null&&(t=Dn.empty()),t.set(i.field,l))}return t||null}function dT(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(i,a){return i===void 0&&a===void 0||!(!i||!a)&&ul(i,a,(l,c)=>bN(l,c))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Oc extends Id{constructor(e,t,i,a=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class $s extends Id{constructor(e,t,i,a,l=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function SS(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function mT(n,e,t){const i=new Map;Ze(n.length===t.length,32656,{Ve:t.length,me:n.length});for(let a=0;a<t.length;a++){const l=n[a],c=l.transform,h=e.data.field(l.field);i.set(l.field,vN(c,h,t[a]))}return i}function pT(n,e,t){const i=new Map;for(const a of n){const l=a.transform,c=t.data.field(a.field);i.set(a.field,yN(l,c,e))}return i}class xd extends Id{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class SN extends Id{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AN{constructor(e,t,i,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=a}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&TN(l,e,i[a])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=ic(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=ic(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=yS();return this.mutations.forEach(a=>{const l=e.get(a.key),c=l.overlayedDocument;let h=this.applyToLocalView(c,l.mutatedFields);h=t.has(a.key)?null:h;const m=wS(c,h);m!==null&&i.set(a.key,m),c.isValidDocument()||c.convertToNoDocument(Ce.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),ze())}isEqual(e){return this.batchId===e.batchId&&ul(this.mutations,e.mutations,(t,i)=>dT(t,i))&&ul(this.baseMutations,e.baseMutations,(t,i)=>dT(t,i))}}class Wy{constructor(e,t,i,a){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=a}static from(e,t,i){Ze(e.mutations.length===i.length,58842,{fe:e.mutations.length,ge:i.length});let a=function(){return hN}();const l=e.mutations;for(let c=0;c<l.length;c++)a=a.insert(l[c].key,i[c].version);return new Wy(e,t,i,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RN{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IN{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Dt,qe;function xN(n){switch(n){case ae.OK:return Ae(64938);case ae.CANCELLED:case ae.UNKNOWN:case ae.DEADLINE_EXCEEDED:case ae.RESOURCE_EXHAUSTED:case ae.INTERNAL:case ae.UNAVAILABLE:case ae.UNAUTHENTICATED:return!1;case ae.INVALID_ARGUMENT:case ae.NOT_FOUND:case ae.ALREADY_EXISTS:case ae.PERMISSION_DENIED:case ae.FAILED_PRECONDITION:case ae.ABORTED:case ae.OUT_OF_RANGE:case ae.UNIMPLEMENTED:case ae.DATA_LOSS:return!0;default:return Ae(15467,{code:n})}}function AS(n){if(n===void 0)return Pi("GRPC error has no .code"),ae.UNKNOWN;switch(n){case Dt.OK:return ae.OK;case Dt.CANCELLED:return ae.CANCELLED;case Dt.UNKNOWN:return ae.UNKNOWN;case Dt.DEADLINE_EXCEEDED:return ae.DEADLINE_EXCEEDED;case Dt.RESOURCE_EXHAUSTED:return ae.RESOURCE_EXHAUSTED;case Dt.INTERNAL:return ae.INTERNAL;case Dt.UNAVAILABLE:return ae.UNAVAILABLE;case Dt.UNAUTHENTICATED:return ae.UNAUTHENTICATED;case Dt.INVALID_ARGUMENT:return ae.INVALID_ARGUMENT;case Dt.NOT_FOUND:return ae.NOT_FOUND;case Dt.ALREADY_EXISTS:return ae.ALREADY_EXISTS;case Dt.PERMISSION_DENIED:return ae.PERMISSION_DENIED;case Dt.FAILED_PRECONDITION:return ae.FAILED_PRECONDITION;case Dt.ABORTED:return ae.ABORTED;case Dt.OUT_OF_RANGE:return ae.OUT_OF_RANGE;case Dt.UNIMPLEMENTED:return ae.UNIMPLEMENTED;case Dt.DATA_LOSS:return ae.DATA_LOSS;default:return Ae(39323,{code:n})}}(qe=Dt||(Dt={}))[qe.OK=0]="OK",qe[qe.CANCELLED=1]="CANCELLED",qe[qe.UNKNOWN=2]="UNKNOWN",qe[qe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",qe[qe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",qe[qe.NOT_FOUND=5]="NOT_FOUND",qe[qe.ALREADY_EXISTS=6]="ALREADY_EXISTS",qe[qe.PERMISSION_DENIED=7]="PERMISSION_DENIED",qe[qe.UNAUTHENTICATED=16]="UNAUTHENTICATED",qe[qe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",qe[qe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",qe[qe.ABORTED=10]="ABORTED",qe[qe.OUT_OF_RANGE=11]="OUT_OF_RANGE",qe[qe.UNIMPLEMENTED=12]="UNIMPLEMENTED",qe[qe.INTERNAL=13]="INTERNAL",qe[qe.UNAVAILABLE=14]="UNAVAILABLE",qe[qe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CN=new Is([4294967295,4294967295],0);function gT(n){const e=G1().encode(n),t=new j1;return t.update(e),new Uint8Array(t.digest())}function yT(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),a=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new Is([t,i],0),new Is([a,l],0)]}class Xy{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new Ku(`Invalid padding: ${t}`);if(i<0)throw new Ku(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new Ku(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new Ku(`Invalid padding when bitmap length is 0: ${t}`);this.pe=8*e.length-t,this.ye=Is.fromNumber(this.pe)}we(e,t,i){let a=e.add(t.multiply(Is.fromNumber(i)));return a.compare(CN)===1&&(a=new Is([a.getBits(0),a.getBits(1)],0)),a.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const t=gT(e),[i,a]=yT(t);for(let l=0;l<this.hashCount;l++){const c=this.we(i,a,l);if(!this.be(c))return!1}return!0}static create(e,t,i){const a=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),c=new Xy(l,a,t);return i.forEach(h=>c.insert(h)),c}insert(e){if(this.pe===0)return;const t=gT(e),[i,a]=yT(t);for(let l=0;l<this.hashCount;l++){const c=this.we(i,a,l);this.Se(c)}}Se(e){const t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}}class Ku extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cd{constructor(e,t,i,a,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const a=new Map;return a.set(e,Nc.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new Cd(Ce.min(),a,new pt(Le),Li(),ze())}}class Nc{constructor(e,t,i,a,l){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new Nc(i,t,ze(),ze(),ze())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vh{constructor(e,t,i,a){this.De=e,this.removedTargetIds=t,this.key=i,this.ve=a}}class RS{constructor(e,t){this.targetId=e,this.Ce=t}}class IS{constructor(e,t,i=sn.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=a}}class vT{constructor(){this.Fe=0,this.Me=_T(),this.xe=sn.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=ze(),t=ze(),i=ze();return this.Me.forEach((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:i=i.add(a);break;default:Ae(38017,{changeType:l})}}),new Nc(this.xe,this.Oe,e,t,i)}Qe(){this.Ne=!1,this.Me=_T()}$e(e,t){this.Ne=!0,this.Me=this.Me.insert(e,t)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,Ze(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class DN{constructor(e){this.ze=e,this.je=new Map,this.He=Li(),this.Je=Eh(),this.Ye=Eh(),this.Ze=new pt(Le)}Xe(e){for(const t of e.De)e.ve&&e.ve.isFoundDocument()?this.et(t,e.ve):this.tt(t,e.key,e.ve);for(const t of e.removedTargetIds)this.tt(t,e.key,e.ve)}nt(e){this.forEachTarget(e,t=>{const i=this.rt(t);switch(e.state){case 0:this.it(t)&&i.ke(e.resumeToken);break;case 1:i.We(),i.Be||i.Qe(),i.ke(e.resumeToken);break;case 2:i.We(),i.Be||this.removeTarget(t);break;case 3:this.it(t)&&(i.Ge(),i.ke(e.resumeToken));break;case 4:this.it(t)&&(this.st(t),i.ke(e.resumeToken));break;default:Ae(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.je.forEach((i,a)=>{this.it(a)&&t(a)})}ot(e){const t=e.targetId,i=e.Ce.count,a=this._t(t);if(a){const l=a.target;if(Wg(l))if(i===0){const c=new be(l.path);this.tt(t,c,mn.newNoDocument(c,Ce.min()))}else Ze(i===1,20013,{expectedCount:i});else{const c=this.ut(t);if(c!==i){const h=this.ct(e),m=h?this.lt(h,e,c):1;if(m!==0){this.st(t);const p=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,p)}}}}}ct(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:a=0},hashCount:l=0}=t;let c,h;try{c=Ms(i).toUint8Array()}catch(m){if(m instanceof X1)return ll("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{h=new Xy(c,a,l)}catch(m){return ll(m instanceof Ku?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return h.pe===0?null:h}lt(e,t,i){return t.Ce.count===i-this.Tt(e,t.targetId)?0:2}Tt(e,t){const i=this.ze.getRemoteKeysForTarget(t);let a=0;return i.forEach(l=>{const c=this.ze.Pt(),h=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;e.mightContain(h)||(this.tt(t,l,null),a++)}),a}It(e){const t=new Map;this.je.forEach((l,c)=>{const h=this._t(c);if(h){if(l.current&&Wg(h.target)){const m=new be(h.target.path);this.Et(m).has(c)||this.dt(c,m)||this.tt(c,m,mn.newNoDocument(m,e))}l.Le&&(t.set(c,l.qe()),l.Qe())}});let i=ze();this.Ye.forEach((l,c)=>{let h=!0;c.forEachWhile(m=>{const p=this._t(m);return!p||p.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)}),h&&(i=i.add(l))}),this.He.forEach((l,c)=>c.setReadTime(e));const a=new Cd(e,t,this.Ze,this.He,i);return this.He=Li(),this.Je=Eh(),this.Ye=Eh(),this.Ze=new pt(Le),a}et(e,t){if(!this.it(e))return;const i=this.dt(e,t.key)?2:0;this.rt(e).$e(t.key,i),this.He=this.He.insert(t.key,t),this.Je=this.Je.insert(t.key,this.Et(t.key).add(e)),this.Ye=this.Ye.insert(t.key,this.At(t.key).add(e))}tt(e,t,i){if(!this.it(e))return;const a=this.rt(e);this.dt(e,t)?a.$e(t,1):a.Ue(t),this.Ye=this.Ye.insert(t,this.At(t).delete(e)),this.Ye=this.Ye.insert(t,this.At(t).add(e)),i&&(this.He=this.He.insert(t,i))}removeTarget(e){this.je.delete(e)}ut(e){const t=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let t=this.je.get(e);return t||(t=new vT,this.je.set(e,t)),t}At(e){let t=this.Ye.get(e);return t||(t=new zt(Le),this.Ye=this.Ye.insert(e,t)),t}Et(e){let t=this.Je.get(e);return t||(t=new zt(Le),this.Je=this.Je.insert(e,t)),t}it(e){const t=this._t(e)!==null;return t||pe("WatchChangeAggregator","Detected inactive target",e),t}_t(e){const t=this.je.get(e);return t&&t.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new vT),this.ze.getRemoteKeysForTarget(e).forEach(t=>{this.tt(e,t,null)})}dt(e,t){return this.ze.getRemoteKeysForTarget(e).has(t)}}function Eh(){return new pt(be.comparator)}function _T(){return new pt(be.comparator)}const ON={asc:"ASCENDING",desc:"DESCENDING"},NN={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},MN={and:"AND",or:"OR"};class kN{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Jg(n,e){return n.useProto3Json||Td(e)?e:{value:e}}function Jh(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function xS(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function PN(n,e){return Jh(n,e.toTimestamp())}function Kr(n){return Ze(!!n,49232),Ce.fromTimestamp(function(t){const i=Ns(t);return new Ft(i.seconds,i.nanos)}(n))}function Zy(n,e){return ey(n,e).canonicalString()}function ey(n,e){const t=function(a){return new ft(["projects",a.projectId,"databases",a.database])}(n).child("documents");return e===void 0?t:t.child(e)}function CS(n){const e=ft.fromString(n);return Ze(kS(e),10190,{key:e.toString()}),e}function ty(n,e){return Zy(n.databaseId,e.path)}function dg(n,e){const t=CS(e);if(t.get(1)!==n.databaseId.projectId)throw new ge(ae.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new ge(ae.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new be(OS(t))}function DS(n,e){return Zy(n.databaseId,e)}function LN(n){const e=CS(n);return e.length===4?ft.emptyPath():OS(e)}function ny(n){return new ft(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function OS(n){return Ze(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function bT(n,e,t){return{name:ty(n,e),fields:t.value.mapValue.fields}}function VN(n,e){let t;if("targetChange"in e){e.targetChange;const i=function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Ae(39313,{state:p})}(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],l=function(p,y){return p.useProto3Json?(Ze(y===void 0||typeof y=="string",58123),sn.fromBase64String(y||"")):(Ze(y===void 0||y instanceof Buffer||y instanceof Uint8Array,16193),sn.fromUint8Array(y||new Uint8Array))}(n,e.targetChange.resumeToken),c=e.targetChange.cause,h=c&&function(p){const y=p.code===void 0?ae.UNKNOWN:AS(p.code);return new ge(y,p.message||"")}(c);t=new IS(i,a,l,h||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const a=dg(n,i.document.name),l=Kr(i.document.updateTime),c=i.document.createTime?Kr(i.document.createTime):Ce.min(),h=new Dn({mapValue:{fields:i.document.fields}}),m=mn.newFoundDocument(a,l,c,h),p=i.targetIds||[],y=i.removedTargetIds||[];t=new Vh(p,y,m.key,m)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const a=dg(n,i.document),l=i.readTime?Kr(i.readTime):Ce.min(),c=mn.newNoDocument(a,l),h=i.removedTargetIds||[];t=new Vh([],h,c.key,c)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const a=dg(n,i.document),l=i.removedTargetIds||[];t=new Vh([],l,a,null)}else{if(!("filter"in e))return Ae(11601,{Vt:e});{e.filter;const i=e.filter;i.targetId;const{count:a=0,unchangedNames:l}=i,c=new IN(a,l),h=i.targetId;t=new RS(h,c)}}return t}function UN(n,e){let t;if(e instanceof Oc)t={update:bT(n,e.key,e.value)};else if(e instanceof xd)t={delete:ty(n,e.key)};else if(e instanceof $s)t={update:bT(n,e.key,e.data),updateMask:GN(e.fieldMask)};else{if(!(e instanceof SN))return Ae(16599,{ft:e.type});t={verify:ty(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(l,c){const h=c.transform;if(h instanceof yc)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof vc)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof _c)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof Zh)return{fieldPath:c.field.canonicalString(),increment:h.Re};throw Ae(20930,{transform:c.transform})}(0,i))),e.precondition.isNone||(t.currentDocument=function(a,l){return l.updateTime!==void 0?{updateTime:PN(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Ae(27497)}(n,e.precondition)),t}function jN(n,e){return n&&n.length>0?(Ze(e!==void 0,14353),n.map(t=>function(a,l){let c=a.updateTime?Kr(a.updateTime):Kr(l);return c.isEqual(Ce.min())&&(c=Kr(l)),new EN(c,a.transformResults||[])}(t,e))):[]}function FN(n,e){return{documents:[DS(n,e.path)]}}function zN(n,e){const t={structuredQuery:{}},i=e.path;let a;e.collectionGroup!==null?(a=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=DS(n,a);const l=function(p){if(p.length!==0)return MS(Er.create(p,"and"))}(e.filters);l&&(t.structuredQuery.where=l);const c=function(p){if(p.length!==0)return p.map(y=>function(b){return{field:Qo(b.field),direction:HN(b.dir)}}(y))}(e.orderBy);c&&(t.structuredQuery.orderBy=c);const h=Jg(n,e.limit);return h!==null&&(t.structuredQuery.limit=h),e.startAt&&(t.structuredQuery.startAt=function(p){return{before:p.inclusive,values:p.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(p){return{before:!p.inclusive,values:p.position}}(e.endAt)),{gt:t,parent:a}}function BN(n){let e=LN(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let a=null;if(i>0){Ze(i===1,65062);const y=t.from[0];y.allDescendants?a=y.collectionId:e=e.child(y.collectionId)}let l=[];t.where&&(l=function(_){const b=NS(_);return b instanceof Er&&oS(b)?b.getFilters():[b]}(t.where));let c=[];t.orderBy&&(c=function(_){return _.map(b=>function(R){return new gc(Wo(R.field),function(D){switch(D){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(R.direction))}(b))}(t.orderBy));let h=null;t.limit&&(h=function(_){let b;return b=typeof _=="object"?_.value:_,Td(b)?null:b}(t.limit));let m=null;t.startAt&&(m=function(_){const b=!!_.before,w=_.values||[];return new Xh(w,b)}(t.startAt));let p=null;return t.endAt&&(p=function(_){const b=!_.before,w=_.values||[];return new Xh(w,b)}(t.endAt)),oN(e,a,c,l,h,"F",m,p)}function $N(n,e){const t=function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ae(28987,{purpose:a})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function NS(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=Wo(t.unaryFilter.field);return Nt.create(i,"==",{doubleValue:NaN});case"IS_NULL":const a=Wo(t.unaryFilter.field);return Nt.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Wo(t.unaryFilter.field);return Nt.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Wo(t.unaryFilter.field);return Nt.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ae(61313);default:return Ae(60726)}}(n):n.fieldFilter!==void 0?function(t){return Nt.create(Wo(t.fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ae(58110);default:return Ae(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return Er.create(t.compositeFilter.filters.map(i=>NS(i)),function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Ae(1026)}}(t.compositeFilter.op))}(n):Ae(30097,{filter:n})}function HN(n){return ON[n]}function qN(n){return NN[n]}function YN(n){return MN[n]}function Qo(n){return{fieldPath:n.canonicalString()}}function Wo(n){return rn.fromServerFormat(n.fieldPath)}function MS(n){return n instanceof Nt?function(t){if(t.op==="=="){if(oT(t.value))return{unaryFilter:{field:Qo(t.field),op:"IS_NAN"}};if(aT(t.value))return{unaryFilter:{field:Qo(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(oT(t.value))return{unaryFilter:{field:Qo(t.field),op:"IS_NOT_NAN"}};if(aT(t.value))return{unaryFilter:{field:Qo(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Qo(t.field),op:qN(t.op),value:t.value}}}(n):n instanceof Er?function(t){const i=t.getFilters().map(a=>MS(a));return i.length===1?i[0]:{compositeFilter:{op:YN(t.op),filters:i}}}(n):Ae(54877,{filter:n})}function GN(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function kS(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bs{constructor(e,t,i,a,l=Ce.min(),c=Ce.min(),h=sn.EMPTY_BYTE_STRING,m=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=h,this.expectedCount=m}withSequenceNumber(e){return new bs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new bs(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new bs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new bs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KN{constructor(e){this.wt=e}}function QN(n){const e=BN({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Zg(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WN{constructor(){this.yn=new XN}addToCollectionParentIndex(e,t){return this.yn.add(t),oe.resolve()}getCollectionParents(e,t){return oe.resolve(this.yn.getEntries(t))}addFieldIndex(e,t){return oe.resolve()}deleteFieldIndex(e,t){return oe.resolve()}deleteAllFieldIndexes(e){return oe.resolve()}createTargetIndexes(e,t){return oe.resolve()}getDocumentsMatchingTarget(e,t){return oe.resolve(null)}getIndexType(e,t){return oe.resolve(0)}getFieldIndexes(e,t){return oe.resolve([])}getNextCollectionGroupToUpdate(e){return oe.resolve(null)}getMinOffset(e,t){return oe.resolve(Os.min())}getMinOffsetFromCollectionGroup(e,t){return oe.resolve(Os.min())}updateCollectionGroup(e,t,i){return oe.resolve()}updateIndexEntries(e,t){return oe.resolve()}}class XN{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),a=this.index[t]||new zt(ft.comparator),l=!a.has(i);return this.index[t]=a.add(i),l}has(e){const t=e.lastSegment(),i=e.popLast(),a=this.index[t];return a&&a.has(i)}getEntries(e){return(this.index[e]||new zt(ft.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ET={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},PS=41943040;class Cn{static withCacheSize(e){return new Cn(e,Cn.DEFAULT_COLLECTION_PERCENTILE,Cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Cn.DEFAULT_COLLECTION_PERCENTILE=10,Cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Cn.DEFAULT=new Cn(PS,Cn.DEFAULT_COLLECTION_PERCENTILE,Cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Cn.DISABLED=new Cn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hl{constructor(e){this.nr=e}next(){return this.nr+=2,this.nr}static rr(){return new hl(0)}static ir(){return new hl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TT="LruGarbageCollector",ZN=1048576;function wT([n,e],[t,i]){const a=Le(n,t);return a===0?Le(e,i):a}class JN{constructor(e){this.cr=e,this.buffer=new zt(wT),this.lr=0}hr(){return++this.lr}Pr(e){const t=[e,this.hr()];if(this.buffer.size<this.cr)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();wT(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class eM{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Tr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ir(6e4)}stop(){this.Tr&&(this.Tr.cancel(),this.Tr=null)}get started(){return this.Tr!==null}Ir(e){pe(TT,`Garbage collection scheduled in ${e}ms`),this.Tr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Tr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){wl(t)?pe(TT,"Ignoring IndexedDB error during garbage collection: ",t):await Tl(t)}await this.Ir(3e5)})}}class tM{constructor(e,t){this.Er=e,this.params=t}calculateTargetCount(e,t){return this.Er.dr(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(t===0)return oe.resolve(Ed.le);const i=new JN(t);return this.Er.forEachTarget(e,a=>i.Pr(a.sequenceNumber)).next(()=>this.Er.Ar(e,a=>i.Pr(a))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.Er.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.Er.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(pe("LruGarbageCollector","Garbage collection skipped; disabled"),oe.resolve(ET)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(pe("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),ET):this.Rr(e,t))}getCacheSize(e){return this.Er.getCacheSize(e)}Rr(e,t){let i,a,l,c,h,m,p;const y=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(_=>(_>this.params.maximumSequenceNumbersToCollect?(pe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${_}`),a=this.params.maximumSequenceNumbersToCollect):a=_,c=Date.now(),this.nthSequenceNumber(e,a))).next(_=>(i=_,h=Date.now(),this.removeTargets(e,i,t))).next(_=>(l=_,m=Date.now(),this.removeOrphanedDocuments(e,i))).next(_=>(p=Date.now(),Go()<=Fe.DEBUG&&pe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-y}ms
	Determined least recently used ${a} in `+(h-c)+`ms
	Removed ${l} targets in `+(m-h)+`ms
	Removed ${_} documents in `+(p-m)+`ms
Total Duration: ${p-y}ms`),oe.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:_})))}}function nM(n,e){return new tM(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rM{constructor(){this.changes=new Ga(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,mn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return i!==void 0?oe.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iM{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sM{constructor(e,t,i,a){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=a}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(a=>(i=a,this.remoteDocumentCache.getEntry(e,t))).next(a=>(i!==null&&ic(i.mutation,a,zn.empty(),Ft.now()),a))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,ze()).next(()=>i))}getLocalViewOfDocuments(e,t,i=ze()){const a=Oa();return this.populateOverlays(e,a,t).next(()=>this.computeViews(e,t,a,i).next(l=>{let c=Gu();return l.forEach((h,m)=>{c=c.insert(h,m.overlayedDocument)}),c}))}getOverlayedDocuments(e,t){const i=Oa();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,ze()))}populateOverlays(e,t,i){const a=[];return i.forEach(l=>{t.has(l)||a.push(l)}),this.documentOverlayCache.getOverlays(e,a).next(l=>{l.forEach((c,h)=>{t.set(c,h)})})}computeViews(e,t,i,a){let l=Li();const c=rc(),h=function(){return rc()}();return t.forEach((m,p)=>{const y=i.get(p.key);a.has(p.key)&&(y===void 0||y.mutation instanceof $s)?l=l.insert(p.key,p):y!==void 0?(c.set(p.key,y.mutation.getFieldMask()),ic(y.mutation,p,y.mutation.getFieldMask(),Ft.now())):c.set(p.key,zn.empty())}),this.recalculateAndSaveOverlays(e,l).next(m=>(m.forEach((p,y)=>c.set(p,y)),t.forEach((p,y)=>{var _;return h.set(p,new iM(y,(_=c.get(p))!==null&&_!==void 0?_:null))}),h))}recalculateAndSaveOverlays(e,t){const i=rc();let a=new pt((c,h)=>c-h),l=ze();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(c=>{for(const h of c)h.keys().forEach(m=>{const p=t.get(m);if(p===null)return;let y=i.get(m)||zn.empty();y=h.applyToLocalView(p,y),i.set(m,y);const _=(a.get(h.batchId)||ze()).add(m);a=a.insert(h.batchId,_)})}).next(()=>{const c=[],h=a.getReverseIterator();for(;h.hasNext();){const m=h.getNext(),p=m.key,y=m.value,_=yS();y.forEach(b=>{if(!l.has(b)){const w=wS(t.get(b),i.get(b));w!==null&&_.set(b,w),l=l.add(b)}}),c.push(this.documentOverlayCache.saveOverlays(e,p,_))}return oe.waitFor(c)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i,a){return function(c){return be.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):hS(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,a):this.getDocumentsMatchingCollectionQuery(e,t,i,a)}getNextDocuments(e,t,i,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,a).next(l=>{const c=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,a-l.size):oe.resolve(Oa());let h=hc,m=l;return c.next(p=>oe.forEach(p,(y,_)=>(h<_.largestBatchId&&(h=_.largestBatchId),l.get(y)?oe.resolve():this.remoteDocumentCache.getEntry(e,y).next(b=>{m=m.insert(y,b)}))).next(()=>this.populateOverlays(e,p,l)).next(()=>this.computeViews(e,m,p,ze())).next(y=>({batchId:h,changes:gS(y)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new be(t)).next(i=>{let a=Gu();return i.isFoundDocument()&&(a=a.insert(i.key,i)),a})}getDocumentsMatchingCollectionGroupQuery(e,t,i,a){const l=t.collectionGroup;let c=Gu();return this.indexManager.getCollectionParents(e,l).next(h=>oe.forEach(h,m=>{const p=function(_,b){return new Sl(b,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)}(t,m.child(l));return this.getDocumentsMatchingCollectionQuery(e,p,i,a).next(y=>{y.forEach((_,b)=>{c=c.insert(_,b)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(e,t,i,a){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,l,a))).next(c=>{l.forEach((m,p)=>{const y=p.getKey();c.get(y)===null&&(c=c.insert(y,mn.newInvalidDocument(y)))});let h=Gu();return c.forEach((m,p)=>{const y=l.get(m);y!==void 0&&ic(y.mutation,p,zn.empty(),Ft.now()),Ad(t,p)&&(h=h.insert(m,p))}),h})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aM{constructor(e){this.serializer=e,this.Fr=new Map,this.Mr=new Map}getBundleMetadata(e,t){return oe.resolve(this.Fr.get(t))}saveBundleMetadata(e,t){return this.Fr.set(t.id,function(a){return{id:a.id,version:a.version,createTime:Kr(a.createTime)}}(t)),oe.resolve()}getNamedQuery(e,t){return oe.resolve(this.Mr.get(t))}saveNamedQuery(e,t){return this.Mr.set(t.name,function(a){return{name:a.name,query:QN(a.bundledQuery),readTime:Kr(a.readTime)}}(t)),oe.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oM{constructor(){this.overlays=new pt(be.comparator),this.Or=new Map}getOverlay(e,t){return oe.resolve(this.overlays.get(t))}getOverlays(e,t){const i=Oa();return oe.forEach(t,a=>this.getOverlay(e,a).next(l=>{l!==null&&i.set(a,l)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((a,l)=>{this.St(e,t,l)}),oe.resolve()}removeOverlaysForBatchId(e,t,i){const a=this.Or.get(i);return a!==void 0&&(a.forEach(l=>this.overlays=this.overlays.remove(l)),this.Or.delete(i)),oe.resolve()}getOverlaysForCollection(e,t,i){const a=Oa(),l=t.length+1,c=new be(t.child("")),h=this.overlays.getIteratorFrom(c);for(;h.hasNext();){const m=h.getNext().value,p=m.getKey();if(!t.isPrefixOf(p.path))break;p.path.length===l&&m.largestBatchId>i&&a.set(m.getKey(),m)}return oe.resolve(a)}getOverlaysForCollectionGroup(e,t,i,a){let l=new pt((p,y)=>p-y);const c=this.overlays.getIterator();for(;c.hasNext();){const p=c.getNext().value;if(p.getKey().getCollectionGroup()===t&&p.largestBatchId>i){let y=l.get(p.largestBatchId);y===null&&(y=Oa(),l=l.insert(p.largestBatchId,y)),y.set(p.getKey(),p)}}const h=Oa(),m=l.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach((p,y)=>h.set(p,y)),!(h.size()>=a)););return oe.resolve(h)}St(e,t,i){const a=this.overlays.get(i.key);if(a!==null){const c=this.Or.get(a.largestBatchId).delete(i.key);this.Or.set(a.largestBatchId,c)}this.overlays=this.overlays.insert(i.key,new RN(t,i));let l=this.Or.get(t);l===void 0&&(l=ze(),this.Or.set(t,l)),this.Or.set(t,l.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lM{constructor(){this.sessionToken=sn.EMPTY_BYTE_STRING}getSessionToken(e){return oe.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,oe.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jy{constructor(){this.Nr=new zt(Kt.Br),this.Lr=new zt(Kt.kr)}isEmpty(){return this.Nr.isEmpty()}addReference(e,t){const i=new Kt(e,t);this.Nr=this.Nr.add(i),this.Lr=this.Lr.add(i)}qr(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.Qr(new Kt(e,t))}$r(e,t){e.forEach(i=>this.removeReference(i,t))}Ur(e){const t=new be(new ft([])),i=new Kt(t,e),a=new Kt(t,e+1),l=[];return this.Lr.forEachInRange([i,a],c=>{this.Qr(c),l.push(c.key)}),l}Kr(){this.Nr.forEach(e=>this.Qr(e))}Qr(e){this.Nr=this.Nr.delete(e),this.Lr=this.Lr.delete(e)}Wr(e){const t=new be(new ft([])),i=new Kt(t,e),a=new Kt(t,e+1);let l=ze();return this.Lr.forEachInRange([i,a],c=>{l=l.add(c.key)}),l}containsKey(e){const t=new Kt(e,0),i=this.Nr.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}}class Kt{constructor(e,t){this.key=e,this.Gr=t}static Br(e,t){return be.comparator(e.key,t.key)||Le(e.Gr,t.Gr)}static kr(e,t){return Le(e.Gr,t.Gr)||be.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uM{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Jn=1,this.zr=new zt(Kt.Br)}checkEmpty(e){return oe.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,a){const l=this.Jn;this.Jn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new AN(l,t,i,a);this.mutationQueue.push(c);for(const h of a)this.zr=this.zr.add(new Kt(h.key,l)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return oe.resolve(c)}lookupMutationBatch(e,t){return oe.resolve(this.jr(t))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,a=this.Hr(i),l=a<0?0:a;return oe.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return oe.resolve(this.mutationQueue.length===0?Hy:this.Jn-1)}getAllMutationBatches(e){return oe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new Kt(t,0),a=new Kt(t,Number.POSITIVE_INFINITY),l=[];return this.zr.forEachInRange([i,a],c=>{const h=this.jr(c.Gr);l.push(h)}),oe.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new zt(Le);return t.forEach(a=>{const l=new Kt(a,0),c=new Kt(a,Number.POSITIVE_INFINITY);this.zr.forEachInRange([l,c],h=>{i=i.add(h.Gr)})}),oe.resolve(this.Jr(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,a=i.length+1;let l=i;be.isDocumentKey(l)||(l=l.child(""));const c=new Kt(new be(l),0);let h=new zt(Le);return this.zr.forEachWhile(m=>{const p=m.key.path;return!!i.isPrefixOf(p)&&(p.length===a&&(h=h.add(m.Gr)),!0)},c),oe.resolve(this.Jr(h))}Jr(e){const t=[];return e.forEach(i=>{const a=this.jr(i);a!==null&&t.push(a)}),t}removeMutationBatch(e,t){Ze(this.Yr(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.zr;return oe.forEach(t.mutations,a=>{const l=new Kt(a.key,t.batchId);return i=i.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.zr=i})}Xn(e){}containsKey(e,t){const i=new Kt(t,0),a=this.zr.firstAfterOrEqual(i);return oe.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,oe.resolve()}Yr(e,t){return this.Hr(e)}Hr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}jr(e){const t=this.Hr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cM{constructor(e){this.Zr=e,this.docs=function(){return new pt(be.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,a=this.docs.get(i),l=a?a.size:0,c=this.Zr(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return oe.resolve(i?i.document.mutableCopy():mn.newInvalidDocument(t))}getEntries(e,t){let i=Li();return t.forEach(a=>{const l=this.docs.get(a);i=i.insert(a,l?l.document.mutableCopy():mn.newInvalidDocument(a))}),oe.resolve(i)}getDocumentsMatchingQuery(e,t,i,a){let l=Li();const c=t.path,h=new be(c.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(h);for(;m.hasNext();){const{key:p,value:{document:y}}=m.getNext();if(!c.isPrefixOf(p.path))break;p.path.length>c.length+1||jO(UO(y),i)<=0||(a.has(y.key)||Ad(t,y))&&(l=l.insert(y.key,y.mutableCopy()))}return oe.resolve(l)}getAllFromCollectionGroup(e,t,i,a){Ae(9500)}Xr(e,t){return oe.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new fM(this)}getSize(e){return oe.resolve(this.size)}}class fM extends rM{constructor(e){super(),this.vr=e}applyChanges(e){const t=[];return this.changes.forEach((i,a)=>{a.isValidDocument()?t.push(this.vr.addEntry(e,a)):this.vr.removeEntry(i)}),oe.waitFor(t)}getFromCache(e,t){return this.vr.getEntry(e,t)}getAllFromCache(e,t){return this.vr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hM{constructor(e){this.persistence=e,this.ei=new Ga(t=>Gy(t),Ky),this.lastRemoteSnapshotVersion=Ce.min(),this.highestTargetId=0,this.ti=0,this.ni=new Jy,this.targetCount=0,this.ri=hl.rr()}forEachTarget(e,t){return this.ei.forEach((i,a)=>t(a)),oe.resolve()}getLastRemoteSnapshotVersion(e){return oe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return oe.resolve(this.ti)}allocateTargetId(e){return this.highestTargetId=this.ri.next(),oe.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.ti&&(this.ti=t),oe.resolve()}ar(e){this.ei.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ri=new hl(t),this.highestTargetId=t),e.sequenceNumber>this.ti&&(this.ti=e.sequenceNumber)}addTargetData(e,t){return this.ar(t),this.targetCount+=1,oe.resolve()}updateTargetData(e,t){return this.ar(t),oe.resolve()}removeTargetData(e,t){return this.ei.delete(t.target),this.ni.Ur(t.targetId),this.targetCount-=1,oe.resolve()}removeTargets(e,t,i){let a=0;const l=[];return this.ei.forEach((c,h)=>{h.sequenceNumber<=t&&i.get(h.targetId)===null&&(this.ei.delete(c),l.push(this.removeMatchingKeysForTargetId(e,h.targetId)),a++)}),oe.waitFor(l).next(()=>a)}getTargetCount(e){return oe.resolve(this.targetCount)}getTargetData(e,t){const i=this.ei.get(t)||null;return oe.resolve(i)}addMatchingKeys(e,t,i){return this.ni.qr(t,i),oe.resolve()}removeMatchingKeys(e,t,i){this.ni.$r(t,i);const a=this.persistence.referenceDelegate,l=[];return a&&t.forEach(c=>{l.push(a.markPotentiallyOrphaned(e,c))}),oe.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.ni.Ur(t),oe.resolve()}getMatchingKeysForTargetId(e,t){const i=this.ni.Wr(t);return oe.resolve(i)}containsKey(e,t){return oe.resolve(this.ni.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LS{constructor(e,t){this.ii={},this.overlays={},this.si=new Ed(0),this.oi=!1,this.oi=!0,this._i=new lM,this.referenceDelegate=e(this),this.ai=new hM(this),this.indexManager=new WN,this.remoteDocumentCache=function(a){return new cM(a)}(i=>this.referenceDelegate.ui(i)),this.serializer=new KN(t),this.ci=new aM(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.oi=!1,Promise.resolve()}get started(){return this.oi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new oM,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.ii[e.toKey()];return i||(i=new uM(t,this.referenceDelegate),this.ii[e.toKey()]=i),i}getGlobalsCache(){return this._i}getTargetCache(){return this.ai}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.ci}runTransaction(e,t,i){pe("MemoryPersistence","Starting transaction:",e);const a=new dM(this.si.next());return this.referenceDelegate.li(),i(a).next(l=>this.referenceDelegate.hi(a).next(()=>l)).toPromise().then(l=>(a.raiseOnCommittedEvent(),l))}Pi(e,t){return oe.or(Object.values(this.ii).map(i=>()=>i.containsKey(e,t)))}}class dM extends zO{constructor(e){super(),this.currentSequenceNumber=e}}class ev{constructor(e){this.persistence=e,this.Ti=new Jy,this.Ii=null}static Ei(e){return new ev(e)}get di(){if(this.Ii)return this.Ii;throw Ae(60996)}addReference(e,t,i){return this.Ti.addReference(i,t),this.di.delete(i.toString()),oe.resolve()}removeReference(e,t,i){return this.Ti.removeReference(i,t),this.di.add(i.toString()),oe.resolve()}markPotentiallyOrphaned(e,t){return this.di.add(t.toString()),oe.resolve()}removeTarget(e,t){this.Ti.Ur(t.targetId).forEach(a=>this.di.add(a.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(a=>{a.forEach(l=>this.di.add(l.toString()))}).next(()=>i.removeTargetData(e,t))}li(){this.Ii=new Set}hi(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return oe.forEach(this.di,i=>{const a=be.fromPath(i);return this.Ai(e,a).next(l=>{l||t.removeEntry(a,Ce.min())})}).next(()=>(this.Ii=null,t.apply(e)))}updateLimboDocument(e,t){return this.Ai(e,t).next(i=>{i?this.di.delete(t.toString()):this.di.add(t.toString())})}ui(e){return 0}Ai(e,t){return oe.or([()=>oe.resolve(this.Ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Pi(e,t)])}}class ed{constructor(e,t){this.persistence=e,this.Ri=new Ga(i=>HO(i.path),(i,a)=>i.isEqual(a)),this.garbageCollector=nM(this,t)}static Ei(e,t){return new ed(e,t)}li(){}hi(e){return oe.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}dr(e){const t=this.Vr(e);return this.persistence.getTargetCache().getTargetCount(e).next(i=>t.next(a=>i+a))}Vr(e){let t=0;return this.Ar(e,i=>{t++}).next(()=>t)}Ar(e,t){return oe.forEach(this.Ri,(i,a)=>this.gr(e,i,a).next(l=>l?oe.resolve():t(a)))}removeTargets(e,t,i){return this.persistence.getTargetCache().removeTargets(e,t,i)}removeOrphanedDocuments(e,t){let i=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.Xr(e,c=>this.gr(e,c,t).next(h=>{h||(i++,l.removeEntry(c,Ce.min()))})).next(()=>l.apply(e)).next(()=>i)}markPotentiallyOrphaned(e,t){return this.Ri.set(t,e.currentSequenceNumber),oe.resolve()}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,t,i){return this.Ri.set(i,e.currentSequenceNumber),oe.resolve()}removeReference(e,t,i){return this.Ri.set(i,e.currentSequenceNumber),oe.resolve()}updateLimboDocument(e,t){return this.Ri.set(t,e.currentSequenceNumber),oe.resolve()}ui(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=kh(e.data.value)),t}gr(e,t,i){return oe.or([()=>this.persistence.Pi(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const a=this.Ri.get(t);return oe.resolve(a!==void 0&&a>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tv{constructor(e,t,i,a){this.targetId=e,this.fromCache=t,this.ls=i,this.hs=a}static Ps(e,t){let i=ze(),a=ze();for(const l of t.docChanges)switch(l.type){case 0:i=i.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new tv(e,t.fromCache,i,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mM{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pM{constructor(){this.Ts=!1,this.Is=!1,this.Es=100,this.ds=function(){return Gx()?8:BO(gn())>0?6:4}()}initialize(e,t){this.As=e,this.indexManager=t,this.Ts=!0}getDocumentsMatchingQuery(e,t,i,a){const l={result:null};return this.Rs(e,t).next(c=>{l.result=c}).next(()=>{if(!l.result)return this.Vs(e,t,a,i).next(c=>{l.result=c})}).next(()=>{if(l.result)return;const c=new mM;return this.fs(e,t,c).next(h=>{if(l.result=h,this.Is)return this.gs(e,t,c,h.size)})}).next(()=>l.result)}gs(e,t,i,a){return i.documentReadCount<this.Es?(Go()<=Fe.DEBUG&&pe("QueryEngine","SDK will not create cache indexes for query:",Ko(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Es,"documents"),oe.resolve()):(Go()<=Fe.DEBUG&&pe("QueryEngine","Query:",Ko(t),"scans",i.documentReadCount,"local documents and returns",a,"documents as results."),i.documentReadCount>this.ds*a?(Go()<=Fe.DEBUG&&pe("QueryEngine","The SDK decides to create cache indexes for query:",Ko(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Gr(t))):oe.resolve())}Rs(e,t){if(fT(t))return oe.resolve(null);let i=Gr(t);return this.indexManager.getIndexType(e,i).next(a=>a===0?null:(t.limit!==null&&a===1&&(t=Zg(t,null,"F"),i=Gr(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(l=>{const c=ze(...l);return this.As.getDocuments(e,c).next(h=>this.indexManager.getMinOffset(e,i).next(m=>{const p=this.ps(t,h);return this.ys(t,p,c,m.readTime)?this.Rs(e,Zg(t,null,"F")):this.ws(e,p,t,m)}))})))}Vs(e,t,i,a){return fT(t)||a.isEqual(Ce.min())?oe.resolve(null):this.As.getDocuments(e,i).next(l=>{const c=this.ps(t,l);return this.ys(t,c,i,a)?oe.resolve(null):(Go()<=Fe.DEBUG&&pe("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Ko(t)),this.ws(e,c,t,VO(a,hc)).next(h=>h))})}ps(e,t){let i=new zt(mS(e));return t.forEach((a,l)=>{Ad(e,l)&&(i=i.add(l))}),i}ys(e,t,i,a){if(e.limit===null)return!1;if(i.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}fs(e,t,i){return Go()<=Fe.DEBUG&&pe("QueryEngine","Using full collection scan to execute query:",Ko(t)),this.As.getDocumentsMatchingQuery(e,t,Os.min(),i)}ws(e,t,i,a){return this.As.getDocumentsMatchingQuery(e,i,a).next(l=>(t.forEach(c=>{l=l.insert(c.key,c)}),l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nv="LocalStore",gM=3e8;class yM{constructor(e,t,i,a){this.persistence=e,this.bs=t,this.serializer=a,this.Ss=new pt(Le),this.Ds=new Ga(l=>Gy(l),Ky),this.vs=new Map,this.Cs=e.getRemoteDocumentCache(),this.ai=e.getTargetCache(),this.ci=e.getBundleCache(),this.Fs(i)}Fs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new sM(this.Cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Cs.setIndexManager(this.indexManager),this.bs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ss))}}function vM(n,e,t,i){return new yM(n,e,t,i)}async function VS(n,e){const t=Ne(n);return await t.persistence.runTransaction("Handle user change","readonly",i=>{let a;return t.mutationQueue.getAllMutationBatches(i).next(l=>(a=l,t.Fs(e),t.mutationQueue.getAllMutationBatches(i))).next(l=>{const c=[],h=[];let m=ze();for(const p of a){c.push(p.batchId);for(const y of p.mutations)m=m.add(y.key)}for(const p of l){h.push(p.batchId);for(const y of p.mutations)m=m.add(y.key)}return t.localDocuments.getDocuments(i,m).next(p=>({Ms:p,removedBatchIds:c,addedBatchIds:h}))})})}function _M(n,e){const t=Ne(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const a=e.batch.keys(),l=t.Cs.newChangeBuffer({trackRemovals:!0});return function(h,m,p,y){const _=p.batch,b=_.keys();let w=oe.resolve();return b.forEach(R=>{w=w.next(()=>y.getEntry(m,R)).next(C=>{const D=p.docVersions.get(R);Ze(D!==null,48541),C.version.compareTo(D)<0&&(_.applyToRemoteDocument(C,p),C.isValidDocument()&&(C.setReadTime(p.commitVersion),y.addEntry(C)))})}),w.next(()=>h.mutationQueue.removeMutationBatch(m,_))}(t,i,e,l).next(()=>l.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,a,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(h){let m=ze();for(let p=0;p<h.mutationResults.length;++p)h.mutationResults[p].transformResults.length>0&&(m=m.add(h.batch.mutations[p].key));return m}(e))).next(()=>t.localDocuments.getDocuments(i,a))})}function US(n){const e=Ne(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.ai.getLastRemoteSnapshotVersion(t))}function bM(n,e){const t=Ne(n),i=e.snapshotVersion;let a=t.Ss;return t.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const c=t.Cs.newChangeBuffer({trackRemovals:!0});a=t.Ss;const h=[];e.targetChanges.forEach((y,_)=>{const b=a.get(_);if(!b)return;h.push(t.ai.removeMatchingKeys(l,y.removedDocuments,_).next(()=>t.ai.addMatchingKeys(l,y.addedDocuments,_)));let w=b.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(_)!==null?w=w.withResumeToken(sn.EMPTY_BYTE_STRING,Ce.min()).withLastLimboFreeSnapshotVersion(Ce.min()):y.resumeToken.approximateByteSize()>0&&(w=w.withResumeToken(y.resumeToken,i)),a=a.insert(_,w),function(C,D,B){return C.resumeToken.approximateByteSize()===0||D.snapshotVersion.toMicroseconds()-C.snapshotVersion.toMicroseconds()>=gM?!0:B.addedDocuments.size+B.modifiedDocuments.size+B.removedDocuments.size>0}(b,w,y)&&h.push(t.ai.updateTargetData(l,w))});let m=Li(),p=ze();if(e.documentUpdates.forEach(y=>{e.resolvedLimboDocuments.has(y)&&h.push(t.persistence.referenceDelegate.updateLimboDocument(l,y))}),h.push(EM(l,c,e.documentUpdates).next(y=>{m=y.xs,p=y.Os})),!i.isEqual(Ce.min())){const y=t.ai.getLastRemoteSnapshotVersion(l).next(_=>t.ai.setTargetsMetadata(l,l.currentSequenceNumber,i));h.push(y)}return oe.waitFor(h).next(()=>c.apply(l)).next(()=>t.localDocuments.getLocalViewOfDocuments(l,m,p)).next(()=>m)}).then(l=>(t.Ss=a,l))}function EM(n,e,t){let i=ze(),a=ze();return t.forEach(l=>i=i.add(l)),e.getEntries(n,i).next(l=>{let c=Li();return t.forEach((h,m)=>{const p=l.get(h);m.isFoundDocument()!==p.isFoundDocument()&&(a=a.add(h)),m.isNoDocument()&&m.version.isEqual(Ce.min())?(e.removeEntry(h,m.readTime),c=c.insert(h,m)):!p.isValidDocument()||m.version.compareTo(p.version)>0||m.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(m),c=c.insert(h,m)):pe(nv,"Ignoring outdated watch update for ",h,". Current version:",p.version," Watch version:",m.version)}),{xs:c,Os:a}})}function TM(n,e){const t=Ne(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=Hy),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function wM(n,e){const t=Ne(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let a;return t.ai.getTargetData(i,e).next(l=>l?(a=l,oe.resolve(a)):t.ai.allocateTargetId(i).next(c=>(a=new bs(e,c,"TargetPurposeListen",i.currentSequenceNumber),t.ai.addTargetData(i,a).next(()=>a))))}).then(i=>{const a=t.Ss.get(i.targetId);return(a===null||i.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.Ss=t.Ss.insert(i.targetId,i),t.Ds.set(e,i.targetId)),i})}async function ry(n,e,t){const i=Ne(n),a=i.Ss.get(e),l=t?"readwrite":"readwrite-primary";try{t||await i.persistence.runTransaction("Release target",l,c=>i.persistence.referenceDelegate.removeTarget(c,a))}catch(c){if(!wl(c))throw c;pe(nv,`Failed to update sequence numbers for target ${e}: ${c}`)}i.Ss=i.Ss.remove(e),i.Ds.delete(a.target)}function ST(n,e,t){const i=Ne(n);let a=Ce.min(),l=ze();return i.persistence.runTransaction("Execute query","readwrite",c=>function(m,p,y){const _=Ne(m),b=_.Ds.get(y);return b!==void 0?oe.resolve(_.Ss.get(b)):_.ai.getTargetData(p,y)}(i,c,Gr(e)).next(h=>{if(h)return a=h.lastLimboFreeSnapshotVersion,i.ai.getMatchingKeysForTargetId(c,h.targetId).next(m=>{l=m})}).next(()=>i.bs.getDocumentsMatchingQuery(c,e,t?a:Ce.min(),t?l:ze())).next(h=>(SM(i,uN(e),h),{documents:h,Ns:l})))}function SM(n,e,t){let i=n.vs.get(e)||Ce.min();t.forEach((a,l)=>{l.readTime.compareTo(i)>0&&(i=l.readTime)}),n.vs.set(e,i)}class AT{constructor(){this.activeTargetIds=pN()}$s(e){this.activeTargetIds=this.activeTargetIds.add(e)}Us(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Qs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class AM{constructor(){this.So=new AT,this.Do={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this.So.$s(e),this.Do[e]||"not-current"}updateQueryState(e,t,i){this.Do[e]=t}removeLocalQueryTarget(e){this.So.Us(e)}isLocalQueryTarget(e){return this.So.activeTargetIds.has(e)}clearQueryState(e){delete this.Do[e]}getAllActiveQueryTargets(){return this.So.activeTargetIds}isActiveQueryTarget(e){return this.So.activeTargetIds.has(e)}start(){return this.So=new AT,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RM{vo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RT="ConnectivityMonitor";class IT{constructor(){this.Co=()=>this.Fo(),this.Mo=()=>this.xo(),this.Oo=[],this.No()}vo(e){this.Oo.push(e)}shutdown(){window.removeEventListener("online",this.Co),window.removeEventListener("offline",this.Mo)}No(){window.addEventListener("online",this.Co),window.addEventListener("offline",this.Mo)}Fo(){pe(RT,"Network connectivity changed: AVAILABLE");for(const e of this.Oo)e(0)}xo(){pe(RT,"Network connectivity changed: UNAVAILABLE");for(const e of this.Oo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Th=null;function iy(){return Th===null?Th=function(){return 268435456+Math.round(2147483648*Math.random())}():Th++,"0x"+Th.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mg="RestConnection",IM={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class xM{get Bo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Lo=t+"://"+e.host,this.ko=`projects/${i}/databases/${a}`,this.qo=this.databaseId.database===Qh?`project_id=${i}`:`project_id=${i}&database_id=${a}`}Qo(e,t,i,a,l){const c=iy(),h=this.$o(e,t.toUriEncodedString());pe(mg,`Sending RPC '${e}' ${c}:`,h,i);const m={"google-cloud-resource-prefix":this.ko,"x-goog-request-params":this.qo};this.Uo(m,a,l);const{host:p}=new URL(h),y=Sc(p);return this.Ko(e,h,m,i,y).then(_=>(pe(mg,`Received RPC '${e}' ${c}: `,_),_),_=>{throw ll(mg,`RPC '${e}' ${c} failed with error: `,_,"url: ",h,"request:",i),_})}Wo(e,t,i,a,l,c){return this.Qo(e,t,i,a,l)}Uo(e,t,i){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+El}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((a,l)=>e[l]=a),i&&i.headers.forEach((a,l)=>e[l]=a)}$o(e,t){const i=IM[e];return`${this.Lo}/v1/${t}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CM{constructor(e){this.Go=e.Go,this.zo=e.zo}jo(e){this.Ho=e}Jo(e){this.Yo=e}Zo(e){this.Xo=e}onMessage(e){this.e_=e}close(){this.zo()}send(e){this.Go(e)}t_(){this.Ho()}n_(){this.Yo()}r_(e){this.Xo(e)}i_(e){this.e_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cn="WebChannelConnection";class DM extends xM{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ko(e,t,i,a,l){const c=iy();return new Promise((h,m)=>{const p=new F1;p.setWithCredentials(!0),p.listenOnce(z1.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case Mh.NO_ERROR:const _=p.getResponseJson();pe(cn,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(_)),h(_);break;case Mh.TIMEOUT:pe(cn,`RPC '${e}' ${c} timed out`),m(new ge(ae.DEADLINE_EXCEEDED,"Request time out"));break;case Mh.HTTP_ERROR:const b=p.getStatus();if(pe(cn,`RPC '${e}' ${c} failed with status:`,b,"response text:",p.getResponseText()),b>0){let w=p.getResponseJson();Array.isArray(w)&&(w=w[0]);const R=w==null?void 0:w.error;if(R&&R.status&&R.message){const C=function(B){const F=B.toLowerCase().replace(/_/g,"-");return Object.values(ae).indexOf(F)>=0?F:ae.UNKNOWN}(R.status);m(new ge(C,R.message))}else m(new ge(ae.UNKNOWN,"Server responded with status "+p.getStatus()))}else m(new ge(ae.UNAVAILABLE,"Connection failed."));break;default:Ae(9055,{s_:e,streamId:c,o_:p.getLastErrorCode(),__:p.getLastError()})}}finally{pe(cn,`RPC '${e}' ${c} completed.`)}});const y=JSON.stringify(a);pe(cn,`RPC '${e}' ${c} sending request:`,a),p.send(t,"POST",y,i,15)})}a_(e,t,i){const a=iy(),l=[this.Lo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=H1(),h=$1(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(m.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(m.useFetchStreams=!0),this.Uo(m.initMessageHeaders,t,i),m.encodeInitMessageHeaders=!0;const y=l.join("");pe(cn,`Creating RPC '${e}' stream ${a}: ${y}`,m);const _=c.createWebChannel(y,m);let b=!1,w=!1;const R=new CM({Go:D=>{w?pe(cn,`Not sending because RPC '${e}' stream ${a} is closed:`,D):(b||(pe(cn,`Opening RPC '${e}' stream ${a} transport.`),_.open(),b=!0),pe(cn,`RPC '${e}' stream ${a} sending:`,D),_.send(D))},zo:()=>_.close()}),C=(D,B,F)=>{D.listen(B,q=>{try{F(q)}catch(H){setTimeout(()=>{throw H},0)}})};return C(_,Yu.EventType.OPEN,()=>{w||(pe(cn,`RPC '${e}' stream ${a} transport opened.`),R.t_())}),C(_,Yu.EventType.CLOSE,()=>{w||(w=!0,pe(cn,`RPC '${e}' stream ${a} transport closed`),R.r_())}),C(_,Yu.EventType.ERROR,D=>{w||(w=!0,ll(cn,`RPC '${e}' stream ${a} transport errored. Name:`,D.name,"Message:",D.message),R.r_(new ge(ae.UNAVAILABLE,"The operation could not be completed")))}),C(_,Yu.EventType.MESSAGE,D=>{var B;if(!w){const F=D.data[0];Ze(!!F,16349);const q=F,H=(q==null?void 0:q.error)||((B=q[0])===null||B===void 0?void 0:B.error);if(H){pe(cn,`RPC '${e}' stream ${a} received error:`,H);const K=H.status;let ee=function(O){const M=Dt[O];if(M!==void 0)return AS(M)}(K),N=H.message;ee===void 0&&(ee=ae.INTERNAL,N="Unknown error status: "+K+" with message "+H.message),w=!0,R.r_(new ge(ee,N)),_.close()}else pe(cn,`RPC '${e}' stream ${a} received:`,F),R.i_(F)}}),C(h,B1.STAT_EVENT,D=>{D.stat===qg.PROXY?pe(cn,`RPC '${e}' stream ${a} detected buffering proxy`):D.stat===qg.NOPROXY&&pe(cn,`RPC '${e}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{R.n_()},0),R}}function pg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dd(n){return new kN(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jS{constructor(e,t,i=1e3,a=1.5,l=6e4){this.bi=e,this.timerId=t,this.u_=i,this.c_=a,this.l_=l,this.h_=0,this.P_=null,this.T_=Date.now(),this.reset()}reset(){this.h_=0}I_(){this.h_=this.l_}E_(e){this.cancel();const t=Math.floor(this.h_+this.d_()),i=Math.max(0,Date.now()-this.T_),a=Math.max(0,t-i);a>0&&pe("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.h_} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.P_=this.bi.enqueueAfterDelay(this.timerId,a,()=>(this.T_=Date.now(),e())),this.h_*=this.c_,this.h_<this.u_&&(this.h_=this.u_),this.h_>this.l_&&(this.h_=this.l_)}A_(){this.P_!==null&&(this.P_.skipDelay(),this.P_=null)}cancel(){this.P_!==null&&(this.P_.cancel(),this.P_=null)}d_(){return(Math.random()-.5)*this.h_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xT="PersistentStream";class FS{constructor(e,t,i,a,l,c,h,m){this.bi=e,this.R_=i,this.V_=a,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=h,this.listener=m,this.state=0,this.m_=0,this.f_=null,this.g_=null,this.stream=null,this.p_=0,this.y_=new jS(e,t)}w_(){return this.state===1||this.state===5||this.b_()}b_(){return this.state===2||this.state===3}start(){this.p_=0,this.state!==4?this.auth():this.S_()}async stop(){this.w_()&&await this.close(0)}D_(){this.state=0,this.y_.reset()}v_(){this.b_()&&this.f_===null&&(this.f_=this.bi.enqueueAfterDelay(this.R_,6e4,()=>this.C_()))}F_(e){this.M_(),this.stream.send(e)}async C_(){if(this.b_())return this.close(0)}M_(){this.f_&&(this.f_.cancel(),this.f_=null)}x_(){this.g_&&(this.g_.cancel(),this.g_=null)}async close(e,t){this.M_(),this.x_(),this.y_.cancel(),this.m_++,e!==4?this.y_.reset():t&&t.code===ae.RESOURCE_EXHAUSTED?(Pi(t.toString()),Pi("Using maximum backoff delay to prevent overloading the backend."),this.y_.I_()):t&&t.code===ae.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.O_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Zo(t)}O_(){}auth(){this.state=1;const e=this.N_(this.m_),t=this.m_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,a])=>{this.m_===t&&this.B_(i,a)},i=>{e(()=>{const a=new ge(ae.UNKNOWN,"Fetching auth token failed: "+i.message);return this.L_(a)})})}B_(e,t){const i=this.N_(this.m_);this.stream=this.k_(e,t),this.stream.jo(()=>{i(()=>this.listener.jo())}),this.stream.Jo(()=>{i(()=>(this.state=2,this.g_=this.bi.enqueueAfterDelay(this.V_,1e4,()=>(this.b_()&&(this.state=3),Promise.resolve())),this.listener.Jo()))}),this.stream.Zo(a=>{i(()=>this.L_(a))}),this.stream.onMessage(a=>{i(()=>++this.p_==1?this.q_(a):this.onNext(a))})}S_(){this.state=5,this.y_.E_(async()=>{this.state=0,this.start()})}L_(e){return pe(xT,`close with error: ${e}`),this.stream=null,this.close(4,e)}N_(e){return t=>{this.bi.enqueueAndForget(()=>this.m_===e?t():(pe(xT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class OM extends FS{constructor(e,t,i,a,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,a,c),this.serializer=l}k_(e,t){return this.connection.a_("Listen",e,t)}q_(e){return this.onNext(e)}onNext(e){this.y_.reset();const t=VN(this.serializer,e),i=function(l){if(!("targetChange"in l))return Ce.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?Ce.min():c.readTime?Kr(c.readTime):Ce.min()}(e);return this.listener.Q_(t,i)}U_(e){const t={};t.database=ny(this.serializer),t.addTarget=function(l,c){let h;const m=c.target;if(h=Wg(m)?{documents:FN(l,m)}:{query:zN(l,m).gt},h.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){h.resumeToken=xS(l,c.resumeToken);const p=Jg(l,c.expectedCount);p!==null&&(h.expectedCount=p)}else if(c.snapshotVersion.compareTo(Ce.min())>0){h.readTime=Jh(l,c.snapshotVersion.toTimestamp());const p=Jg(l,c.expectedCount);p!==null&&(h.expectedCount=p)}return h}(this.serializer,e);const i=$N(this.serializer,e);i&&(t.labels=i),this.F_(t)}K_(e){const t={};t.database=ny(this.serializer),t.removeTarget=e,this.F_(t)}}class NM extends FS{constructor(e,t,i,a,l,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,a,c),this.serializer=l}get W_(){return this.p_>0}start(){this.lastStreamToken=void 0,super.start()}O_(){this.W_&&this.G_([])}k_(e,t){return this.connection.a_("Write",e,t)}q_(e){return Ze(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ze(!e.writeResults||e.writeResults.length===0,55816),this.listener.z_()}onNext(e){Ze(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.y_.reset();const t=jN(e.writeResults,e.commitTime),i=Kr(e.commitTime);return this.listener.j_(i,t)}H_(){const e={};e.database=ny(this.serializer),this.F_(e)}G_(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>UN(this.serializer,i))};this.F_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MM{}class kM extends MM{constructor(e,t,i,a){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=a,this.J_=!1}Y_(){if(this.J_)throw new ge(ae.FAILED_PRECONDITION,"The client has already been terminated.")}Qo(e,t,i,a){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,c])=>this.connection.Qo(e,ey(t,i),a,l,c)).catch(l=>{throw l.name==="FirebaseError"?(l.code===ae.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new ge(ae.UNKNOWN,l.toString())})}Wo(e,t,i,a,l){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,h])=>this.connection.Wo(e,ey(t,i),a,c,h,l)).catch(c=>{throw c.name==="FirebaseError"?(c.code===ae.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ge(ae.UNKNOWN,c.toString())})}terminate(){this.J_=!0,this.connection.terminate()}}class PM{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.Z_=0,this.X_=null,this.ea=!0}ta(){this.Z_===0&&(this.na("Unknown"),this.X_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.X_=null,this.ra("Backend didn't respond within 10 seconds."),this.na("Offline"),Promise.resolve())))}ia(e){this.state==="Online"?this.na("Unknown"):(this.Z_++,this.Z_>=1&&(this.sa(),this.ra(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.na("Offline")))}set(e){this.sa(),this.Z_=0,e==="Online"&&(this.ea=!1),this.na(e)}na(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ra(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ea?(Pi(t),this.ea=!1):pe("OnlineStateTracker",t)}sa(){this.X_!==null&&(this.X_.cancel(),this.X_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fa="RemoteStore";class LM{constructor(e,t,i,a,l){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.oa=[],this._a=new Map,this.aa=new Set,this.ua=[],this.ca=l,this.ca.vo(c=>{i.enqueueAndForget(async()=>{Ka(this)&&(pe(Fa,"Restarting streams for network reachability change."),await async function(m){const p=Ne(m);p.aa.add(4),await Mc(p),p.la.set("Unknown"),p.aa.delete(4),await Od(p)}(this))})}),this.la=new PM(i,a)}}async function Od(n){if(Ka(n))for(const e of n.ua)await e(!0)}async function Mc(n){for(const e of n.ua)await e(!1)}function zS(n,e){const t=Ne(n);t._a.has(e.targetId)||(t._a.set(e.targetId,e),av(t)?sv(t):Al(t).b_()&&iv(t,e))}function rv(n,e){const t=Ne(n),i=Al(t);t._a.delete(e),i.b_()&&BS(t,e),t._a.size===0&&(i.b_()?i.v_():Ka(t)&&t.la.set("Unknown"))}function iv(n,e){if(n.ha.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ce.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Al(n).U_(e)}function BS(n,e){n.ha.Ke(e),Al(n).K_(e)}function sv(n){n.ha=new DN({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>n._a.get(e)||null,Pt:()=>n.datastore.serializer.databaseId}),Al(n).start(),n.la.ta()}function av(n){return Ka(n)&&!Al(n).w_()&&n._a.size>0}function Ka(n){return Ne(n).aa.size===0}function $S(n){n.ha=void 0}async function VM(n){n.la.set("Online")}async function UM(n){n._a.forEach((e,t)=>{iv(n,e)})}async function jM(n,e){$S(n),av(n)?(n.la.ia(e),sv(n)):n.la.set("Unknown")}async function FM(n,e,t){if(n.la.set("Online"),e instanceof IS&&e.state===2&&e.cause)try{await async function(a,l){const c=l.cause;for(const h of l.targetIds)a._a.has(h)&&(await a.remoteSyncer.rejectListen(h,c),a._a.delete(h),a.ha.removeTarget(h))}(n,e)}catch(i){pe(Fa,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await td(n,i)}else if(e instanceof Vh?n.ha.Xe(e):e instanceof RS?n.ha.ot(e):n.ha.nt(e),!t.isEqual(Ce.min()))try{const i=await US(n.localStore);t.compareTo(i)>=0&&await function(l,c){const h=l.ha.It(c);return h.targetChanges.forEach((m,p)=>{if(m.resumeToken.approximateByteSize()>0){const y=l._a.get(p);y&&l._a.set(p,y.withResumeToken(m.resumeToken,c))}}),h.targetMismatches.forEach((m,p)=>{const y=l._a.get(m);if(!y)return;l._a.set(m,y.withResumeToken(sn.EMPTY_BYTE_STRING,y.snapshotVersion)),BS(l,m);const _=new bs(y.target,m,p,y.sequenceNumber);iv(l,_)}),l.remoteSyncer.applyRemoteEvent(h)}(n,t)}catch(i){pe(Fa,"Failed to raise snapshot:",i),await td(n,i)}}async function td(n,e,t){if(!wl(e))throw e;n.aa.add(1),await Mc(n),n.la.set("Offline"),t||(t=()=>US(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{pe(Fa,"Retrying IndexedDB access"),await t(),n.aa.delete(1),await Od(n)})}function HS(n,e){return e().catch(t=>td(n,t,e))}async function Nd(n){const e=Ne(n),t=Ps(e);let i=e.oa.length>0?e.oa[e.oa.length-1].batchId:Hy;for(;zM(e);)try{const a=await TM(e.localStore,i);if(a===null){e.oa.length===0&&t.v_();break}i=a.batchId,BM(e,a)}catch(a){await td(e,a)}qS(e)&&YS(e)}function zM(n){return Ka(n)&&n.oa.length<10}function BM(n,e){n.oa.push(e);const t=Ps(n);t.b_()&&t.W_&&t.G_(e.mutations)}function qS(n){return Ka(n)&&!Ps(n).w_()&&n.oa.length>0}function YS(n){Ps(n).start()}async function $M(n){Ps(n).H_()}async function HM(n){const e=Ps(n);for(const t of n.oa)e.G_(t.mutations)}async function qM(n,e,t){const i=n.oa.shift(),a=Wy.from(i,e,t);await HS(n,()=>n.remoteSyncer.applySuccessfulWrite(a)),await Nd(n)}async function YM(n,e){e&&Ps(n).W_&&await async function(i,a){if(function(c){return xN(c)&&c!==ae.ABORTED}(a.code)){const l=i.oa.shift();Ps(i).D_(),await HS(i,()=>i.remoteSyncer.rejectFailedWrite(l.batchId,a)),await Nd(i)}}(n,e),qS(n)&&YS(n)}async function CT(n,e){const t=Ne(n);t.asyncQueue.verifyOperationInProgress(),pe(Fa,"RemoteStore received new credentials");const i=Ka(t);t.aa.add(3),await Mc(t),i&&t.la.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.aa.delete(3),await Od(t)}async function GM(n,e){const t=Ne(n);e?(t.aa.delete(2),await Od(t)):e||(t.aa.add(2),await Mc(t),t.la.set("Unknown"))}function Al(n){return n.Pa||(n.Pa=function(t,i,a){const l=Ne(t);return l.Y_(),new OM(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)}(n.datastore,n.asyncQueue,{jo:VM.bind(null,n),Jo:UM.bind(null,n),Zo:jM.bind(null,n),Q_:FM.bind(null,n)}),n.ua.push(async e=>{e?(n.Pa.D_(),av(n)?sv(n):n.la.set("Unknown")):(await n.Pa.stop(),$S(n))})),n.Pa}function Ps(n){return n.Ta||(n.Ta=function(t,i,a){const l=Ne(t);return l.Y_(),new NM(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)}(n.datastore,n.asyncQueue,{jo:()=>Promise.resolve(),Jo:$M.bind(null,n),Zo:YM.bind(null,n),z_:HM.bind(null,n),j_:qM.bind(null,n)}),n.ua.push(async e=>{e?(n.Ta.D_(),await Nd(n)):(await n.Ta.stop(),n.oa.length>0&&(pe(Fa,`Stopping write stream with ${n.oa.length} pending writes`),n.oa=[]))})),n.Ta}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ov{constructor(e,t,i,a,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=a,this.removalCallback=l,this.deferred=new xs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,a,l){const c=Date.now()+i,h=new ov(e,t,c,a,l);return h.start(i),h}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ge(ae.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function lv(n,e){if(Pi("AsyncQueue",`${e}: ${n}`),wl(n))return new ge(ae.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rl{static emptySet(e){return new rl(e.comparator)}constructor(e){this.comparator=e?(t,i)=>e(t,i)||be.comparator(t.key,i.key):(t,i)=>be.comparator(t.key,i.key),this.keyedMap=Gu(),this.sortedSet=new pt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof rl)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=i.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const i=new rl;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DT{constructor(){this.Ia=new pt(be.comparator)}track(e){const t=e.doc.key,i=this.Ia.get(t);i?e.type!==0&&i.type===3?this.Ia=this.Ia.insert(t,e):e.type===3&&i.type!==1?this.Ia=this.Ia.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.Ia=this.Ia.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.Ia=this.Ia.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.Ia=this.Ia.remove(t):e.type===1&&i.type===2?this.Ia=this.Ia.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.Ia=this.Ia.insert(t,{type:2,doc:e.doc}):Ae(63341,{Vt:e,Ea:i}):this.Ia=this.Ia.insert(t,e)}da(){const e=[];return this.Ia.inorderTraversal((t,i)=>{e.push(i)}),e}}class dl{constructor(e,t,i,a,l,c,h,m,p){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=a,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=h,this.excludesMetadataChanges=m,this.hasCachedResults=p}static fromInitialDocuments(e,t,i,a,l){const c=[];return t.forEach(h=>{c.push({type:0,doc:h})}),new dl(e,t,rl.emptySet(t),c,i,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Sd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==i[a].type||!t[a].doc.isEqual(i[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KM{constructor(){this.Aa=void 0,this.Ra=[]}Va(){return this.Ra.some(e=>e.ma())}}class QM{constructor(){this.queries=OT(),this.onlineState="Unknown",this.fa=new Set}terminate(){(function(t,i){const a=Ne(t),l=a.queries;a.queries=OT(),l.forEach((c,h)=>{for(const m of h.Ra)m.onError(i)})})(this,new ge(ae.ABORTED,"Firestore shutting down"))}}function OT(){return new Ga(n=>dS(n),Sd)}async function WM(n,e){const t=Ne(n);let i=3;const a=e.query;let l=t.queries.get(a);l?!l.Va()&&e.ma()&&(i=2):(l=new KM,i=e.ma()?0:1);try{switch(i){case 0:l.Aa=await t.onListen(a,!0);break;case 1:l.Aa=await t.onListen(a,!1);break;case 2:await t.onFirstRemoteStoreListen(a)}}catch(c){const h=lv(c,`Initialization of query '${Ko(e.query)}' failed`);return void e.onError(h)}t.queries.set(a,l),l.Ra.push(e),e.ga(t.onlineState),l.Aa&&e.pa(l.Aa)&&uv(t)}async function XM(n,e){const t=Ne(n),i=e.query;let a=3;const l=t.queries.get(i);if(l){const c=l.Ra.indexOf(e);c>=0&&(l.Ra.splice(c,1),l.Ra.length===0?a=e.ma()?0:1:!l.Va()&&e.ma()&&(a=2))}switch(a){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}}function ZM(n,e){const t=Ne(n);let i=!1;for(const a of e){const l=a.query,c=t.queries.get(l);if(c){for(const h of c.Ra)h.pa(a)&&(i=!0);c.Aa=a}}i&&uv(t)}function JM(n,e,t){const i=Ne(n),a=i.queries.get(e);if(a)for(const l of a.Ra)l.onError(t);i.queries.delete(e)}function uv(n){n.fa.forEach(e=>{e.next()})}var sy,NT;(NT=sy||(sy={})).ya="default",NT.Cache="cache";class ek{constructor(e,t,i){this.query=e,this.wa=t,this.ba=!1,this.Sa=null,this.onlineState="Unknown",this.options=i||{}}pa(e){if(!this.options.includeMetadataChanges){const i=[];for(const a of e.docChanges)a.type!==3&&i.push(a);e=new dl(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ba?this.Da(e)&&(this.wa.next(e),t=!0):this.va(e,this.onlineState)&&(this.Ca(e),t=!0),this.Sa=e,t}onError(e){this.wa.error(e)}ga(e){this.onlineState=e;let t=!1;return this.Sa&&!this.ba&&this.va(this.Sa,e)&&(this.Ca(this.Sa),t=!0),t}va(e,t){if(!e.fromCache||!this.ma())return!0;const i=t!=="Offline";return(!this.options.Fa||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Da(e){if(e.docChanges.length>0)return!0;const t=this.Sa&&this.Sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Ca(e){e=dl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ba=!0,this.wa.next(e)}ma(){return this.options.source!==sy.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GS{constructor(e){this.key=e}}class KS{constructor(e){this.key=e}}class tk{constructor(e,t){this.query=e,this.qa=t,this.Qa=null,this.hasCachedResults=!1,this.current=!1,this.$a=ze(),this.mutatedKeys=ze(),this.Ua=mS(e),this.Ka=new rl(this.Ua)}get Wa(){return this.qa}Ga(e,t){const i=t?t.za:new DT,a=t?t.Ka:this.Ka;let l=t?t.mutatedKeys:this.mutatedKeys,c=a,h=!1;const m=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,p=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((y,_)=>{const b=a.get(y),w=Ad(this.query,_)?_:null,R=!!b&&this.mutatedKeys.has(b.key),C=!!w&&(w.hasLocalMutations||this.mutatedKeys.has(w.key)&&w.hasCommittedMutations);let D=!1;b&&w?b.data.isEqual(w.data)?R!==C&&(i.track({type:3,doc:w}),D=!0):this.ja(b,w)||(i.track({type:2,doc:w}),D=!0,(m&&this.Ua(w,m)>0||p&&this.Ua(w,p)<0)&&(h=!0)):!b&&w?(i.track({type:0,doc:w}),D=!0):b&&!w&&(i.track({type:1,doc:b}),D=!0,(m||p)&&(h=!0)),D&&(w?(c=c.add(w),l=C?l.add(y):l.delete(y)):(c=c.delete(y),l=l.delete(y)))}),this.query.limit!==null)for(;c.size>this.query.limit;){const y=this.query.limitType==="F"?c.last():c.first();c=c.delete(y.key),l=l.delete(y.key),i.track({type:1,doc:y})}return{Ka:c,za:i,ys:h,mutatedKeys:l}}ja(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,a){const l=this.Ka;this.Ka=e.Ka,this.mutatedKeys=e.mutatedKeys;const c=e.za.da();c.sort((y,_)=>function(w,R){const C=D=>{switch(D){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ae(20277,{Vt:D})}};return C(w)-C(R)}(y.type,_.type)||this.Ua(y.doc,_.doc)),this.Ha(i),a=a!=null&&a;const h=t&&!a?this.Ja():[],m=this.$a.size===0&&this.current&&!a?1:0,p=m!==this.Qa;return this.Qa=m,c.length!==0||p?{snapshot:new dl(this.query,e.Ka,l,c,e.mutatedKeys,m===0,p,!1,!!i&&i.resumeToken.approximateByteSize()>0),Ya:h}:{Ya:h}}ga(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ka:this.Ka,za:new DT,mutatedKeys:this.mutatedKeys,ys:!1},!1)):{Ya:[]}}Za(e){return!this.qa.has(e)&&!!this.Ka.has(e)&&!this.Ka.get(e).hasLocalMutations}Ha(e){e&&(e.addedDocuments.forEach(t=>this.qa=this.qa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.qa=this.qa.delete(t)),this.current=e.current)}Ja(){if(!this.current)return[];const e=this.$a;this.$a=ze(),this.Ka.forEach(i=>{this.Za(i.key)&&(this.$a=this.$a.add(i.key))});const t=[];return e.forEach(i=>{this.$a.has(i)||t.push(new KS(i))}),this.$a.forEach(i=>{e.has(i)||t.push(new GS(i))}),t}Xa(e){this.qa=e.Ns,this.$a=ze();const t=this.Ga(e.documents);return this.applyChanges(t,!0)}eu(){return dl.fromInitialDocuments(this.query,this.Ka,this.mutatedKeys,this.Qa===0,this.hasCachedResults)}}const cv="SyncEngine";class nk{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class rk{constructor(e){this.key=e,this.tu=!1}}class ik{constructor(e,t,i,a,l,c){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.nu={},this.ru=new Ga(h=>dS(h),Sd),this.iu=new Map,this.su=new Set,this.ou=new pt(be.comparator),this._u=new Map,this.au=new Jy,this.uu={},this.cu=new Map,this.lu=hl.ir(),this.onlineState="Unknown",this.hu=void 0}get isPrimaryClient(){return this.hu===!0}}async function sk(n,e,t=!0){const i=eA(n);let a;const l=i.ru.get(e);return l?(i.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.eu()):a=await QS(i,e,t,!0),a}async function ak(n,e){const t=eA(n);await QS(t,e,!0,!1)}async function QS(n,e,t,i){const a=await wM(n.localStore,Gr(e)),l=a.targetId,c=n.sharedClientState.addLocalQueryTarget(l,t);let h;return i&&(h=await ok(n,e,l,c==="current",a.resumeToken)),n.isPrimaryClient&&t&&zS(n.remoteStore,a),h}async function ok(n,e,t,i,a){n.Pu=(_,b,w)=>async function(C,D,B,F){let q=D.view.Ga(B);q.ys&&(q=await ST(C.localStore,D.query,!1).then(({documents:N})=>D.view.Ga(N,q)));const H=F&&F.targetChanges.get(D.targetId),K=F&&F.targetMismatches.get(D.targetId)!=null,ee=D.view.applyChanges(q,C.isPrimaryClient,H,K);return kT(C,D.targetId,ee.Ya),ee.snapshot}(n,_,b,w);const l=await ST(n.localStore,e,!0),c=new tk(e,l.Ns),h=c.Ga(l.documents),m=Nc.createSynthesizedTargetChangeForCurrentChange(t,i&&n.onlineState!=="Offline",a),p=c.applyChanges(h,n.isPrimaryClient,m);kT(n,t,p.Ya);const y=new nk(e,t,c);return n.ru.set(e,y),n.iu.has(t)?n.iu.get(t).push(e):n.iu.set(t,[e]),p.snapshot}async function lk(n,e,t){const i=Ne(n),a=i.ru.get(e),l=i.iu.get(a.targetId);if(l.length>1)return i.iu.set(a.targetId,l.filter(c=>!Sd(c,e))),void i.ru.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(a.targetId),i.sharedClientState.isActiveQueryTarget(a.targetId)||await ry(i.localStore,a.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(a.targetId),t&&rv(i.remoteStore,a.targetId),ay(i,a.targetId)}).catch(Tl)):(ay(i,a.targetId),await ry(i.localStore,a.targetId,!0))}async function uk(n,e){const t=Ne(n),i=t.ru.get(e),a=t.iu.get(i.targetId);t.isPrimaryClient&&a.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),rv(t.remoteStore,i.targetId))}async function ck(n,e,t){const i=yk(n);try{const a=await function(c,h){const m=Ne(c),p=Ft.now(),y=h.reduce((w,R)=>w.add(R.key),ze());let _,b;return m.persistence.runTransaction("Locally write mutations","readwrite",w=>{let R=Li(),C=ze();return m.Cs.getEntries(w,y).next(D=>{R=D,R.forEach((B,F)=>{F.isValidDocument()||(C=C.add(B))})}).next(()=>m.localDocuments.getOverlayedDocuments(w,R)).next(D=>{_=D;const B=[];for(const F of h){const q=wN(F,_.get(F.key).overlayedDocument);q!=null&&B.push(new $s(F.key,q,iS(q.value.mapValue),Sn.exists(!0)))}return m.mutationQueue.addMutationBatch(w,p,B,h)}).next(D=>{b=D;const B=D.applyToLocalDocumentSet(_,C);return m.documentOverlayCache.saveOverlays(w,D.batchId,B)})}).then(()=>({batchId:b.batchId,changes:gS(_)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(a.batchId),function(c,h,m){let p=c.uu[c.currentUser.toKey()];p||(p=new pt(Le)),p=p.insert(h,m),c.uu[c.currentUser.toKey()]=p}(i,a.batchId,t),await kc(i,a.changes),await Nd(i.remoteStore)}catch(a){const l=lv(a,"Failed to persist write");t.reject(l)}}async function WS(n,e){const t=Ne(n);try{const i=await bM(t.localStore,e);e.targetChanges.forEach((a,l)=>{const c=t._u.get(l);c&&(Ze(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?c.tu=!0:a.modifiedDocuments.size>0?Ze(c.tu,14607):a.removedDocuments.size>0&&(Ze(c.tu,42227),c.tu=!1))}),await kc(t,i,e)}catch(i){await Tl(i)}}function MT(n,e,t){const i=Ne(n);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){const a=[];i.ru.forEach((l,c)=>{const h=c.view.ga(e);h.snapshot&&a.push(h.snapshot)}),function(c,h){const m=Ne(c);m.onlineState=h;let p=!1;m.queries.forEach((y,_)=>{for(const b of _.Ra)b.ga(h)&&(p=!0)}),p&&uv(m)}(i.eventManager,e),a.length&&i.nu.Q_(a),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function fk(n,e,t){const i=Ne(n);i.sharedClientState.updateQueryState(e,"rejected",t);const a=i._u.get(e),l=a&&a.key;if(l){let c=new pt(be.comparator);c=c.insert(l,mn.newNoDocument(l,Ce.min()));const h=ze().add(l),m=new Cd(Ce.min(),new Map,new pt(Le),c,h);await WS(i,m),i.ou=i.ou.remove(l),i._u.delete(e),fv(i)}else await ry(i.localStore,e,!1).then(()=>ay(i,e,t)).catch(Tl)}async function hk(n,e){const t=Ne(n),i=e.batch.batchId;try{const a=await _M(t.localStore,e);ZS(t,i,null),XS(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),await kc(t,a)}catch(a){await Tl(a)}}async function dk(n,e,t){const i=Ne(n);try{const a=await function(c,h){const m=Ne(c);return m.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let y;return m.mutationQueue.lookupMutationBatch(p,h).next(_=>(Ze(_!==null,37113),y=_.keys(),m.mutationQueue.removeMutationBatch(p,_))).next(()=>m.mutationQueue.performConsistencyCheck(p)).next(()=>m.documentOverlayCache.removeOverlaysForBatchId(p,y,h)).next(()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,y)).next(()=>m.localDocuments.getDocuments(p,y))})}(i.localStore,e);ZS(i,e,t),XS(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),await kc(i,a)}catch(a){await Tl(a)}}function XS(n,e){(n.cu.get(e)||[]).forEach(t=>{t.resolve()}),n.cu.delete(e)}function ZS(n,e,t){const i=Ne(n);let a=i.uu[i.currentUser.toKey()];if(a){const l=a.get(e);l&&(t?l.reject(t):l.resolve(),a=a.remove(e)),i.uu[i.currentUser.toKey()]=a}}function ay(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.iu.get(e))n.ru.delete(i),t&&n.nu.Tu(i,t);n.iu.delete(e),n.isPrimaryClient&&n.au.Ur(e).forEach(i=>{n.au.containsKey(i)||JS(n,i)})}function JS(n,e){n.su.delete(e.path.canonicalString());const t=n.ou.get(e);t!==null&&(rv(n.remoteStore,t),n.ou=n.ou.remove(e),n._u.delete(t),fv(n))}function kT(n,e,t){for(const i of t)i instanceof GS?(n.au.addReference(i.key,e),mk(n,i)):i instanceof KS?(pe(cv,"Document no longer in limbo: "+i.key),n.au.removeReference(i.key,e),n.au.containsKey(i.key)||JS(n,i.key)):Ae(19791,{Iu:i})}function mk(n,e){const t=e.key,i=t.path.canonicalString();n.ou.get(t)||n.su.has(i)||(pe(cv,"New document in limbo: "+t),n.su.add(i),fv(n))}function fv(n){for(;n.su.size>0&&n.ou.size<n.maxConcurrentLimboResolutions;){const e=n.su.values().next().value;n.su.delete(e);const t=new be(ft.fromString(e)),i=n.lu.next();n._u.set(i,new rk(t)),n.ou=n.ou.insert(t,i),zS(n.remoteStore,new bs(Gr(fS(t.path)),i,"TargetPurposeLimboResolution",Ed.le))}}async function kc(n,e,t){const i=Ne(n),a=[],l=[],c=[];i.ru.isEmpty()||(i.ru.forEach((h,m)=>{c.push(i.Pu(m,e,t).then(p=>{var y;if((p||t)&&i.isPrimaryClient){const _=p?!p.fromCache:(y=t==null?void 0:t.targetChanges.get(m.targetId))===null||y===void 0?void 0:y.current;i.sharedClientState.updateQueryState(m.targetId,_?"current":"not-current")}if(p){a.push(p);const _=tv.Ps(m.targetId,p);l.push(_)}}))}),await Promise.all(c),i.nu.Q_(a),await async function(m,p){const y=Ne(m);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",_=>oe.forEach(p,b=>oe.forEach(b.ls,w=>y.persistence.referenceDelegate.addReference(_,b.targetId,w)).next(()=>oe.forEach(b.hs,w=>y.persistence.referenceDelegate.removeReference(_,b.targetId,w)))))}catch(_){if(!wl(_))throw _;pe(nv,"Failed to update sequence numbers: "+_)}for(const _ of p){const b=_.targetId;if(!_.fromCache){const w=y.Ss.get(b),R=w.snapshotVersion,C=w.withLastLimboFreeSnapshotVersion(R);y.Ss=y.Ss.insert(b,C)}}}(i.localStore,l))}async function pk(n,e){const t=Ne(n);if(!t.currentUser.isEqual(e)){pe(cv,"User change. New user:",e.toKey());const i=await VS(t.localStore,e);t.currentUser=e,function(l,c){l.cu.forEach(h=>{h.forEach(m=>{m.reject(new ge(ae.CANCELLED,c))})}),l.cu.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await kc(t,i.Ms)}}function gk(n,e){const t=Ne(n),i=t._u.get(e);if(i&&i.tu)return ze().add(i.key);{let a=ze();const l=t.iu.get(e);if(!l)return a;for(const c of l){const h=t.ru.get(c);a=a.unionWith(h.view.Wa)}return a}}function eA(n){const e=Ne(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=WS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=gk.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=fk.bind(null,e),e.nu.Q_=ZM.bind(null,e.eventManager),e.nu.Tu=JM.bind(null,e.eventManager),e}function yk(n){const e=Ne(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=hk.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=dk.bind(null,e),e}class nd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Dd(e.databaseInfo.databaseId),this.sharedClientState=this.Au(e),this.persistence=this.Ru(e),await this.persistence.start(),this.localStore=this.Vu(e),this.gcScheduler=this.mu(e,this.localStore),this.indexBackfillerScheduler=this.fu(e,this.localStore)}mu(e,t){return null}fu(e,t){return null}Vu(e){return vM(this.persistence,new pM,e.initialUser,this.serializer)}Ru(e){return new LS(ev.Ei,this.serializer)}Au(e){return new AM}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}nd.provider={build:()=>new nd};class vk extends nd{constructor(e){super(),this.cacheSizeBytes=e}mu(e,t){Ze(this.persistence.referenceDelegate instanceof ed,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new eM(i,e.asyncQueue,t)}Ru(e){const t=this.cacheSizeBytes!==void 0?Cn.withCacheSize(this.cacheSizeBytes):Cn.DEFAULT;return new LS(i=>ed.Ei(i,t),this.serializer)}}class oy{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>MT(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=pk.bind(null,this.syncEngine),await GM(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new QM}()}createDatastore(e){const t=Dd(e.databaseInfo.databaseId),i=function(l){return new DM(l)}(e.databaseInfo);return function(l,c,h,m){return new kM(l,c,h,m)}(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return function(i,a,l,c,h){return new LM(i,a,l,c,h)}(this.localStore,this.datastore,e.asyncQueue,t=>MT(this.syncEngine,t,0),function(){return IT.C()?new IT:new RM}())}createSyncEngine(e,t){return function(a,l,c,h,m,p,y){const _=new ik(a,l,c,h,m,p);return y&&(_.hu=!0),_}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(a){const l=Ne(a);pe(Fa,"RemoteStore shutting down."),l.aa.add(5),await Mc(l),l.ca.shutdown(),l.la.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}oy.provider={build:()=>new oy};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _k{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.pu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.pu(this.observer.error,e):Pi("Uncaught Error in snapshot listener:",e.toString()))}yu(){this.muted=!0}pu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ls="FirestoreClient";class bk{constructor(e,t,i,a,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=a,this.user=fn.UNAUTHENTICATED,this.clientId=K1.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(i,async c=>{pe(Ls,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c}),this.appCheckCredentials.start(i,c=>(pe(Ls,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new xs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const i=lv(t,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function gg(n,e){n.asyncQueue.verifyOperationInProgress(),pe(Ls,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(async a=>{i.isEqual(a)||(await VS(e.localStore,a),i=a)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function PT(n,e){n.asyncQueue.verifyOperationInProgress();const t=await Ek(n);pe(Ls,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(i=>CT(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,a)=>CT(e.remoteStore,a)),n._onlineComponents=e}async function Ek(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){pe(Ls,"Using user provided OfflineComponentProvider");try{await gg(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(a){return a.name==="FirebaseError"?a.code===ae.FAILED_PRECONDITION||a.code===ae.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(t))throw t;ll("Error using user provided cache. Falling back to memory cache: "+t),await gg(n,new nd)}}else pe(Ls,"Using default OfflineComponentProvider"),await gg(n,new vk(void 0));return n._offlineComponents}async function tA(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(pe(Ls,"Using user provided OnlineComponentProvider"),await PT(n,n._uninitializedComponentsProvider._online)):(pe(Ls,"Using default OnlineComponentProvider"),await PT(n,new oy))),n._onlineComponents}function Tk(n){return tA(n).then(e=>e.syncEngine)}async function wk(n){const e=await tA(n),t=e.eventManager;return t.onListen=sk.bind(null,e.syncEngine),t.onUnlisten=lk.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=ak.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=uk.bind(null,e.syncEngine),t}function Sk(n,e,t={}){const i=new xs;return n.asyncQueue.enqueueAndForget(async()=>function(l,c,h,m,p){const y=new _k({next:b=>{y.yu(),c.enqueueAndForget(()=>XM(l,_)),b.fromCache&&m.source==="server"?p.reject(new ge(ae.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(b)},error:b=>p.reject(b)}),_=new ek(h,y,{includeMetadataChanges:!0,Fa:!0});return WM(l,_)}(await wk(n),n.asyncQueue,e,t,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nA(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LT=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rA(n,e,t){if(!t)throw new ge(ae.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function Ak(n,e,t,i){if(e===!0&&i===!0)throw new ge(ae.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function VT(n){if(!be.isDocumentKey(n))throw new ge(ae.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function UT(n){if(be.isDocumentKey(n))throw new ge(ae.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Md(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Ae(12329,{type:typeof n})}function Zr(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new ge(ae.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Md(n);throw new ge(ae.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iA="firestore.googleapis.com",jT=!0;class FT{constructor(e){var t,i;if(e.host===void 0){if(e.ssl!==void 0)throw new ge(ae.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=iA,this.ssl=jT}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:jT;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=PS;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<ZN)throw new ge(ae.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Ak("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=nA((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(l){if(l.timeoutSeconds!==void 0){if(isNaN(l.timeoutSeconds))throw new ge(ae.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new ge(ae.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new ge(ae.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,a){return i.timeoutSeconds===a.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class kd{constructor(e,t,i,a){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new FT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ge(ae.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ge(ae.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new FT(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new xO;switch(i.type){case"firstParty":return new NO(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new ge(ae.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,yd("Firestore",this._settings.isUsingEmulator),this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const i=LT.get(t);i&&(pe("ComponentProvider","Removing Datastore"),LT.delete(t),i.terminate())}(this),Promise.resolve()}}function Rk(n,e,t,i={}){var a;n=Zr(n,kd);const l=Sc(e),c=n._getSettings(),h=Object.assign(Object.assign({},c),{emulatorOptions:n._getEmulatorOptions()}),m=`${e}:${t}`;c.host!==iA&&c.host!==m&&ll("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p=Object.assign(Object.assign({},c),{host:m,ssl:l,emulatorOptions:i});if(!Pa(p,h)&&(n._setSettings(p),l&&(Zw(`https://${m}`),yd("Firestore",!0)),i.mockUserToken)){let y,_;if(typeof i.mockUserToken=="string")y=i.mockUserToken,_=fn.MOCK_USER;else{y=Ux(i.mockUserToken,(a=n._app)===null||a===void 0?void 0:a.options.projectId);const b=i.mockUserToken.sub||i.mockUserToken.user_id;if(!b)throw new ge(ae.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");_=new fn(b)}n._authCredentials=new CO(new Y1(y,_))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qa{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Qa(this.firestore,e,this._query)}}class On{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Cs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new On(this.firestore,e,this._key)}}class Cs extends Qa{constructor(e,t,i){super(e,t,fS(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new On(this.firestore,null,new be(e))}withConverter(e){return new Cs(this.firestore,e,this._path)}}function Rl(n,e,...t){if(n=Mt(n),rA("collection","path",e),n instanceof kd){const i=ft.fromString(e,...t);return UT(i),new Cs(n,null,i)}{if(!(n instanceof On||n instanceof Cs))throw new ge(ae.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(ft.fromString(e,...t));return UT(i),new Cs(n.firestore,null,i)}}function Pc(n,e,...t){if(n=Mt(n),arguments.length===1&&(e=K1.newId()),rA("doc","path",e),n instanceof kd){const i=ft.fromString(e,...t);return VT(i),new On(n,null,new be(i))}{if(!(n instanceof On||n instanceof Cs))throw new ge(ae.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(ft.fromString(e,...t));return VT(i),new On(n.firestore,n instanceof Cs?n.converter:null,new be(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zT="AsyncQueue";class BT{constructor(e=Promise.resolve()){this.Qu=[],this.$u=!1,this.Uu=[],this.Ku=null,this.Wu=!1,this.Gu=!1,this.zu=[],this.y_=new jS(this,"async_queue_retry"),this.ju=()=>{const i=pg();i&&pe(zT,"Visibility state changed to "+i.visibilityState),this.y_.A_()},this.Hu=e;const t=pg();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.ju)}get isShuttingDown(){return this.$u}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Ju(),this.Yu(e)}enterRestrictedMode(e){if(!this.$u){this.$u=!0,this.Gu=e||!1;const t=pg();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.ju)}}enqueue(e){if(this.Ju(),this.$u)return new Promise(()=>{});const t=new xs;return this.Yu(()=>this.$u&&this.Gu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qu.push(e),this.Zu()))}async Zu(){if(this.Qu.length!==0){try{await this.Qu[0](),this.Qu.shift(),this.y_.reset()}catch(e){if(!wl(e))throw e;pe(zT,"Operation failed with retryable error: "+e)}this.Qu.length>0&&this.y_.E_(()=>this.Zu())}}Yu(e){const t=this.Hu.then(()=>(this.Wu=!0,e().catch(i=>{throw this.Ku=i,this.Wu=!1,Pi("INTERNAL UNHANDLED ERROR: ",$T(i)),i}).then(i=>(this.Wu=!1,i))));return this.Hu=t,t}enqueueAfterDelay(e,t,i){this.Ju(),this.zu.indexOf(e)>-1&&(t=0);const a=ov.createAndSchedule(this,e,t,i,l=>this.Xu(l));return this.Uu.push(a),a}Ju(){this.Ku&&Ae(47125,{ec:$T(this.Ku)})}verifyOperationInProgress(){}async tc(){let e;do e=this.Hu,await e;while(e!==this.Hu)}nc(e){for(const t of this.Uu)if(t.timerId===e)return!0;return!1}rc(e){return this.tc().then(()=>{this.Uu.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.Uu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.tc()})}sc(e){this.zu.push(e)}Xu(e){const t=this.Uu.indexOf(e);this.Uu.splice(t,1)}}function $T(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}class Wa extends kd{constructor(e,t,i,a){super(e,t,i,a),this.type="firestore",this._queue=new BT,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new BT(e),this._firestoreClient=void 0,await e}}}function Ik(n,e){const t=typeof n=="object"?n:n1(),i=typeof n=="string"?n:Qh,a=Ny(t,"firestore").getImmediate({identifier:i});if(!a._initialized){const l=Lx("firestore");l&&Rk(a,...l)}return a}function hv(n){if(n._terminated)throw new ge(ae.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||xk(n),n._firestoreClient}function xk(n){var e,t,i;const a=n._freezeSettings(),l=function(h,m,p,y){return new GO(h,m,p,y.host,y.ssl,y.experimentalForceLongPolling,y.experimentalAutoDetectLongPolling,nA(y.experimentalLongPollingOptions),y.useFetchStreams,y.isUsingEmulator)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,a);n._componentsProvider||!((t=a.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((i=a.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(n._componentsProvider={_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider}),n._firestoreClient=new bk(n._authCredentials,n._appCheckCredentials,n._queue,l,n._componentsProvider&&function(h){const m=h==null?void 0:h._online.build();return{_offline:h==null?void 0:h._offline.build(m),_online:m}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ml{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ml(sn.fromBase64String(e))}catch(t){throw new ge(ae.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new ml(sn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lc{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new ge(ae.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new rn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pd{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dv{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ge(ae.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ge(ae.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Le(this._lat,e._lat)||Le(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mv{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,a){if(i.length!==a.length)return!1;for(let l=0;l<i.length;++l)if(i[l]!==a[l])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ck=/^__.*__$/;class Dk{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new $s(e,this.data,this.fieldMask,t,this.fieldTransforms):new Oc(e,this.data,t,this.fieldTransforms)}}class sA{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new $s(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function aA(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ae(40011,{oc:n})}}class pv{constructor(e,t,i,a,l,c){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=a,l===void 0&&this._c(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get oc(){return this.settings.oc}ac(e){return new pv(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}uc(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),a=this.ac({path:i,cc:!1});return a.lc(e),a}hc(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),a=this.ac({path:i,cc:!1});return a._c(),a}Pc(e){return this.ac({path:void 0,cc:!0})}Tc(e){return rd(e,this.settings.methodName,this.settings.Ic||!1,this.path,this.settings.Ec)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}_c(){if(this.path)for(let e=0;e<this.path.length;e++)this.lc(this.path.get(e))}lc(e){if(e.length===0)throw this.Tc("Document fields must not be empty");if(aA(this.oc)&&Ck.test(e))throw this.Tc('Document fields cannot begin and end with "__"')}}class Ok{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||Dd(e)}dc(e,t,i,a=!1){return new pv({oc:e,methodName:t,Ec:i,path:rn.emptyPath(),cc:!1,Ic:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Vc(n){const e=n._freezeSettings(),t=Dd(n._databaseId);return new Ok(n._databaseId,!!e.ignoreUndefinedProperties,t)}function gv(n,e,t,i,a,l={}){const c=n.dc(l.merge||l.mergeFields?2:0,e,t,a);vv("Data must be an object, but it was:",c,i);const h=uA(i,c);let m,p;if(l.merge)m=new zn(c.fieldMask),p=c.fieldTransforms;else if(l.mergeFields){const y=[];for(const _ of l.mergeFields){const b=ly(e,_,t);if(!c.contains(b))throw new ge(ae.INVALID_ARGUMENT,`Field '${b}' is specified in your field mask but missing from your input data.`);fA(y,b)||y.push(b)}m=new zn(y),p=c.fieldTransforms.filter(_=>m.covers(_.field))}else m=null,p=c.fieldTransforms;return new Dk(new Dn(h),m,p)}class Ld extends Pd{_toFieldTransform(e){if(e.oc!==2)throw e.oc===1?e.Tc(`${this._methodName}() can only appear at the top level of your update data`):e.Tc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Ld}}class yv extends Pd{_toFieldTransform(e){return new _N(e.path,new yc)}isEqual(e){return e instanceof yv}}function oA(n,e,t,i){const a=n.dc(1,e,t);vv("Data must be an object, but it was:",a,i);const l=[],c=Dn.empty();Bs(i,(m,p)=>{const y=_v(e,m,t);p=Mt(p);const _=a.hc(y);if(p instanceof Ld)l.push(y);else{const b=Uc(p,_);b!=null&&(l.push(y),c.set(y,b))}});const h=new zn(l);return new sA(c,h,a.fieldTransforms)}function lA(n,e,t,i,a,l){const c=n.dc(1,e,t),h=[ly(e,i,t)],m=[a];if(l.length%2!=0)throw new ge(ae.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let b=0;b<l.length;b+=2)h.push(ly(e,l[b])),m.push(l[b+1]);const p=[],y=Dn.empty();for(let b=h.length-1;b>=0;--b)if(!fA(p,h[b])){const w=h[b];let R=m[b];R=Mt(R);const C=c.hc(w);if(R instanceof Ld)p.push(w);else{const D=Uc(R,C);D!=null&&(p.push(w),y.set(w,D))}}const _=new zn(p);return new sA(y,_,c.fieldTransforms)}function Nk(n,e,t,i=!1){return Uc(t,n.dc(i?4:3,e))}function Uc(n,e){if(cA(n=Mt(n)))return vv("Unsupported field value:",e,n),uA(n,e);if(n instanceof Pd)return function(i,a){if(!aA(a.oc))throw a.Tc(`${i._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Tc(`${i._methodName}() is not currently supported inside arrays`);const l=i._toFieldTransform(a);l&&a.fieldTransforms.push(l)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.cc&&e.oc!==4)throw e.Tc("Nested arrays are not supported");return function(i,a){const l=[];let c=0;for(const h of i){let m=Uc(h,a.Pc(c));m==null&&(m={nullValue:"NULL_VALUE"}),l.push(m),c++}return{arrayValue:{values:l}}}(n,e)}return function(i,a){if((i=Mt(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return gN(a.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const l=Ft.fromDate(i);return{timestampValue:Jh(a.serializer,l)}}if(i instanceof Ft){const l=new Ft(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Jh(a.serializer,l)}}if(i instanceof dv)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof ml)return{bytesValue:xS(a.serializer,i._byteString)};if(i instanceof On){const l=a.databaseId,c=i.firestore._databaseId;if(!c.isEqual(l))throw a.Tc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:Zy(i.firestore._databaseId||a.databaseId,i._key.path)}}if(i instanceof mv)return function(c,h){return{mapValue:{fields:{[nS]:{stringValue:rS},[Wh]:{arrayValue:{values:c.toArray().map(p=>{if(typeof p!="number")throw h.Tc("VectorValues must only contain numeric values.");return Qy(h.serializer,p)})}}}}}}(i,a);throw a.Tc(`Unsupported field value: ${Md(i)}`)}(n,e)}function uA(n,e){const t={};return W1(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Bs(n,(i,a)=>{const l=Uc(a,e.uc(i));l!=null&&(t[i]=l)}),{mapValue:{fields:t}}}function cA(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Ft||n instanceof dv||n instanceof ml||n instanceof On||n instanceof Pd||n instanceof mv)}function vv(n,e,t){if(!cA(t)||!function(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}(t)){const i=Md(t);throw i==="an object"?e.Tc(n+" a custom object"):e.Tc(n+" "+i)}}function ly(n,e,t){if((e=Mt(e))instanceof Lc)return e._internalPath;if(typeof e=="string")return _v(n,e);throw rd("Field path arguments must be of type string or ",n,!1,void 0,t)}const Mk=new RegExp("[~\\*/\\[\\]]");function _v(n,e,t){if(e.search(Mk)>=0)throw rd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Lc(...e.split("."))._internalPath}catch{throw rd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function rd(n,e,t,i,a){const l=i&&!i.isEmpty(),c=a!==void 0;let h=`Function ${e}() called with invalid data`;t&&(h+=" (via `toFirestore()`)"),h+=". ";let m="";return(l||c)&&(m+=" (found",l&&(m+=` in field ${i}`),c&&(m+=` in document ${a}`),m+=")"),new ge(ae.INVALID_ARGUMENT,h+n+m)}function fA(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hA{constructor(e,t,i,a,l){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new On(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new kk(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Vd("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class kk extends hA{data(){return super.data()}}function Vd(n,e){return typeof e=="string"?_v(n,e):e instanceof Lc?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pk(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new ge(ae.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class bv{}class dA extends bv{}function bc(n,e,...t){let i=[];e instanceof bv&&i.push(e),i=i.concat(t),function(l){const c=l.filter(m=>m instanceof Ev).length,h=l.filter(m=>m instanceof Ud).length;if(c>1||c>0&&h>0)throw new ge(ae.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const a of i)n=a._apply(n);return n}class Ud extends dA{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new Ud(e,t,i)}_apply(e){const t=this._parse(e);return mA(e._query,t),new Qa(e.firestore,e.converter,Xg(e._query,t))}_parse(e){const t=Vc(e.firestore);return function(l,c,h,m,p,y,_){let b;if(p.isKeyField()){if(y==="array-contains"||y==="array-contains-any")throw new ge(ae.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if(y==="in"||y==="not-in"){qT(_,y);const R=[];for(const C of _)R.push(HT(m,l,C));b={arrayValue:{values:R}}}else b=HT(m,l,_)}else y!=="in"&&y!=="not-in"&&y!=="array-contains-any"||qT(_,y),b=Nk(h,c,_,y==="in"||y==="not-in");return Nt.create(p,y,b)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function sc(n,e,t){const i=e,a=Vd("where",n);return Ud._create(a,i,t)}class Ev extends bv{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Ev(e,t)}_parse(e){const t=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return t.length===1?t[0]:Er.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(a,l){let c=a;const h=l.getFlattenedFilters();for(const m of h)mA(c,m),c=Xg(c,m)}(e._query,t),new Qa(e.firestore,e.converter,Xg(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Tv extends dA{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Tv(e,t)}_apply(e){const t=function(a,l,c){if(a.startAt!==null)throw new ge(ae.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new ge(ae.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new gc(l,c)}(e._query,this._field,this._direction);return new Qa(e.firestore,e.converter,function(a,l){const c=a.explicitOrderBy.concat([l]);return new Sl(a.path,a.collectionGroup,c,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)}(e._query,t))}}function uy(n,e="asc"){const t=e,i=Vd("orderBy",n);return Tv._create(i,t)}function HT(n,e,t){if(typeof(t=Mt(t))=="string"){if(t==="")throw new ge(ae.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!hS(e)&&t.indexOf("/")!==-1)throw new ge(ae.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(ft.fromString(t));if(!be.isDocumentKey(i))throw new ge(ae.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return sT(n,new be(i))}if(t instanceof On)return sT(n,t._key);throw new ge(ae.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Md(t)}.`)}function qT(n,e){if(!Array.isArray(n)||n.length===0)throw new ge(ae.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function mA(n,e){const t=function(a,l){for(const c of a)for(const h of c.getFlattenedFilters())if(l.indexOf(h.op)>=0)return h.op;return null}(n.filters,function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new ge(ae.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ge(ae.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class Lk{convertValue(e,t="none"){switch(ks(e)){case 0:return null;case 1:return e.booleanValue;case 2:return St(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ms(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ae(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return Bs(e,(a,l)=>{i[a]=this.convertValue(l,t)}),i}convertVectorValue(e){var t,i,a;const l=(a=(i=(t=e.fields)===null||t===void 0?void 0:t[Wh].arrayValue)===null||i===void 0?void 0:i.values)===null||a===void 0?void 0:a.map(c=>St(c.doubleValue));return new mv(l)}convertGeoPoint(e){return new dv(St(e.latitude),St(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=wd(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(dc(e));default:return null}}convertTimestamp(e){const t=Ns(e);return new Ft(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=ft.fromString(e);Ze(kS(i),9688,{name:e});const a=new mc(i.get(1),i.get(3)),l=new be(i.popFirst(5));return a.isEqual(t)||Pi(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wv(n,e,t){let i;return i=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wh{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Vk extends hA{constructor(e,t,i,a,l,c){super(e,t,i,a,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Uh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(Vd("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class Uh extends Vk{data(e={}){return super.data(e)}}class Uk{constructor(e,t,i,a){this._firestore=e,this._userDataWriter=t,this._snapshot=a,this.metadata=new wh(a.hasPendingWrites,a.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new Uh(this._firestore,this._userDataWriter,i.key,i,new wh(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ge(ae.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(a,l){if(a._snapshot.oldDocs.isEmpty()){let c=0;return a._snapshot.docChanges.map(h=>{const m=new Uh(a._firestore,a._userDataWriter,h.doc.key,h.doc,new wh(a._snapshot.mutatedKeys.has(h.doc.key),a._snapshot.fromCache),a.query.converter);return h.doc,{type:"added",doc:m,oldIndex:-1,newIndex:c++}})}{let c=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(h=>l||h.type!==3).map(h=>{const m=new Uh(a._firestore,a._userDataWriter,h.doc.key,h.doc,new wh(a._snapshot.mutatedKeys.has(h.doc.key),a._snapshot.fromCache),a.query.converter);let p=-1,y=-1;return h.type!==0&&(p=c.indexOf(h.doc.key),c=c.delete(h.doc.key)),h.type!==1&&(c=c.add(h.doc),y=c.indexOf(h.doc.key)),{type:jk(h.type),doc:m,oldIndex:p,newIndex:y}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function jk(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ae(61501,{type:n})}}class Fk extends Lk{constructor(e){super(),this.firestore=e}convertBytes(e){return new ml(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new On(this.firestore,null,t)}}function jd(n){n=Zr(n,Qa);const e=Zr(n.firestore,Wa),t=hv(e),i=new Fk(e);return Pk(n._query),Sk(t,n._query).then(a=>new Uk(e,i,n,a))}function zk(n,e,t){n=Zr(n,On);const i=Zr(n.firestore,Wa),a=wv(n.converter,e,t);return jc(i,[gv(Vc(i),"setDoc",n._key,a,n.converter!==null,t).toMutation(n._key,Sn.none())])}function Bk(n,e,t,...i){n=Zr(n,On);const a=Zr(n.firestore,Wa),l=Vc(a);let c;return c=typeof(e=Mt(e))=="string"||e instanceof Lc?lA(l,"updateDoc",n._key,e,t,i):oA(l,"updateDoc",n._key,e),jc(a,[c.toMutation(n._key,Sn.exists(!0))])}function $k(n){return jc(Zr(n.firestore,Wa),[new xd(n._key,Sn.none())])}function Sv(n,e){const t=Zr(n.firestore,Wa),i=Pc(n),a=wv(n.converter,e);return jc(t,[gv(Vc(n.firestore),"addDoc",i._key,a,n.converter!==null,{}).toMutation(i._key,Sn.exists(!1))]).then(()=>i)}function jc(n,e){return function(i,a){const l=new xs;return i.asyncQueue.enqueueAndForget(async()=>ck(await Tk(i),a,l)),l.promise}(hv(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hk{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Vc(e)}set(e,t,i){this._verifyNotCommitted();const a=yg(e,this._firestore),l=wv(a.converter,t,i),c=gv(this._dataReader,"WriteBatch.set",a._key,l,a.converter!==null,i);return this._mutations.push(c.toMutation(a._key,Sn.none())),this}update(e,t,i,...a){this._verifyNotCommitted();const l=yg(e,this._firestore);let c;return c=typeof(t=Mt(t))=="string"||t instanceof Lc?lA(this._dataReader,"WriteBatch.update",l._key,t,i,a):oA(this._dataReader,"WriteBatch.update",l._key,t),this._mutations.push(c.toMutation(l._key,Sn.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=yg(e,this._firestore);return this._mutations=this._mutations.concat(new xd(t._key,Sn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ge(ae.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function yg(n,e){if((n=Mt(n)).firestore!==e)throw new ge(ae.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}function Fd(){return new yv("serverTimestamp")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qk(n){return hv(n=Zr(n,Wa)),new Hk(n,e=>jc(n,e))}(function(e,t=!0){(function(a){El=a})(_l),ol(new La("firestore",(i,{instanceIdentifier:a,options:l})=>{const c=i.getProvider("app").getImmediate(),h=new Wa(new DO(i.getProvider("auth-internal")),new MO(c,i.getProvider("app-check-internal")),function(p,y){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new ge(ae.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new mc(p.options.projectId,y)}(c,a),c);return l=Object.assign({useFetchStreams:t},l),h._setSettings(l),h},"PUBLIC").setMultipleInstances(!0)),Rs(GE,KE,e),Rs(GE,KE,"esm2017")})();const Yk={apiKey:"AIzaSyB4uWtpp0_mW3LtUNAGP9b7YDPDdwwCeqQ",authDomain:"todo-app-c4eae.firebaseapp.com",projectId:"todo-app-c4eae",storageBucket:"todo-app-c4eae.firebasestorage.app",messagingSenderId:"758579044126",appId:"1:758579044126:web:540745d14d6d772f3fb30f",measurementId:"G-LEQSNYR4P3"},pA=t1(Yk),Sh=SO(pA),_r=Ik(pA),gA=A.createContext(null);function Il(){return A.useContext(gA)}function Gk({children:n}){const[e,t]=A.useState(null),[i,a]=A.useState(!0);async function l(p,y){try{const _=await l2(Sh,p,y);try{await zk(Pc(_r,"users",_.user.uid),{uid:_.user.uid,email:p,created_at:Fd()})}catch(b){console.error("Error saving user to Firestore:",b)}return _.user}catch(_){throw console.error("Error in signup:",_),_}}function c(p,y){return u2(Sh,p,y).then(_=>_.user)}function h(){return d2(Sh)}A.useEffect(()=>h2(Sh,y=>{t(y?{email:y.email,uid:y.uid}:null),a(!1)}),[]);const m={currentUser:e,loading:i,login:c,signup:l,logout:h};return P.jsx(gA.Provider,{value:m,children:!i&&n})}function Kk(){const[n,e]=A.useState(""),[t,i]=A.useState(""),[a,l]=A.useState(!0),[c,h]=A.useState(""),[m,p]=A.useState(!1),{login:y,signup:_}=Il();async function b(w){var R;w.preventDefault(),h(""),p(!0);try{a?await y(n,t):await _(n,t)}catch(C){if(console.error("Authentication error:",C),C instanceof Error){const D=C.message||"An unknown error occurred";if(D.includes("auth/"))switch(((R=D.match(/auth\/[\w-]+/))==null?void 0:R[0])||""){case"auth/email-already-in-use":h("This email is already registered. Please log in or use a different email.");break;case"auth/invalid-email":h("Please enter a valid email address.");break;case"auth/weak-password":h("Password should be at least 6 characters long.");break;case"auth/user-not-found":case"auth/wrong-password":h("Invalid email or password. Please try again.");break;case"auth/too-many-requests":h("Too many unsuccessful attempts. Please try again later.");break;default:h(`Authentication failed: ${D}`)}else h(`Error: ${D}`)}else h("Failed to authenticate. Please try again.")}finally{p(!1)}}return P.jsx("div",{className:"flex justify-center items-center min-h-screen bg-gray-900 p-4",children:P.jsxs("div",{className:"w-full max-w-md bg-gray-800 rounded-lg shadow-md overflow-hidden p-6",children:[P.jsx("h2",{className:"text-2xl font-bold text-center mb-6 text-white",children:a?"Login":"Sign Up"}),c&&P.jsx("div",{className:"mb-4 p-3 bg-red-900/30 border border-red-700 text-red-400 rounded-md text-sm",children:c}),P.jsxs("form",{onSubmit:b,className:"space-y-4",children:[P.jsxs("div",{children:[P.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-300 mb-1",children:"Email"}),P.jsx("input",{type:"email",id:"email",value:n,onChange:w=>e(w.target.value),required:!0,className:"block w-full rounded-md border border-gray-600 bg-gray-700 py-2 px-3 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 sm:text-sm"})]}),P.jsxs("div",{children:[P.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-300 mb-1",children:"Password"}),P.jsx("input",{type:"password",id:"password",value:t,onChange:w=>i(w.target.value),required:!0,className:"block w-full rounded-md border border-gray-600 bg-gray-700 py-2 px-3 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 sm:text-sm"})]}),P.jsx("button",{type:"submit",disabled:m,className:"w-full bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 focus:ring-offset-gray-800 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:m?"Processing...":a?"Login":"Sign Up"})]}),P.jsx("div",{className:"mt-6 text-center",children:P.jsx("button",{onClick:()=>l(!a),className:"text-blue-400 hover:text-blue-300 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 rounded-md px-2 py-1",children:a?"Need an account? Sign Up":"Already have an account? Login"})})]})})}const yA=typeof document<"u"?Ee.useLayoutEffect:()=>{};function Qk(n){const e=A.useRef(null);return yA(()=>{e.current=n},[n]),A.useCallback((...t)=>{const i=e.current;return i==null?void 0:i(...t)},[])}const Hs=n=>{var e;return(e=n==null?void 0:n.ownerDocument)!==null&&e!==void 0?e:document},Na=n=>n&&"window"in n&&n.window===n?n:Hs(n).defaultView||window;function Wk(n){return n!==null&&typeof n=="object"&&"nodeType"in n&&typeof n.nodeType=="number"}function Xk(n){return Wk(n)&&n.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&"host"in n}let Zk=!1;function Av(){return Zk}function vA(n,e){if(!Av())return e&&n?n.contains(e):!1;if(!n||!e)return!1;let t=e;for(;t!==null;){if(t===n)return!0;t.tagName==="SLOT"&&t.assignedSlot?t=t.assignedSlot.parentNode:Xk(t)?t=t.host:t=t.parentNode}return!1}const cy=(n=document)=>{var e;if(!Av())return n.activeElement;let t=n.activeElement;for(;t&&"shadowRoot"in t&&(!((e=t.shadowRoot)===null||e===void 0)&&e.activeElement);)t=t.shadowRoot.activeElement;return t};function _A(n){return Av()&&n.target.shadowRoot&&n.composedPath?n.composedPath()[0]:n.target}function Jk(n){var e;return typeof window>"u"||window.navigator==null?!1:((e=window.navigator.userAgentData)===null||e===void 0?void 0:e.brands.some(t=>n.test(t.brand)))||n.test(window.navigator.userAgent)}function e4(n){var e;return typeof window<"u"&&window.navigator!=null?n.test(((e=window.navigator.userAgentData)===null||e===void 0?void 0:e.platform)||window.navigator.platform):!1}function bA(n){let e=null;return()=>(e==null&&(e=n()),e)}const t4=bA(function(){return e4(/^Mac/i)}),n4=bA(function(){return Jk(/Android/i)});function EA(){let n=A.useRef(new Map),e=A.useCallback((a,l,c,h)=>{let m=h!=null&&h.once?(...p)=>{n.current.delete(c),c(...p)}:c;n.current.set(c,{type:l,eventTarget:a,fn:m,options:h}),a.addEventListener(l,m,h)},[]),t=A.useCallback((a,l,c,h)=>{var m;let p=((m=n.current.get(c))===null||m===void 0?void 0:m.fn)||c;a.removeEventListener(l,p,h),n.current.delete(c)},[]),i=A.useCallback(()=>{n.current.forEach((a,l)=>{t(a.eventTarget,a.type,l,a.options)})},[t]);return A.useEffect(()=>i,[i]),{addGlobalListener:e,removeGlobalListener:t,removeAllGlobalListeners:i}}function r4(n){return n.mozInputSource===0&&n.isTrusted?!0:n4()&&n.pointerType?n.type==="click"&&n.buttons===1:n.detail===0&&!n.pointerType}var Vs=qw();function TA(n){let e=n;return e.nativeEvent=n,e.isDefaultPrevented=()=>e.defaultPrevented,e.isPropagationStopped=()=>e.cancelBubble,e.persist=()=>{},e}function i4(n,e){Object.defineProperty(n,"target",{value:e}),Object.defineProperty(n,"currentTarget",{value:e})}function wA(n){let e=A.useRef({isFocused:!1,observer:null});yA(()=>{const i=e.current;return()=>{i.observer&&(i.observer.disconnect(),i.observer=null)}},[]);let t=Qk(i=>{n==null||n(i)});return A.useCallback(i=>{if(i.target instanceof HTMLButtonElement||i.target instanceof HTMLInputElement||i.target instanceof HTMLTextAreaElement||i.target instanceof HTMLSelectElement){e.current.isFocused=!0;let a=i.target,l=c=>{if(e.current.isFocused=!1,a.disabled){let h=TA(c);t(h)}e.current.observer&&(e.current.observer.disconnect(),e.current.observer=null)};a.addEventListener("focusout",l,{once:!0}),e.current.observer=new MutationObserver(()=>{if(e.current.isFocused&&a.disabled){var c;(c=e.current.observer)===null||c===void 0||c.disconnect();let h=a===document.activeElement?null:document.activeElement;a.dispatchEvent(new FocusEvent("blur",{relatedTarget:h})),a.dispatchEvent(new FocusEvent("focusout",{bubbles:!0,relatedTarget:h}))}}),e.current.observer.observe(a,{attributes:!0,attributeFilter:["disabled"]})}},[t])}let s4=!1,Fc=null,fy=new Set,ac=new Map,za=!1,hy=!1;const a4={Tab:!0,Escape:!0};function Rv(n,e){for(let t of fy)t(n,e)}function o4(n){return!(n.metaKey||!t4()&&n.altKey||n.ctrlKey||n.key==="Control"||n.key==="Shift"||n.key==="Meta")}function id(n){za=!0,o4(n)&&(Fc="keyboard",Rv("keyboard",n))}function il(n){Fc="pointer",(n.type==="mousedown"||n.type==="pointerdown")&&(za=!0,Rv("pointer",n))}function SA(n){r4(n)&&(za=!0,Fc="virtual")}function AA(n){n.target===window||n.target===document||s4||!n.isTrusted||(!za&&!hy&&(Fc="virtual",Rv("virtual",n)),za=!1,hy=!1)}function RA(){za=!1,hy=!0}function dy(n){if(typeof window>"u"||ac.get(Na(n)))return;const e=Na(n),t=Hs(n);let i=e.HTMLElement.prototype.focus;e.HTMLElement.prototype.focus=function(){za=!0,i.apply(this,arguments)},t.addEventListener("keydown",id,!0),t.addEventListener("keyup",id,!0),t.addEventListener("click",SA,!0),e.addEventListener("focus",AA,!0),e.addEventListener("blur",RA,!1),typeof PointerEvent<"u"&&(t.addEventListener("pointerdown",il,!0),t.addEventListener("pointermove",il,!0),t.addEventListener("pointerup",il,!0)),e.addEventListener("beforeunload",()=>{IA(n)},{once:!0}),ac.set(e,{focus:i})}const IA=(n,e)=>{const t=Na(n),i=Hs(n);e&&i.removeEventListener("DOMContentLoaded",e),ac.has(t)&&(t.HTMLElement.prototype.focus=ac.get(t).focus,i.removeEventListener("keydown",id,!0),i.removeEventListener("keyup",id,!0),i.removeEventListener("click",SA,!0),t.removeEventListener("focus",AA,!0),t.removeEventListener("blur",RA,!1),typeof PointerEvent<"u"&&(i.removeEventListener("pointerdown",il,!0),i.removeEventListener("pointermove",il,!0),i.removeEventListener("pointerup",il,!0)),ac.delete(t))};function l4(n){const e=Hs(n);let t;return e.readyState!=="loading"?dy(n):(t=()=>{dy(n)},e.addEventListener("DOMContentLoaded",t)),()=>IA(n,t)}typeof document<"u"&&l4();function xA(){return Fc!=="pointer"}const u4=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function c4(n,e,t){let i=Hs(t==null?void 0:t.target);const a=typeof window<"u"?Na(t==null?void 0:t.target).HTMLInputElement:HTMLInputElement,l=typeof window<"u"?Na(t==null?void 0:t.target).HTMLTextAreaElement:HTMLTextAreaElement,c=typeof window<"u"?Na(t==null?void 0:t.target).HTMLElement:HTMLElement,h=typeof window<"u"?Na(t==null?void 0:t.target).KeyboardEvent:KeyboardEvent;return n=n||i.activeElement instanceof a&&!u4.has(i.activeElement.type)||i.activeElement instanceof l||i.activeElement instanceof c&&i.activeElement.isContentEditable,!(n&&e==="keyboard"&&t instanceof h&&!a4[t.key])}function f4(n,e,t){dy(),A.useEffect(()=>{let i=(a,l)=>{c4(!!(t!=null&&t.isTextInput),a,l)&&n(xA())};return fy.add(i),()=>{fy.delete(i)}},e)}function h4(n){let{isDisabled:e,onFocus:t,onBlur:i,onFocusChange:a}=n;const l=A.useCallback(m=>{if(m.target===m.currentTarget)return i&&i(m),a&&a(!1),!0},[i,a]),c=wA(l),h=A.useCallback(m=>{const p=Hs(m.target),y=p?cy(p):cy();m.target===m.currentTarget&&y===_A(m.nativeEvent)&&(t&&t(m),a&&a(!0),c(m))},[a,t,c]);return{focusProps:{onFocus:!e&&(t||a||i)?h:void 0,onBlur:!e&&(i||a)?l:void 0}}}function d4(n){let{isDisabled:e,onBlurWithin:t,onFocusWithin:i,onFocusWithinChange:a}=n,l=A.useRef({isFocusWithin:!1}),{addGlobalListener:c,removeAllGlobalListeners:h}=EA(),m=A.useCallback(_=>{_.currentTarget.contains(_.target)&&l.current.isFocusWithin&&!_.currentTarget.contains(_.relatedTarget)&&(l.current.isFocusWithin=!1,h(),t&&t(_),a&&a(!1))},[t,a,l,h]),p=wA(m),y=A.useCallback(_=>{if(!_.currentTarget.contains(_.target))return;const b=Hs(_.target),w=cy(b);if(!l.current.isFocusWithin&&w===_A(_.nativeEvent)){i&&i(_),a&&a(!0),l.current.isFocusWithin=!0,p(_);let R=_.currentTarget;c(b,"focus",C=>{if(l.current.isFocusWithin&&!vA(R,C.target)){let D=new b.defaultView.FocusEvent("blur",{relatedTarget:C.target});i4(D,R);let B=TA(D);m(B)}},{capture:!0})}},[i,a,p,c,m]);return e?{focusWithinProps:{onFocus:void 0,onBlur:void 0}}:{focusWithinProps:{onFocus:y,onBlur:m}}}let my=!1,vg=0;function m4(){my=!0,setTimeout(()=>{my=!1},50)}function YT(n){n.pointerType==="touch"&&m4()}function p4(){if(!(typeof document>"u"))return typeof PointerEvent<"u"&&document.addEventListener("pointerup",YT),vg++,()=>{vg--,!(vg>0)&&typeof PointerEvent<"u"&&document.removeEventListener("pointerup",YT)}}function g4(n){let{onHoverStart:e,onHoverChange:t,onHoverEnd:i,isDisabled:a}=n,[l,c]=A.useState(!1),h=A.useRef({isHovered:!1,ignoreEmulatedMouseEvents:!1,pointerType:"",target:null}).current;A.useEffect(p4,[]);let{addGlobalListener:m,removeAllGlobalListeners:p}=EA(),{hoverProps:y,triggerHoverEnd:_}=A.useMemo(()=>{let b=(C,D)=>{if(h.pointerType=D,a||D==="touch"||h.isHovered||!C.currentTarget.contains(C.target))return;h.isHovered=!0;let B=C.currentTarget;h.target=B,m(Hs(C.target),"pointerover",F=>{h.isHovered&&h.target&&!vA(h.target,F.target)&&w(F,F.pointerType)},{capture:!0}),e&&e({type:"hoverstart",target:B,pointerType:D}),t&&t(!0),c(!0)},w=(C,D)=>{let B=h.target;h.pointerType="",h.target=null,!(D==="touch"||!h.isHovered||!B)&&(h.isHovered=!1,p(),i&&i({type:"hoverend",target:B,pointerType:D}),t&&t(!1),c(!1))},R={};return typeof PointerEvent<"u"&&(R.onPointerEnter=C=>{my&&C.pointerType==="mouse"||b(C,C.pointerType)},R.onPointerLeave=C=>{!a&&C.currentTarget.contains(C.target)&&w(C,C.pointerType)}),{hoverProps:R,triggerHoverEnd:w}},[e,t,i,a,h,m,p]);return A.useEffect(()=>{a&&_({currentTarget:h.target},h.pointerType)},[a]),{hoverProps:y,isHovered:l}}function y4(n={}){let{autoFocus:e=!1,isTextInput:t,within:i}=n,a=A.useRef({isFocused:!1,isFocusVisible:e||xA()}),[l,c]=A.useState(!1),[h,m]=A.useState(()=>a.current.isFocused&&a.current.isFocusVisible),p=A.useCallback(()=>m(a.current.isFocused&&a.current.isFocusVisible),[]),y=A.useCallback(w=>{a.current.isFocused=w,c(w),p()},[p]);f4(w=>{a.current.isFocusVisible=w,p()},[],{isTextInput:t});let{focusProps:_}=h4({isDisabled:i,onFocusChange:y}),{focusWithinProps:b}=d4({isDisabled:!i,onFocusWithinChange:y});return{isFocused:l,isFocusVisible:h,focusProps:i?b:_}}var v4=Object.defineProperty,_4=(n,e,t)=>e in n?v4(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,_g=(n,e,t)=>(_4(n,typeof e!="symbol"?e+"":e,t),t);let b4=class{constructor(){_g(this,"current",this.detect()),_g(this,"handoffState","pending"),_g(this,"currentId",0)}set(e){this.current!==e&&(this.handoffState="pending",this.currentId=0,this.current=e)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},ka=new b4;function Xa(n){var e,t;return ka.isServer?null:n?"ownerDocument"in n?n.ownerDocument:"current"in n?(t=(e=n.current)==null?void 0:e.ownerDocument)!=null?t:document:null:document}function zd(n){typeof queueMicrotask=="function"?queueMicrotask(n):Promise.resolve().then(n).catch(e=>setTimeout(()=>{throw e}))}function lr(){let n=[],e={addEventListener(t,i,a,l){return t.addEventListener(i,a,l),e.add(()=>t.removeEventListener(i,a,l))},requestAnimationFrame(...t){let i=requestAnimationFrame(...t);return e.add(()=>cancelAnimationFrame(i))},nextFrame(...t){return e.requestAnimationFrame(()=>e.requestAnimationFrame(...t))},setTimeout(...t){let i=setTimeout(...t);return e.add(()=>clearTimeout(i))},microTask(...t){let i={current:!0};return zd(()=>{i.current&&t[0]()}),e.add(()=>{i.current=!1})},style(t,i,a){let l=t.style.getPropertyValue(i);return Object.assign(t.style,{[i]:a}),this.add(()=>{Object.assign(t.style,{[i]:l})})},group(t){let i=lr();return t(i),this.add(()=>i.dispose())},add(t){return n.includes(t)||n.push(t),()=>{let i=n.indexOf(t);if(i>=0)for(let a of n.splice(i,1))a()}},dispose(){for(let t of n.splice(0))t()}};return e}function xl(){let[n]=A.useState(lr);return A.useEffect(()=>()=>n.dispose(),[n]),n}let ot=(n,e)=>{ka.isServer?A.useEffect(n,e):A.useLayoutEffect(n,e)};function Za(n){let e=A.useRef(n);return ot(()=>{e.current=n},[n]),e}let xe=function(n){let e=Za(n);return Ee.useCallback((...t)=>e.current(...t),[e])};function E4(n){let e=n.width/2,t=n.height/2;return{top:n.clientY-t,right:n.clientX+e,bottom:n.clientY+t,left:n.clientX-e}}function T4(n,e){return!(!n||!e||n.right<e.left||n.left>e.right||n.bottom<e.top||n.top>e.bottom)}function w4({disabled:n=!1}={}){let e=A.useRef(null),[t,i]=A.useState(!1),a=xl(),l=xe(()=>{e.current=null,i(!1),a.dispose()}),c=xe(h=>{if(a.dispose(),e.current===null){e.current=h.currentTarget,i(!0);{let m=Xa(h.currentTarget);a.addEventListener(m,"pointerup",l,!1),a.addEventListener(m,"pointermove",p=>{if(e.current){let y=E4(p);i(T4(y,e.current.getBoundingClientRect()))}},!1),a.addEventListener(m,"pointercancel",l,!1)}}});return{pressed:t,pressProps:n?{}:{onPointerDown:c,onPointerUp:l,onClick:l}}}let S4=A.createContext(void 0);function CA(){return A.useContext(S4)}function py(...n){return Array.from(new Set(n.flatMap(e=>typeof e=="string"?e.split(" "):[]))).filter(Boolean).join(" ")}function Tr(n,e,...t){if(n in e){let a=e[n];return typeof a=="function"?a(...t):a}let i=new Error(`Tried to handle "${n}" but there is no handler defined. Only defined handlers are: ${Object.keys(e).map(a=>`"${a}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(i,Tr),i}var pl=(n=>(n[n.None=0]="None",n[n.RenderStrategy=1]="RenderStrategy",n[n.Static=2]="Static",n))(pl||{}),Es=(n=>(n[n.Unmount=0]="Unmount",n[n.Hidden=1]="Hidden",n))(Es||{});function kt(){let n=R4();return A.useCallback(e=>A4({mergeRefs:n,...e}),[n])}function A4({ourProps:n,theirProps:e,slot:t,defaultTag:i,features:a,visible:l=!0,name:c,mergeRefs:h}){h=h??I4;let m=DA(e,n);if(l)return Ah(m,t,i,c,h);let p=a??0;if(p&2){let{static:y=!1,..._}=m;if(y)return Ah(_,t,i,c,h)}if(p&1){let{unmount:y=!0,..._}=m;return Tr(y?0:1,{0(){return null},1(){return Ah({..._,hidden:!0,style:{display:"none"}},t,i,c,h)}})}return Ah(m,t,i,c,h)}function Ah(n,e={},t,i,a){let{as:l=t,children:c,refName:h="ref",...m}=bg(n,["unmount","static"]),p=n.ref!==void 0?{[h]:n.ref}:{},y=typeof c=="function"?c(e):c;"className"in m&&m.className&&typeof m.className=="function"&&(m.className=m.className(e)),m["aria-labelledby"]&&m["aria-labelledby"]===m.id&&(m["aria-labelledby"]=void 0);let _={};if(e){let b=!1,w=[];for(let[R,C]of Object.entries(e))typeof C=="boolean"&&(b=!0),C===!0&&w.push(R.replace(/([A-Z])/g,D=>`-${D.toLowerCase()}`));if(b){_["data-headlessui-state"]=w.join(" ");for(let R of w)_[`data-${R}`]=""}}if(l===A.Fragment&&(Object.keys(Ca(m)).length>0||Object.keys(Ca(_)).length>0))if(!A.isValidElement(y)||Array.isArray(y)&&y.length>1){if(Object.keys(Ca(m)).length>0)throw new Error(['Passing props on "Fragment"!',"",`The current component <${i} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(Ca(m)).concat(Object.keys(Ca(_))).map(b=>`  - ${b}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(b=>`  - ${b}`).join(`
`)].join(`
`))}else{let b=y.props,w=b==null?void 0:b.className,R=typeof w=="function"?(...B)=>py(w(...B),m.className):py(w,m.className),C=R?{className:R}:{},D=DA(y.props,Ca(bg(m,["ref"])));for(let B in _)B in D&&delete _[B];return A.cloneElement(y,Object.assign({},D,_,p,{ref:a(x4(y),p.ref)},C))}return A.createElement(l,Object.assign({},bg(m,["ref"]),l!==A.Fragment&&p,l!==A.Fragment&&_),y)}function R4(){let n=A.useRef([]),e=A.useCallback(t=>{for(let i of n.current)i!=null&&(typeof i=="function"?i(t):i.current=t)},[]);return(...t)=>{if(!t.every(i=>i==null))return n.current=t,e}}function I4(...n){return n.every(e=>e==null)?void 0:e=>{for(let t of n)t!=null&&(typeof t=="function"?t(e):t.current=e)}}function DA(...n){if(n.length===0)return{};if(n.length===1)return n[0];let e={},t={};for(let i of n)for(let a in i)a.startsWith("on")&&typeof i[a]=="function"?(t[a]!=null||(t[a]=[]),t[a].push(i[a])):e[a]=i[a];if(e.disabled||e["aria-disabled"])for(let i in t)/^(on(?:Click|Pointer|Mouse|Key)(?:Down|Up|Press)?)$/.test(i)&&(t[i]=[a=>{var l;return(l=a==null?void 0:a.preventDefault)==null?void 0:l.call(a)}]);for(let i in t)Object.assign(e,{[i](a,...l){let c=t[i];for(let h of c){if((a instanceof Event||(a==null?void 0:a.nativeEvent)instanceof Event)&&a.defaultPrevented)return;h(a,...l)}}});return e}function OA(...n){if(n.length===0)return{};if(n.length===1)return n[0];let e={},t={};for(let i of n)for(let a in i)a.startsWith("on")&&typeof i[a]=="function"?(t[a]!=null||(t[a]=[]),t[a].push(i[a])):e[a]=i[a];for(let i in t)Object.assign(e,{[i](...a){let l=t[i];for(let c of l)c==null||c(...a)}});return e}function bt(n){var e;return Object.assign(A.forwardRef(n),{displayName:(e=n.displayName)!=null?e:n.name})}function Ca(n){let e=Object.assign({},n);for(let t in e)e[t]===void 0&&delete e[t];return e}function bg(n,e=[]){let t=Object.assign({},n);for(let i of e)i in t&&delete t[i];return t}function x4(n){return Ee.version.split(".")[0]>="19"?n.props.ref:n.ref}let C4="span";var sd=(n=>(n[n.None=1]="None",n[n.Focusable=2]="Focusable",n[n.Hidden=4]="Hidden",n))(sd||{});function D4(n,e){var t;let{features:i=1,...a}=n,l={ref:e,"aria-hidden":(i&2)===2?!0:(t=a["aria-hidden"])!=null?t:void 0,hidden:(i&4)===4?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(i&4)===4&&(i&2)!==2&&{display:"none"}}};return kt()({ourProps:l,theirProps:a,slot:{},defaultTag:C4,name:"Hidden"})}let gy=bt(D4),O4=A.createContext(void 0);function N4(){return A.useContext(O4)}function Iv(n){return typeof n!="object"||n===null?!1:"nodeType"in n}function Ni(n){return Iv(n)&&"tagName"in n}function qn(n){return Ni(n)&&"accessKey"in n}function Hr(n){return Ni(n)&&"tabIndex"in n}function M4(n){return Ni(n)&&"style"in n}function k4(n){return qn(n)&&n.nodeName==="IFRAME"}function NA(n){return qn(n)&&n.nodeName==="INPUT"}function GT(n){return qn(n)&&n.nodeName==="LABEL"}function P4(n){return qn(n)&&n.nodeName==="FIELDSET"}function MA(n){return qn(n)&&n.nodeName==="LEGEND"}function L4(n){return Ni(n)?n.matches('a[href],audio[controls],button,details,embed,iframe,img[usemap],input:not([type="hidden"]),label,select,textarea,video[controls]'):!1}function V4(n){let e=n.parentElement,t=null;for(;e&&!P4(e);)MA(e)&&(t=e),e=e.parentElement;let i=(e==null?void 0:e.getAttribute("disabled"))==="";return i&&U4(t)?!1:i}function U4(n){if(!n)return!1;let e=n.previousElementSibling;for(;e!==null;){if(MA(e))return!1;e=e.previousElementSibling}return!0}let kA=Symbol();function j4(n,e=!0){return Object.assign(n,{[kA]:e})}function An(...n){let e=A.useRef(n);A.useEffect(()=>{e.current=n},[n]);let t=xe(i=>{for(let a of e.current)a!=null&&(typeof a=="function"?a(i):a.current=i)});return n.every(i=>i==null||(i==null?void 0:i[kA]))?void 0:t}let xv=A.createContext(null);xv.displayName="DescriptionContext";function PA(){let n=A.useContext(xv);if(n===null){let e=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(e,PA),e}return n}function LA(){let[n,e]=A.useState([]);return[n.length>0?n.join(" "):void 0,A.useMemo(()=>function(t){let i=xe(l=>(e(c=>[...c,l]),()=>e(c=>{let h=c.slice(),m=h.indexOf(l);return m!==-1&&h.splice(m,1),h}))),a=A.useMemo(()=>({register:i,slot:t.slot,name:t.name,props:t.props,value:t.value}),[i,t.slot,t.name,t.props,t.value]);return Ee.createElement(xv.Provider,{value:a},t.children)},[e])]}let F4="p";function z4(n,e){let t=A.useId(),i=CA(),{id:a=`headlessui-description-${t}`,...l}=n,c=PA(),h=An(e);ot(()=>c.register(a),[a,c.register]);let m=i||!1,p=A.useMemo(()=>({...c.slot,disabled:m}),[c.slot,m]),y={ref:h,...c.props,id:a};return kt()({ourProps:y,theirProps:l,slot:p,defaultTag:F4,name:c.name||"Description"})}let B4=bt(z4),$4=Object.assign(B4,{});var Gt=(n=>(n.Space=" ",n.Enter="Enter",n.Escape="Escape",n.Backspace="Backspace",n.Delete="Delete",n.ArrowLeft="ArrowLeft",n.ArrowUp="ArrowUp",n.ArrowRight="ArrowRight",n.ArrowDown="ArrowDown",n.Home="Home",n.End="End",n.PageUp="PageUp",n.PageDown="PageDown",n.Tab="Tab",n))(Gt||{});let Bd=A.createContext(null);Bd.displayName="LabelContext";function Cv(){let n=A.useContext(Bd);if(n===null){let e=new Error("You used a <Label /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(e,Cv),e}return n}function H4(n){var e,t,i;let a=(t=(e=A.useContext(Bd))==null?void 0:e.value)!=null?t:void 0;return((i=void 0)!=null?i:0)>0?[a,...n].filter(Boolean).join(" "):a}function VA({inherit:n=!1}={}){let e=H4(),[t,i]=A.useState([]),a=n?[e,...t].filter(Boolean):t;return[a.length>0?a.join(" "):void 0,A.useMemo(()=>function(l){let c=xe(m=>(i(p=>[...p,m]),()=>i(p=>{let y=p.slice(),_=y.indexOf(m);return _!==-1&&y.splice(_,1),y}))),h=A.useMemo(()=>({register:c,slot:l.slot,name:l.name,props:l.props,value:l.value}),[c,l.slot,l.name,l.props,l.value]);return Ee.createElement(Bd.Provider,{value:h},l.children)},[i])]}let q4="label";function Y4(n,e){var t;let i=A.useId(),a=Cv(),l=N4(),c=CA(),{id:h=`headlessui-label-${i}`,htmlFor:m=l??((t=a.props)==null?void 0:t.htmlFor),passive:p=!1,...y}=n,_=An(e);ot(()=>a.register(h),[h,a.register]);let b=xe(D=>{let B=D.currentTarget;if(!(D.target!==D.currentTarget&&L4(D.target))&&(GT(B)&&D.preventDefault(),a.props&&"onClick"in a.props&&typeof a.props.onClick=="function"&&a.props.onClick(D),GT(B))){let F=document.getElementById(B.htmlFor);if(F){let q=F.getAttribute("disabled");if(q==="true"||q==="")return;let H=F.getAttribute("aria-disabled");if(H==="true"||H==="")return;(NA(F)&&(F.type==="file"||F.type==="radio"||F.type==="checkbox")||F.role==="radio"||F.role==="checkbox"||F.role==="switch")&&F.click(),F.focus({preventScroll:!0})}}}),w=c||!1,R=A.useMemo(()=>({...a.slot,disabled:w}),[a.slot,w]),C={ref:_,...a.props,id:h,htmlFor:m,onClick:b};return p&&("onClick"in C&&(delete C.htmlFor,delete C.onClick),"onClick"in y&&delete y.onClick),kt()({ourProps:C,theirProps:y,slot:R,defaultTag:m?q4:"div",name:a.name||"Label"})}let G4=bt(Y4);Object.assign(G4,{});let K4=A.createContext(()=>{});function Q4({value:n,children:e}){return Ee.createElement(K4.Provider,{value:n},e)}function W4(n){if(n===null)return{width:0,height:0};let{width:e,height:t}=n.getBoundingClientRect();return{width:e,height:t}}function X4(n,e=!1){let[t,i]=A.useReducer(()=>({}),{}),a=A.useMemo(()=>W4(n),[n,t]);return ot(()=>{if(!n)return;let l=new ResizeObserver(i);return l.observe(n),()=>{l.disconnect()}},[n]),e?{width:`${a.width}px`,height:`${a.height}px`}:a}let UA=class extends Map{constructor(e){super(),this.factory=e}get(e){let t=super.get(e);return t===void 0&&(t=this.factory(e),this.set(e,t)),t}};var Z4=Object.defineProperty,J4=(n,e,t)=>e in n?Z4(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,eP=(n,e,t)=>(J4(n,e+"",t),t),jA=(n,e,t)=>{if(!e.has(n))throw TypeError("Cannot "+t)},sr=(n,e,t)=>(jA(n,e,"read from private field"),t?t.call(n):e.get(n)),Eg=(n,e,t)=>{if(e.has(n))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(n):e.set(n,t)},KT=(n,e,t,i)=>(jA(n,e,"write to private field"),e.set(n,t),t),Fr,Qu,Wu;let FA=class{constructor(e){Eg(this,Fr,{}),Eg(this,Qu,new UA(()=>new Set)),Eg(this,Wu,new Set),eP(this,"disposables",lr()),KT(this,Fr,e)}dispose(){this.disposables.dispose()}get state(){return sr(this,Fr)}subscribe(e,t){let i={selector:e,callback:t,current:e(sr(this,Fr))};return sr(this,Wu).add(i),this.disposables.add(()=>{sr(this,Wu).delete(i)})}on(e,t){return sr(this,Qu).get(e).add(t),this.disposables.add(()=>{sr(this,Qu).get(e).delete(t)})}send(e){let t=this.reduce(sr(this,Fr),e);if(t!==sr(this,Fr)){KT(this,Fr,t);for(let i of sr(this,Wu)){let a=i.selector(sr(this,Fr));zA(i.current,a)||(i.current=a,i.callback(a))}for(let i of sr(this,Qu).get(e.type))i(sr(this,Fr),e)}}};Fr=new WeakMap,Qu=new WeakMap,Wu=new WeakMap;function zA(n,e){return Object.is(n,e)?!0:typeof n!="object"||n===null||typeof e!="object"||e===null?!1:Array.isArray(n)&&Array.isArray(e)?n.length!==e.length?!1:Tg(n[Symbol.iterator](),e[Symbol.iterator]()):n instanceof Map&&e instanceof Map||n instanceof Set&&e instanceof Set?n.size!==e.size?!1:Tg(n.entries(),e.entries()):QT(n)&&QT(e)?Tg(Object.entries(n)[Symbol.iterator](),Object.entries(e)[Symbol.iterator]()):!1}function Tg(n,e){do{let t=n.next(),i=e.next();if(t.done&&i.done)return!0;if(t.done||i.done||!Object.is(t.value,i.value))return!1}while(!0)}function QT(n){if(Object.prototype.toString.call(n)!=="[object Object]")return!1;let e=Object.getPrototypeOf(n);return e===null||Object.getPrototypeOf(e)===null}function WT(n){let[e,t]=n(),i=lr();return(...a)=>{e(...a),i.dispose(),i.microTask(t)}}var tP=Object.defineProperty,nP=(n,e,t)=>e in n?tP(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,XT=(n,e,t)=>(nP(n,typeof e!="symbol"?e+"":e,t),t),BA=(n=>(n[n.Push=0]="Push",n[n.Pop=1]="Pop",n))(BA||{});let rP={0(n,e){let t=e.id,i=n.stack,a=n.stack.indexOf(t);if(a!==-1){let l=n.stack.slice();return l.splice(a,1),l.push(t),i=l,{...n,stack:i}}return{...n,stack:[...n.stack,t]}},1(n,e){let t=e.id,i=n.stack.indexOf(t);if(i===-1)return n;let a=n.stack.slice();return a.splice(i,1),{...n,stack:a}}},iP=class $A extends FA{constructor(){super(...arguments),XT(this,"actions",{push:e=>this.send({type:0,id:e}),pop:e=>this.send({type:1,id:e})}),XT(this,"selectors",{isTop:(e,t)=>e.stack[e.stack.length-1]===t,inStack:(e,t)=>e.stack.includes(t)})}static new(){return new $A({stack:[]})}reduce(e,t){return Tr(t.type,rP,e,t)}};const $d=new UA(()=>iP.new());var wg={exports:{}},Sg={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ZT;function sP(){if(ZT)return Sg;ZT=1;var n=pd();function e(m,p){return m===p&&(m!==0||1/m===1/p)||m!==m&&p!==p}var t=typeof Object.is=="function"?Object.is:e,i=n.useSyncExternalStore,a=n.useRef,l=n.useEffect,c=n.useMemo,h=n.useDebugValue;return Sg.useSyncExternalStoreWithSelector=function(m,p,y,_,b){var w=a(null);if(w.current===null){var R={hasValue:!1,value:null};w.current=R}else R=w.current;w=c(function(){function D(K){if(!B){if(B=!0,F=K,K=_(K),b!==void 0&&R.hasValue){var ee=R.value;if(b(ee,K))return q=ee}return q=K}if(ee=q,t(F,K))return ee;var N=_(K);return b!==void 0&&b(ee,N)?(F=K,ee):(F=K,q=N)}var B=!1,F,q,H=y===void 0?null:y;return[function(){return D(p())},H===null?void 0:function(){return D(H())}]},[p,y,_,b]);var C=i(m,w[0],w[1]);return l(function(){R.hasValue=!0,R.value=C},[C]),h(C),C},Sg}var JT;function aP(){return JT||(JT=1,wg.exports=sP()),wg.exports}var oP=aP();function vr(n,e,t=zA){return oP.useSyncExternalStoreWithSelector(xe(i=>n.subscribe(lP,i)),xe(()=>n.state),xe(()=>n.state),xe(e),t)}function lP(n){return n}function zc(n,e){let t=A.useId(),i=$d.get(e),[a,l]=vr(i,A.useCallback(c=>[i.selectors.isTop(c,t),i.selectors.inStack(c,t)],[i,t]));return ot(()=>{if(n)return i.actions.push(t),()=>i.actions.pop(t)},[i,n,t]),n?l?a:!0:!1}let yy=new Map,oc=new Map;function ew(n){var e;let t=(e=oc.get(n))!=null?e:0;return oc.set(n,t+1),t!==0?()=>tw(n):(yy.set(n,{"aria-hidden":n.getAttribute("aria-hidden"),inert:n.inert}),n.setAttribute("aria-hidden","true"),n.inert=!0,()=>tw(n))}function tw(n){var e;let t=(e=oc.get(n))!=null?e:1;if(t===1?oc.delete(n):oc.set(n,t-1),t!==1)return;let i=yy.get(n);i&&(i["aria-hidden"]===null?n.removeAttribute("aria-hidden"):n.setAttribute("aria-hidden",i["aria-hidden"]),n.inert=i.inert,yy.delete(n))}function HA(n,{allowed:e,disallowed:t}={}){let i=zc(n,"inert-others");ot(()=>{var a,l;if(!i)return;let c=lr();for(let m of(a=t==null?void 0:t())!=null?a:[])m&&c.add(ew(m));let h=(l=e==null?void 0:e())!=null?l:[];for(let m of h){if(!m)continue;let p=Xa(m);if(!p)continue;let y=m.parentElement;for(;y&&y!==p.body;){for(let _ of y.children)h.some(b=>_.contains(b))||c.add(ew(_));y=y.parentElement}}return c.dispose},[i,e,t])}function qA(n,e,t){let i=Za(a=>{let l=a.getBoundingClientRect();l.x===0&&l.y===0&&l.width===0&&l.height===0&&t()});A.useEffect(()=>{if(!n)return;let a=e===null?null:qn(e)?e:e.current;if(!a)return;let l=lr();if(typeof ResizeObserver<"u"){let c=new ResizeObserver(()=>i.current(a));c.observe(a),l.add(()=>c.disconnect())}if(typeof IntersectionObserver<"u"){let c=new IntersectionObserver(()=>i.current(a));c.observe(a),l.add(()=>c.disconnect())}return()=>l.dispose()},[e,i,n])}let ad=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(n=>`${n}:not([tabindex='-1'])`).join(","),uP=["[data-autofocus]"].map(n=>`${n}:not([tabindex='-1'])`).join(",");var gr=(n=>(n[n.First=1]="First",n[n.Previous=2]="Previous",n[n.Next=4]="Next",n[n.Last=8]="Last",n[n.WrapAround=16]="WrapAround",n[n.NoScroll=32]="NoScroll",n[n.AutoFocus=64]="AutoFocus",n))(gr||{}),vy=(n=>(n[n.Error=0]="Error",n[n.Overflow=1]="Overflow",n[n.Success=2]="Success",n[n.Underflow=3]="Underflow",n))(vy||{}),cP=(n=>(n[n.Previous=-1]="Previous",n[n.Next=1]="Next",n))(cP||{});function YA(n=document.body){return n==null?[]:Array.from(n.querySelectorAll(ad)).sort((e,t)=>Math.sign((e.tabIndex||Number.MAX_SAFE_INTEGER)-(t.tabIndex||Number.MAX_SAFE_INTEGER)))}function fP(n=document.body){return n==null?[]:Array.from(n.querySelectorAll(uP)).sort((e,t)=>Math.sign((e.tabIndex||Number.MAX_SAFE_INTEGER)-(t.tabIndex||Number.MAX_SAFE_INTEGER)))}var Dv=(n=>(n[n.Strict=0]="Strict",n[n.Loose=1]="Loose",n))(Dv||{});function Ov(n,e=0){var t;return n===((t=Xa(n))==null?void 0:t.body)?!1:Tr(e,{0(){return n.matches(ad)},1(){let i=n;for(;i!==null;){if(i.matches(ad))return!0;i=i.parentElement}return!1}})}function GA(n){let e=Xa(n);lr().nextFrame(()=>{e&&Hr(e.activeElement)&&!Ov(e.activeElement,0)&&Qr(n)})}var hP=(n=>(n[n.Keyboard=0]="Keyboard",n[n.Mouse=1]="Mouse",n))(hP||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",n=>{n.metaKey||n.altKey||n.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",n=>{n.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:n.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function Qr(n){n==null||n.focus({preventScroll:!0})}let dP=["textarea","input"].join(",");function mP(n){var e,t;return(t=(e=n==null?void 0:n.matches)==null?void 0:e.call(n,dP))!=null?t:!1}function KA(n,e=t=>t){return n.slice().sort((t,i)=>{let a=e(t),l=e(i);if(a===null||l===null)return 0;let c=a.compareDocumentPosition(l);return c&Node.DOCUMENT_POSITION_FOLLOWING?-1:c&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function pP(n,e){return sl(YA(),e,{relativeTo:n})}function sl(n,e,{sorted:t=!0,relativeTo:i=null,skipElements:a=[]}={}){let l=Array.isArray(n)?n.length>0?n[0].ownerDocument:document:n.ownerDocument,c=Array.isArray(n)?t?KA(n):n:e&64?fP(n):YA(n);a.length>0&&c.length>1&&(c=c.filter(w=>!a.some(R=>R!=null&&"current"in R?(R==null?void 0:R.current)===w:R===w))),i=i??l.activeElement;let h=(()=>{if(e&5)return 1;if(e&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),m=(()=>{if(e&1)return 0;if(e&2)return Math.max(0,c.indexOf(i))-1;if(e&4)return Math.max(0,c.indexOf(i))+1;if(e&8)return c.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),p=e&32?{preventScroll:!0}:{},y=0,_=c.length,b;do{if(y>=_||y+_<=0)return 0;let w=m+y;if(e&16)w=(w+_)%_;else{if(w<0)return 3;if(w>=_)return 1}b=c[w],b==null||b.focus(p),y+=h}while(b!==l.activeElement);return e&6&&mP(b)&&b.select(),2}function QA(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function gP(){return/Android/gi.test(window.navigator.userAgent)}function nw(){return QA()||gP()}function Zo(n,e,t,i){let a=Za(t);A.useEffect(()=>{if(!n)return;function l(c){a.current(c)}return document.addEventListener(e,l,i),()=>document.removeEventListener(e,l,i)},[n,e,i])}function WA(n,e,t,i){let a=Za(t);A.useEffect(()=>{if(!n)return;function l(c){a.current(c)}return window.addEventListener(e,l,i),()=>window.removeEventListener(e,l,i)},[n,e,i])}const rw=30;function XA(n,e,t){let i=Za(t),a=A.useCallback(function(h,m){if(h.defaultPrevented)return;let p=m(h);if(p===null||!p.getRootNode().contains(p)||!p.isConnected)return;let y=function _(b){return typeof b=="function"?_(b()):Array.isArray(b)||b instanceof Set?b:[b]}(e);for(let _ of y)if(_!==null&&(_.contains(p)||h.composed&&h.composedPath().includes(_)))return;return!Ov(p,Dv.Loose)&&p.tabIndex!==-1&&h.preventDefault(),i.current(h,p)},[i,e]),l=A.useRef(null);Zo(n,"pointerdown",h=>{var m,p;nw()||(l.current=((p=(m=h.composedPath)==null?void 0:m.call(h))==null?void 0:p[0])||h.target)},!0),Zo(n,"pointerup",h=>{if(nw()||!l.current)return;let m=l.current;return l.current=null,a(h,()=>m)},!0);let c=A.useRef({x:0,y:0});Zo(n,"touchstart",h=>{c.current.x=h.touches[0].clientX,c.current.y=h.touches[0].clientY},!0),Zo(n,"touchend",h=>{let m={x:h.changedTouches[0].clientX,y:h.changedTouches[0].clientY};if(!(Math.abs(m.x-c.current.x)>=rw||Math.abs(m.y-c.current.y)>=rw))return a(h,()=>Hr(h.target)?h.target:null)},!0),WA(n,"blur",h=>a(h,()=>k4(window.document.activeElement)?window.document.activeElement:null),!0)}function gl(...n){return A.useMemo(()=>Xa(...n),[...n])}var yP=(n=>(n[n.Ignore=0]="Ignore",n[n.Select=1]="Select",n[n.Close=2]="Close",n))(yP||{});const Rh={Ignore:{kind:0},Select:n=>({kind:1,target:n}),Close:{kind:2}},vP=200;function _P(n,{trigger:e,action:t,close:i,select:a}){let l=A.useRef(null);Zo(n&&e!==null,"pointerdown",c=>{Iv(c==null?void 0:c.target)&&e!=null&&e.contains(c.target)&&(l.current=new Date)}),Zo(n&&e!==null,"pointerup",c=>{if(l.current===null||!Hr(c.target))return;let h=t(c),m=new Date().getTime()-l.current.getTime();switch(l.current=null,h.kind){case 0:return;case 1:{m>vP&&(a(h.target),i());break}case 2:{i();break}}},{capture:!0})}function ZA(n,e,t,i){let a=Za(t);A.useEffect(()=>{n=n??window;function l(c){a.current(c)}return n.addEventListener(e,l,i),()=>n.removeEventListener(e,l,i)},[n,e,i])}function bP(n,e){return A.useMemo(()=>{var t;if(n.type)return n.type;let i=(t=n.as)!=null?t:"button";if(typeof i=="string"&&i.toLowerCase()==="button"||(e==null?void 0:e.tagName)==="BUTTON"&&!e.hasAttribute("type"))return"button"},[n.type,n.as,e])}function EP(n){return A.useSyncExternalStore(n.subscribe,n.getSnapshot,n.getSnapshot)}function TP(n,e){let t=n(),i=new Set;return{getSnapshot(){return t},subscribe(a){return i.add(a),()=>i.delete(a)},dispatch(a,...l){let c=e[a].call(t,...l);c&&(t=c,i.forEach(h=>h()))}}}function wP(){let n;return{before({doc:e}){var t;let i=e.documentElement,a=(t=e.defaultView)!=null?t:window;n=Math.max(0,a.innerWidth-i.clientWidth)},after({doc:e,d:t}){let i=e.documentElement,a=Math.max(0,i.clientWidth-i.offsetWidth),l=Math.max(0,n-a);t.style(i,"paddingRight",`${l}px`)}}}function SP(){return QA()?{before({doc:n,d:e,meta:t}){function i(a){return t.containers.flatMap(l=>l()).some(l=>l.contains(a))}e.microTask(()=>{var a;if(window.getComputedStyle(n.documentElement).scrollBehavior!=="auto"){let h=lr();h.style(n.documentElement,"scrollBehavior","auto"),e.add(()=>e.microTask(()=>h.dispose()))}let l=(a=window.scrollY)!=null?a:window.pageYOffset,c=null;e.addEventListener(n,"click",h=>{if(Hr(h.target))try{let m=h.target.closest("a");if(!m)return;let{hash:p}=new URL(m.href),y=n.querySelector(p);Hr(y)&&!i(y)&&(c=y)}catch{}},!0),e.addEventListener(n,"touchstart",h=>{if(Hr(h.target)&&M4(h.target))if(i(h.target)){let m=h.target;for(;m.parentElement&&i(m.parentElement);)m=m.parentElement;e.style(m,"overscrollBehavior","contain")}else e.style(h.target,"touchAction","none")}),e.addEventListener(n,"touchmove",h=>{if(Hr(h.target)){if(NA(h.target))return;if(i(h.target)){let m=h.target;for(;m.parentElement&&m.dataset.headlessuiPortal!==""&&!(m.scrollHeight>m.clientHeight||m.scrollWidth>m.clientWidth);)m=m.parentElement;m.dataset.headlessuiPortal===""&&h.preventDefault()}else h.preventDefault()}},{passive:!1}),e.add(()=>{var h;let m=(h=window.scrollY)!=null?h:window.pageYOffset;l!==m&&window.scrollTo(0,l),c&&c.isConnected&&(c.scrollIntoView({block:"nearest"}),c=null)})})}}:{}}function AP(){return{before({doc:n,d:e}){e.style(n.documentElement,"overflow","hidden")}}}function RP(n){let e={};for(let t of n)Object.assign(e,t(e));return e}let Ma=TP(()=>new Map,{PUSH(n,e){var t;let i=(t=this.get(n))!=null?t:{doc:n,count:0,d:lr(),meta:new Set};return i.count++,i.meta.add(e),this.set(n,i),this},POP(n,e){let t=this.get(n);return t&&(t.count--,t.meta.delete(e)),this},SCROLL_PREVENT({doc:n,d:e,meta:t}){let i={doc:n,d:e,meta:RP(t)},a=[SP(),wP(),AP()];a.forEach(({before:l})=>l==null?void 0:l(i)),a.forEach(({after:l})=>l==null?void 0:l(i))},SCROLL_ALLOW({d:n}){n.dispose()},TEARDOWN({doc:n}){this.delete(n)}});Ma.subscribe(()=>{let n=Ma.getSnapshot(),e=new Map;for(let[t]of n)e.set(t,t.documentElement.style.overflow);for(let t of n.values()){let i=e.get(t.doc)==="hidden",a=t.count!==0;(a&&!i||!a&&i)&&Ma.dispatch(t.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",t),t.count===0&&Ma.dispatch("TEARDOWN",t)}});function IP(n,e,t=()=>({containers:[]})){let i=EP(Ma),a=e?i.get(e):void 0,l=a?a.count>0:!1;return ot(()=>{if(!(!e||!n))return Ma.dispatch("PUSH",e,t),()=>Ma.dispatch("POP",e,t)},[n,e]),l}function JA(n,e,t=()=>[document.body]){let i=zc(n,"scroll-lock");IP(i,e,a=>{var l;return{containers:[...(l=a.containers)!=null?l:[],t]}})}function iw(n){return[n.screenX,n.screenY]}function xP(){let n=A.useRef([-1,-1]);return{wasMoved(e){let t=iw(e);return n.current[0]===t[0]&&n.current[1]===t[1]?!1:(n.current=t,!0)},update(e){n.current=iw(e)}}}function CP(n=0){let[e,t]=A.useState(n),i=A.useCallback(m=>t(m),[e]),a=A.useCallback(m=>t(p=>p|m),[e]),l=A.useCallback(m=>(e&m)===m,[e]),c=A.useCallback(m=>t(p=>p&~m),[t]),h=A.useCallback(m=>t(p=>p^m),[t]);return{flags:e,setFlag:i,addFlag:a,hasFlag:l,removeFlag:c,toggleFlag:h}}var DP={},sw,aw;typeof process<"u"&&typeof globalThis<"u"&&typeof Element<"u"&&((sw=process==null?void 0:DP)==null?void 0:sw.NODE_ENV)==="test"&&typeof((aw=Element==null?void 0:Element.prototype)==null?void 0:aw.getAnimations)>"u"&&(Element.prototype.getAnimations=function(){return console.warn(["Headless UI has polyfilled `Element.prototype.getAnimations` for your tests.","Please install a proper polyfill e.g. `jsdom-testing-mocks`, to silence these warnings.","","Example usage:","```js","import { mockAnimationsApi } from 'jsdom-testing-mocks'","mockAnimationsApi()","```"].join(`
`)),[]});var OP=(n=>(n[n.None=0]="None",n[n.Closed=1]="Closed",n[n.Enter=2]="Enter",n[n.Leave=4]="Leave",n))(OP||{});function eR(n){let e={};for(let t in n)n[t]===!0&&(e[`data-${t}`]="");return e}function tR(n,e,t,i){let[a,l]=A.useState(t),{hasFlag:c,addFlag:h,removeFlag:m}=CP(n&&a?3:0),p=A.useRef(!1),y=A.useRef(!1),_=xl();return ot(()=>{var b;if(n){if(t&&l(!0),!e){t&&h(3);return}return(b=i==null?void 0:i.start)==null||b.call(i,t),NP(e,{inFlight:p,prepare(){y.current?y.current=!1:y.current=p.current,p.current=!0,!y.current&&(t?(h(3),m(4)):(h(4),m(2)))},run(){y.current?t?(m(3),h(4)):(m(4),h(3)):t?m(1):h(1)},done(){var w;y.current&&typeof e.getAnimations=="function"&&e.getAnimations().length>0||(p.current=!1,m(7),t||l(!1),(w=i==null?void 0:i.end)==null||w.call(i,t))}})}},[n,t,e,_]),n?[a,{closed:c(1),enter:c(2),leave:c(4),transition:c(2)||c(4)}]:[t,{closed:void 0,enter:void 0,leave:void 0,transition:void 0}]}function NP(n,{prepare:e,run:t,done:i,inFlight:a}){let l=lr();return kP(n,{prepare:e,inFlight:a}),l.nextFrame(()=>{t(),l.requestAnimationFrame(()=>{l.add(MP(n,i))})}),l.dispose}function MP(n,e){var t,i;let a=lr();if(!n)return a.dispose;let l=!1;a.add(()=>{l=!0});let c=(i=(t=n.getAnimations)==null?void 0:t.call(n).filter(h=>h instanceof CSSTransition))!=null?i:[];return c.length===0?(e(),a.dispose):(Promise.allSettled(c.map(h=>h.finished)).then(()=>{l||e()}),a.dispose)}function kP(n,{inFlight:e,prepare:t}){if(e!=null&&e.current){t();return}let i=n.style.transition;n.style.transition="none",t(),n.offsetHeight,n.style.transition=i}function PP(n,{container:e,accept:t,walk:i}){let a=A.useRef(t),l=A.useRef(i);A.useEffect(()=>{a.current=t,l.current=i},[t,i]),ot(()=>{if(!e||!n)return;let c=Xa(e);if(!c)return;let h=a.current,m=l.current,p=Object.assign(_=>h(_),{acceptNode:h}),y=c.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,p,!1);for(;y.nextNode();)m(y.currentNode)},[e,n,a,l])}function Nv(n,e){let t=A.useRef([]),i=xe(n);A.useEffect(()=>{let a=[...t.current];for(let[l,c]of e.entries())if(t.current[l]!==c){let h=i(e,a);return t.current=e,h}},[i,...e])}function Hd(){return typeof window<"u"}function Cl(n){return nR(n)?(n.nodeName||"").toLowerCase():"#document"}function $n(n){var e;return(n==null||(e=n.ownerDocument)==null?void 0:e.defaultView)||window}function ei(n){var e;return(e=(nR(n)?n.ownerDocument:n.document)||window.document)==null?void 0:e.documentElement}function nR(n){return Hd()?n instanceof Node||n instanceof $n(n).Node:!1}function Tn(n){return Hd()?n instanceof Element||n instanceof $n(n).Element:!1}function Jr(n){return Hd()?n instanceof HTMLElement||n instanceof $n(n).HTMLElement:!1}function ow(n){return!Hd()||typeof ShadowRoot>"u"?!1:n instanceof ShadowRoot||n instanceof $n(n).ShadowRoot}function Bc(n){const{overflow:e,overflowX:t,overflowY:i,display:a}=wr(n);return/auto|scroll|overlay|hidden|clip/.test(e+i+t)&&!["inline","contents"].includes(a)}function LP(n){return["table","td","th"].includes(Cl(n))}function qd(n){return[":popover-open",":modal"].some(e=>{try{return n.matches(e)}catch{return!1}})}function Mv(n){const e=kv(),t=Tn(n)?wr(n):n;return["transform","translate","scale","rotate","perspective"].some(i=>t[i]?t[i]!=="none":!1)||(t.containerType?t.containerType!=="normal":!1)||!e&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!e&&(t.filter?t.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(i=>(t.willChange||"").includes(i))||["paint","layout","strict","content"].some(i=>(t.contain||"").includes(i))}function VP(n){let e=Us(n);for(;Jr(e)&&!yl(e);){if(Mv(e))return e;if(qd(e))return null;e=Us(e)}return null}function kv(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function yl(n){return["html","body","#document"].includes(Cl(n))}function wr(n){return $n(n).getComputedStyle(n)}function Yd(n){return Tn(n)?{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}:{scrollLeft:n.scrollX,scrollTop:n.scrollY}}function Us(n){if(Cl(n)==="html")return n;const e=n.assignedSlot||n.parentNode||ow(n)&&n.host||ei(n);return ow(e)?e.host:e}function rR(n){const e=Us(n);return yl(e)?n.ownerDocument?n.ownerDocument.body:n.body:Jr(e)&&Bc(e)?e:rR(e)}function Ec(n,e,t){var i;e===void 0&&(e=[]),t===void 0&&(t=!0);const a=rR(n),l=a===((i=n.ownerDocument)==null?void 0:i.body),c=$n(a);if(l){const h=_y(c);return e.concat(c,c.visualViewport||[],Bc(a)?a:[],h&&t?Ec(h):[])}return e.concat(a,Ec(a,[],t))}function _y(n){return n.parent&&Object.getPrototypeOf(n.parent)?n.frameElement:null}function UP(){const n=navigator.userAgentData;return n&&Array.isArray(n.brands)?n.brands.map(e=>{let{brand:t,version:i}=e;return t+"/"+i}).join(" "):navigator.userAgent}const Ba=Math.min,pn=Math.max,Tc=Math.round,Ih=Math.floor,Wr=n=>({x:n,y:n}),jP={left:"right",right:"left",bottom:"top",top:"bottom"},FP={start:"end",end:"start"};function lw(n,e,t){return pn(n,Ba(e,t))}function Dl(n,e){return typeof n=="function"?n(e):n}function js(n){return n.split("-")[0]}function $c(n){return n.split("-")[1]}function iR(n){return n==="x"?"y":"x"}function sR(n){return n==="y"?"height":"width"}function Ds(n){return["top","bottom"].includes(js(n))?"y":"x"}function aR(n){return iR(Ds(n))}function zP(n,e,t){t===void 0&&(t=!1);const i=$c(n),a=aR(n),l=sR(a);let c=a==="x"?i===(t?"end":"start")?"right":"left":i==="start"?"bottom":"top";return e.reference[l]>e.floating[l]&&(c=od(c)),[c,od(c)]}function BP(n){const e=od(n);return[by(n),e,by(e)]}function by(n){return n.replace(/start|end/g,e=>FP[e])}function $P(n,e,t){const i=["left","right"],a=["right","left"],l=["top","bottom"],c=["bottom","top"];switch(n){case"top":case"bottom":return t?e?a:i:e?i:a;case"left":case"right":return e?l:c;default:return[]}}function HP(n,e,t,i){const a=$c(n);let l=$P(js(n),t==="start",i);return a&&(l=l.map(c=>c+"-"+a),e&&(l=l.concat(l.map(by)))),l}function od(n){return n.replace(/left|right|bottom|top/g,e=>jP[e])}function qP(n){return{top:0,right:0,bottom:0,left:0,...n}}function YP(n){return typeof n!="number"?qP(n):{top:n,right:n,bottom:n,left:n}}function ld(n){const{x:e,y:t,width:i,height:a}=n;return{width:i,height:a,top:t,left:e,right:e+i,bottom:t+a,x:e,y:t}}function uw(n,e,t){let{reference:i,floating:a}=n;const l=Ds(e),c=aR(e),h=sR(c),m=js(e),p=l==="y",y=i.x+i.width/2-a.width/2,_=i.y+i.height/2-a.height/2,b=i[h]/2-a[h]/2;let w;switch(m){case"top":w={x:y,y:i.y-a.height};break;case"bottom":w={x:y,y:i.y+i.height};break;case"right":w={x:i.x+i.width,y:_};break;case"left":w={x:i.x-a.width,y:_};break;default:w={x:i.x,y:i.y}}switch($c(e)){case"start":w[c]-=b*(t&&p?-1:1);break;case"end":w[c]+=b*(t&&p?-1:1);break}return w}const GP=async(n,e,t)=>{const{placement:i="bottom",strategy:a="absolute",middleware:l=[],platform:c}=t,h=l.filter(Boolean),m=await(c.isRTL==null?void 0:c.isRTL(e));let p=await c.getElementRects({reference:n,floating:e,strategy:a}),{x:y,y:_}=uw(p,i,m),b=i,w={},R=0;for(let C=0;C<h.length;C++){const{name:D,fn:B}=h[C],{x:F,y:q,data:H,reset:K}=await B({x:y,y:_,initialPlacement:i,placement:b,strategy:a,middlewareData:w,rects:p,platform:c,elements:{reference:n,floating:e}});y=F??y,_=q??_,w={...w,[D]:{...w[D],...H}},K&&R<=50&&(R++,typeof K=="object"&&(K.placement&&(b=K.placement),K.rects&&(p=K.rects===!0?await c.getElementRects({reference:n,floating:e,strategy:a}):K.rects),{x:y,y:_}=uw(p,b,m)),C=-1)}return{x:y,y:_,placement:b,strategy:a,middlewareData:w}};async function Gd(n,e){var t;e===void 0&&(e={});const{x:i,y:a,platform:l,rects:c,elements:h,strategy:m}=n,{boundary:p="clippingAncestors",rootBoundary:y="viewport",elementContext:_="floating",altBoundary:b=!1,padding:w=0}=Dl(e,n),R=YP(w),D=h[b?_==="floating"?"reference":"floating":_],B=ld(await l.getClippingRect({element:(t=await(l.isElement==null?void 0:l.isElement(D)))==null||t?D:D.contextElement||await(l.getDocumentElement==null?void 0:l.getDocumentElement(h.floating)),boundary:p,rootBoundary:y,strategy:m})),F=_==="floating"?{x:i,y:a,width:c.floating.width,height:c.floating.height}:c.reference,q=await(l.getOffsetParent==null?void 0:l.getOffsetParent(h.floating)),H=await(l.isElement==null?void 0:l.isElement(q))?await(l.getScale==null?void 0:l.getScale(q))||{x:1,y:1}:{x:1,y:1},K=ld(l.convertOffsetParentRelativeRectToViewportRelativeRect?await l.convertOffsetParentRelativeRectToViewportRelativeRect({elements:h,rect:F,offsetParent:q,strategy:m}):F);return{top:(B.top-K.top+R.top)/H.y,bottom:(K.bottom-B.bottom+R.bottom)/H.y,left:(B.left-K.left+R.left)/H.x,right:(K.right-B.right+R.right)/H.x}}const KP=function(n){return n===void 0&&(n={}),{name:"flip",options:n,async fn(e){var t,i;const{placement:a,middlewareData:l,rects:c,initialPlacement:h,platform:m,elements:p}=e,{mainAxis:y=!0,crossAxis:_=!0,fallbackPlacements:b,fallbackStrategy:w="bestFit",fallbackAxisSideDirection:R="none",flipAlignment:C=!0,...D}=Dl(n,e);if((t=l.arrow)!=null&&t.alignmentOffset)return{};const B=js(a),F=Ds(h),q=js(h)===h,H=await(m.isRTL==null?void 0:m.isRTL(p.floating)),K=b||(q||!C?[od(h)]:BP(h)),ee=R!=="none";!b&&ee&&K.push(...HP(h,C,R,H));const N=[h,...K],x=await Gd(e,D),O=[];let M=((i=l.flip)==null?void 0:i.overflows)||[];if(y&&O.push(x[B]),_){const De=zP(a,c,H);O.push(x[De[0]],x[De[1]])}if(M=[...M,{placement:a,overflows:O}],!O.every(De=>De<=0)){var V,z;const De=(((V=l.flip)==null?void 0:V.index)||0)+1,Z=N[De];if(Z){var k;const ce=_==="alignment"?F!==Ds(Z):!1,le=((k=M[0])==null?void 0:k.overflows[0])>0;if(!ce||le)return{data:{index:De,overflows:M},reset:{placement:Z}}}let ue=(z=M.filter(ce=>ce.overflows[0]<=0).sort((ce,le)=>ce.overflows[1]-le.overflows[1])[0])==null?void 0:z.placement;if(!ue)switch(w){case"bestFit":{var ke;const ce=(ke=M.filter(le=>{if(ee){const L=Ds(le.placement);return L===F||L==="y"}return!0}).map(le=>[le.placement,le.overflows.filter(L=>L>0).reduce((L,re)=>L+re,0)]).sort((le,L)=>le[1]-L[1])[0])==null?void 0:ke[0];ce&&(ue=ce);break}case"initialPlacement":ue=h;break}if(a!==ue)return{reset:{placement:ue}}}return{}}}};async function QP(n,e){const{placement:t,platform:i,elements:a}=n,l=await(i.isRTL==null?void 0:i.isRTL(a.floating)),c=js(t),h=$c(t),m=Ds(t)==="y",p=["left","top"].includes(c)?-1:1,y=l&&m?-1:1,_=Dl(e,n);let{mainAxis:b,crossAxis:w,alignmentAxis:R}=typeof _=="number"?{mainAxis:_,crossAxis:0,alignmentAxis:null}:{mainAxis:_.mainAxis||0,crossAxis:_.crossAxis||0,alignmentAxis:_.alignmentAxis};return h&&typeof R=="number"&&(w=h==="end"?R*-1:R),m?{x:w*y,y:b*p}:{x:b*p,y:w*y}}const WP=function(n){return n===void 0&&(n=0),{name:"offset",options:n,async fn(e){var t,i;const{x:a,y:l,placement:c,middlewareData:h}=e,m=await QP(e,n);return c===((t=h.offset)==null?void 0:t.placement)&&(i=h.arrow)!=null&&i.alignmentOffset?{}:{x:a+m.x,y:l+m.y,data:{...m,placement:c}}}}},XP=function(n){return n===void 0&&(n={}),{name:"shift",options:n,async fn(e){const{x:t,y:i,placement:a}=e,{mainAxis:l=!0,crossAxis:c=!1,limiter:h={fn:D=>{let{x:B,y:F}=D;return{x:B,y:F}}},...m}=Dl(n,e),p={x:t,y:i},y=await Gd(e,m),_=Ds(js(a)),b=iR(_);let w=p[b],R=p[_];if(l){const D=b==="y"?"top":"left",B=b==="y"?"bottom":"right",F=w+y[D],q=w-y[B];w=lw(F,w,q)}if(c){const D=_==="y"?"top":"left",B=_==="y"?"bottom":"right",F=R+y[D],q=R-y[B];R=lw(F,R,q)}const C=h.fn({...e,[b]:w,[_]:R});return{...C,data:{x:C.x-t,y:C.y-i,enabled:{[b]:l,[_]:c}}}}}},ZP=function(n){return n===void 0&&(n={}),{name:"size",options:n,async fn(e){var t,i;const{placement:a,rects:l,platform:c,elements:h}=e,{apply:m=()=>{},...p}=Dl(n,e),y=await Gd(e,p),_=js(a),b=$c(a),w=Ds(a)==="y",{width:R,height:C}=l.floating;let D,B;_==="top"||_==="bottom"?(D=_,B=b===(await(c.isRTL==null?void 0:c.isRTL(h.floating))?"start":"end")?"left":"right"):(B=_,D=b==="end"?"top":"bottom");const F=C-y.top-y.bottom,q=R-y.left-y.right,H=Ba(C-y[D],F),K=Ba(R-y[B],q),ee=!e.middlewareData.shift;let N=H,x=K;if((t=e.middlewareData.shift)!=null&&t.enabled.x&&(x=q),(i=e.middlewareData.shift)!=null&&i.enabled.y&&(N=F),ee&&!b){const M=pn(y.left,0),V=pn(y.right,0),z=pn(y.top,0),k=pn(y.bottom,0);w?x=R-2*(M!==0||V!==0?M+V:pn(y.left,y.right)):N=C-2*(z!==0||k!==0?z+k:pn(y.top,y.bottom))}await m({...e,availableWidth:x,availableHeight:N});const O=await c.getDimensions(h.floating);return R!==O.width||C!==O.height?{reset:{rects:!0}}:{}}}};function oR(n){const e=wr(n);let t=parseFloat(e.width)||0,i=parseFloat(e.height)||0;const a=Jr(n),l=a?n.offsetWidth:t,c=a?n.offsetHeight:i,h=Tc(t)!==l||Tc(i)!==c;return h&&(t=l,i=c),{width:t,height:i,$:h}}function Pv(n){return Tn(n)?n:n.contextElement}function al(n){const e=Pv(n);if(!Jr(e))return Wr(1);const t=e.getBoundingClientRect(),{width:i,height:a,$:l}=oR(e);let c=(l?Tc(t.width):t.width)/i,h=(l?Tc(t.height):t.height)/a;return(!c||!Number.isFinite(c))&&(c=1),(!h||!Number.isFinite(h))&&(h=1),{x:c,y:h}}const JP=Wr(0);function lR(n){const e=$n(n);return!kv()||!e.visualViewport?JP:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function e3(n,e,t){return e===void 0&&(e=!1),!t||e&&t!==$n(n)?!1:e}function $a(n,e,t,i){e===void 0&&(e=!1),t===void 0&&(t=!1);const a=n.getBoundingClientRect(),l=Pv(n);let c=Wr(1);e&&(i?Tn(i)&&(c=al(i)):c=al(n));const h=e3(l,t,i)?lR(l):Wr(0);let m=(a.left+h.x)/c.x,p=(a.top+h.y)/c.y,y=a.width/c.x,_=a.height/c.y;if(l){const b=$n(l),w=i&&Tn(i)?$n(i):i;let R=b,C=_y(R);for(;C&&i&&w!==R;){const D=al(C),B=C.getBoundingClientRect(),F=wr(C),q=B.left+(C.clientLeft+parseFloat(F.paddingLeft))*D.x,H=B.top+(C.clientTop+parseFloat(F.paddingTop))*D.y;m*=D.x,p*=D.y,y*=D.x,_*=D.y,m+=q,p+=H,R=$n(C),C=_y(R)}}return ld({width:y,height:_,x:m,y:p})}function Lv(n,e){const t=Yd(n).scrollLeft;return e?e.left+t:$a(ei(n)).left+t}function uR(n,e,t){t===void 0&&(t=!1);const i=n.getBoundingClientRect(),a=i.left+e.scrollLeft-(t?0:Lv(n,i)),l=i.top+e.scrollTop;return{x:a,y:l}}function t3(n){let{elements:e,rect:t,offsetParent:i,strategy:a}=n;const l=a==="fixed",c=ei(i),h=e?qd(e.floating):!1;if(i===c||h&&l)return t;let m={scrollLeft:0,scrollTop:0},p=Wr(1);const y=Wr(0),_=Jr(i);if((_||!_&&!l)&&((Cl(i)!=="body"||Bc(c))&&(m=Yd(i)),Jr(i))){const w=$a(i);p=al(i),y.x=w.x+i.clientLeft,y.y=w.y+i.clientTop}const b=c&&!_&&!l?uR(c,m,!0):Wr(0);return{width:t.width*p.x,height:t.height*p.y,x:t.x*p.x-m.scrollLeft*p.x+y.x+b.x,y:t.y*p.y-m.scrollTop*p.y+y.y+b.y}}function n3(n){return Array.from(n.getClientRects())}function r3(n){const e=ei(n),t=Yd(n),i=n.ownerDocument.body,a=pn(e.scrollWidth,e.clientWidth,i.scrollWidth,i.clientWidth),l=pn(e.scrollHeight,e.clientHeight,i.scrollHeight,i.clientHeight);let c=-t.scrollLeft+Lv(n);const h=-t.scrollTop;return wr(i).direction==="rtl"&&(c+=pn(e.clientWidth,i.clientWidth)-a),{width:a,height:l,x:c,y:h}}function i3(n,e){const t=$n(n),i=ei(n),a=t.visualViewport;let l=i.clientWidth,c=i.clientHeight,h=0,m=0;if(a){l=a.width,c=a.height;const p=kv();(!p||p&&e==="fixed")&&(h=a.offsetLeft,m=a.offsetTop)}return{width:l,height:c,x:h,y:m}}function s3(n,e){const t=$a(n,!0,e==="fixed"),i=t.top+n.clientTop,a=t.left+n.clientLeft,l=Jr(n)?al(n):Wr(1),c=n.clientWidth*l.x,h=n.clientHeight*l.y,m=a*l.x,p=i*l.y;return{width:c,height:h,x:m,y:p}}function cw(n,e,t){let i;if(e==="viewport")i=i3(n,t);else if(e==="document")i=r3(ei(n));else if(Tn(e))i=s3(e,t);else{const a=lR(n);i={x:e.x-a.x,y:e.y-a.y,width:e.width,height:e.height}}return ld(i)}function cR(n,e){const t=Us(n);return t===e||!Tn(t)||yl(t)?!1:wr(t).position==="fixed"||cR(t,e)}function a3(n,e){const t=e.get(n);if(t)return t;let i=Ec(n,[],!1).filter(h=>Tn(h)&&Cl(h)!=="body"),a=null;const l=wr(n).position==="fixed";let c=l?Us(n):n;for(;Tn(c)&&!yl(c);){const h=wr(c),m=Mv(c);!m&&h.position==="fixed"&&(a=null),(l?!m&&!a:!m&&h.position==="static"&&!!a&&["absolute","fixed"].includes(a.position)||Bc(c)&&!m&&cR(n,c))?i=i.filter(y=>y!==c):a=h,c=Us(c)}return e.set(n,i),i}function o3(n){let{element:e,boundary:t,rootBoundary:i,strategy:a}=n;const c=[...t==="clippingAncestors"?qd(e)?[]:a3(e,this._c):[].concat(t),i],h=c[0],m=c.reduce((p,y)=>{const _=cw(e,y,a);return p.top=pn(_.top,p.top),p.right=Ba(_.right,p.right),p.bottom=Ba(_.bottom,p.bottom),p.left=pn(_.left,p.left),p},cw(e,h,a));return{width:m.right-m.left,height:m.bottom-m.top,x:m.left,y:m.top}}function l3(n){const{width:e,height:t}=oR(n);return{width:e,height:t}}function u3(n,e,t){const i=Jr(e),a=ei(e),l=t==="fixed",c=$a(n,!0,l,e);let h={scrollLeft:0,scrollTop:0};const m=Wr(0);function p(){m.x=Lv(a)}if(i||!i&&!l)if((Cl(e)!=="body"||Bc(a))&&(h=Yd(e)),i){const w=$a(e,!0,l,e);m.x=w.x+e.clientLeft,m.y=w.y+e.clientTop}else a&&p();l&&!i&&a&&p();const y=a&&!i&&!l?uR(a,h):Wr(0),_=c.left+h.scrollLeft-m.x-y.x,b=c.top+h.scrollTop-m.y-y.y;return{x:_,y:b,width:c.width,height:c.height}}function Ag(n){return wr(n).position==="static"}function fw(n,e){if(!Jr(n)||wr(n).position==="fixed")return null;if(e)return e(n);let t=n.offsetParent;return ei(n)===t&&(t=t.ownerDocument.body),t}function fR(n,e){const t=$n(n);if(qd(n))return t;if(!Jr(n)){let a=Us(n);for(;a&&!yl(a);){if(Tn(a)&&!Ag(a))return a;a=Us(a)}return t}let i=fw(n,e);for(;i&&LP(i)&&Ag(i);)i=fw(i,e);return i&&yl(i)&&Ag(i)&&!Mv(i)?t:i||VP(n)||t}const c3=async function(n){const e=this.getOffsetParent||fR,t=this.getDimensions,i=await t(n.floating);return{reference:u3(n.reference,await e(n.floating),n.strategy),floating:{x:0,y:0,width:i.width,height:i.height}}};function f3(n){return wr(n).direction==="rtl"}const h3={convertOffsetParentRelativeRectToViewportRelativeRect:t3,getDocumentElement:ei,getClippingRect:o3,getOffsetParent:fR,getElementRects:c3,getClientRects:n3,getDimensions:l3,getScale:al,isElement:Tn,isRTL:f3};function hR(n,e){return n.x===e.x&&n.y===e.y&&n.width===e.width&&n.height===e.height}function d3(n,e){let t=null,i;const a=ei(n);function l(){var h;clearTimeout(i),(h=t)==null||h.disconnect(),t=null}function c(h,m){h===void 0&&(h=!1),m===void 0&&(m=1),l();const p=n.getBoundingClientRect(),{left:y,top:_,width:b,height:w}=p;if(h||e(),!b||!w)return;const R=Ih(_),C=Ih(a.clientWidth-(y+b)),D=Ih(a.clientHeight-(_+w)),B=Ih(y),q={rootMargin:-R+"px "+-C+"px "+-D+"px "+-B+"px",threshold:pn(0,Ba(1,m))||1};let H=!0;function K(ee){const N=ee[0].intersectionRatio;if(N!==m){if(!H)return c();N?c(!1,N):i=setTimeout(()=>{c(!1,1e-7)},1e3)}N===1&&!hR(p,n.getBoundingClientRect())&&c(),H=!1}try{t=new IntersectionObserver(K,{...q,root:a.ownerDocument})}catch{t=new IntersectionObserver(K,q)}t.observe(n)}return c(!0),l}function m3(n,e,t,i){i===void 0&&(i={});const{ancestorScroll:a=!0,ancestorResize:l=!0,elementResize:c=typeof ResizeObserver=="function",layoutShift:h=typeof IntersectionObserver=="function",animationFrame:m=!1}=i,p=Pv(n),y=a||l?[...p?Ec(p):[],...Ec(e)]:[];y.forEach(B=>{a&&B.addEventListener("scroll",t,{passive:!0}),l&&B.addEventListener("resize",t)});const _=p&&h?d3(p,t):null;let b=-1,w=null;c&&(w=new ResizeObserver(B=>{let[F]=B;F&&F.target===p&&w&&(w.unobserve(e),cancelAnimationFrame(b),b=requestAnimationFrame(()=>{var q;(q=w)==null||q.observe(e)})),t()}),p&&!m&&w.observe(p),w.observe(e));let R,C=m?$a(n):null;m&&D();function D(){const B=$a(n);C&&!hR(C,B)&&t(),C=B,R=requestAnimationFrame(D)}return t(),()=>{var B;y.forEach(F=>{a&&F.removeEventListener("scroll",t),l&&F.removeEventListener("resize",t)}),_==null||_(),(B=w)==null||B.disconnect(),w=null,m&&cancelAnimationFrame(R)}}const Rg=Gd,p3=WP,g3=XP,y3=KP,v3=ZP,_3=(n,e,t)=>{const i=new Map,a={platform:h3,...t},l={...a.platform,_c:i};return GP(n,e,{...a,platform:l})};var jh=typeof document<"u"?A.useLayoutEffect:A.useEffect;function ud(n,e){if(n===e)return!0;if(typeof n!=typeof e)return!1;if(typeof n=="function"&&n.toString()===e.toString())return!0;let t,i,a;if(n&&e&&typeof n=="object"){if(Array.isArray(n)){if(t=n.length,t!==e.length)return!1;for(i=t;i--!==0;)if(!ud(n[i],e[i]))return!1;return!0}if(a=Object.keys(n),t=a.length,t!==Object.keys(e).length)return!1;for(i=t;i--!==0;)if(!{}.hasOwnProperty.call(e,a[i]))return!1;for(i=t;i--!==0;){const l=a[i];if(!(l==="_owner"&&n.$$typeof)&&!ud(n[l],e[l]))return!1}return!0}return n!==n&&e!==e}function dR(n){return typeof window>"u"?1:(n.ownerDocument.defaultView||window).devicePixelRatio||1}function hw(n,e){const t=dR(n);return Math.round(e*t)/t}function Ig(n){const e=A.useRef(n);return jh(()=>{e.current=n}),e}function b3(n){n===void 0&&(n={});const{placement:e="bottom",strategy:t="absolute",middleware:i=[],platform:a,elements:{reference:l,floating:c}={},transform:h=!0,whileElementsMounted:m,open:p}=n,[y,_]=A.useState({x:0,y:0,strategy:t,placement:e,middlewareData:{},isPositioned:!1}),[b,w]=A.useState(i);ud(b,i)||w(i);const[R,C]=A.useState(null),[D,B]=A.useState(null),F=A.useCallback(ce=>{ce!==ee.current&&(ee.current=ce,C(ce))},[]),q=A.useCallback(ce=>{ce!==N.current&&(N.current=ce,B(ce))},[]),H=l||R,K=c||D,ee=A.useRef(null),N=A.useRef(null),x=A.useRef(y),O=m!=null,M=Ig(m),V=Ig(a),z=Ig(p),k=A.useCallback(()=>{if(!ee.current||!N.current)return;const ce={placement:e,strategy:t,middleware:b};V.current&&(ce.platform=V.current),_3(ee.current,N.current,ce).then(le=>{const L={...le,isPositioned:z.current!==!1};ke.current&&!ud(x.current,L)&&(x.current=L,Vs.flushSync(()=>{_(L)}))})},[b,e,t,V,z]);jh(()=>{p===!1&&x.current.isPositioned&&(x.current.isPositioned=!1,_(ce=>({...ce,isPositioned:!1})))},[p]);const ke=A.useRef(!1);jh(()=>(ke.current=!0,()=>{ke.current=!1}),[]),jh(()=>{if(H&&(ee.current=H),K&&(N.current=K),H&&K){if(M.current)return M.current(H,K,k);k()}},[H,K,k,M,O]);const De=A.useMemo(()=>({reference:ee,floating:N,setReference:F,setFloating:q}),[F,q]),Z=A.useMemo(()=>({reference:H,floating:K}),[H,K]),ue=A.useMemo(()=>{const ce={position:t,left:0,top:0};if(!Z.floating)return ce;const le=hw(Z.floating,y.x),L=hw(Z.floating,y.y);return h?{...ce,transform:"translate("+le+"px, "+L+"px)",...dR(Z.floating)>=1.5&&{willChange:"transform"}}:{position:t,left:le,top:L}},[t,h,Z.floating,y.x,y.y]);return A.useMemo(()=>({...y,update:k,refs:De,elements:Z,floatingStyles:ue}),[y,k,De,Z,ue])}const mR=(n,e)=>({...p3(n),options:[n,e]}),E3=(n,e)=>({...g3(n),options:[n,e]}),T3=(n,e)=>({...y3(n),options:[n,e]}),w3=(n,e)=>({...v3(n),options:[n,e]}),pR={...kg},S3=pR.useInsertionEffect,A3=S3||(n=>n());function gR(n){const e=A.useRef(()=>{});return A3(()=>{e.current=n}),A.useCallback(function(){for(var t=arguments.length,i=new Array(t),a=0;a<t;a++)i[a]=arguments[a];return e.current==null?void 0:e.current(...i)},[])}var Ey=typeof document<"u"?A.useLayoutEffect:A.useEffect;let dw=!1,R3=0;const mw=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+R3++;function I3(){const[n,e]=A.useState(()=>dw?mw():void 0);return Ey(()=>{n==null&&e(mw())},[]),A.useEffect(()=>{dw=!0},[]),n}const x3=pR.useId,C3=x3||I3;function D3(){const n=new Map;return{emit(e,t){var i;(i=n.get(e))==null||i.forEach(a=>a(t))},on(e,t){n.set(e,[...n.get(e)||[],t])},off(e,t){var i;n.set(e,((i=n.get(e))==null?void 0:i.filter(a=>a!==t))||[])}}}const O3=A.createContext(null),N3=A.createContext(null),M3=()=>{var n;return((n=A.useContext(O3))==null?void 0:n.id)||null},k3=()=>A.useContext(N3),P3="data-floating-ui-focusable";function L3(n){const{open:e=!1,onOpenChange:t,elements:i}=n,a=C3(),l=A.useRef({}),[c]=A.useState(()=>D3()),h=M3()!=null,[m,p]=A.useState(i.reference),y=gR((w,R,C)=>{l.current.openEvent=w?R:void 0,c.emit("openchange",{open:w,event:R,reason:C,nested:h}),t==null||t(w,R,C)}),_=A.useMemo(()=>({setPositionReference:p}),[]),b=A.useMemo(()=>({reference:m||i.reference||null,floating:i.floating||null,domReference:i.reference}),[m,i.reference,i.floating]);return A.useMemo(()=>({dataRef:l,open:e,onOpenChange:y,elements:b,events:c,floatingId:a,refs:_}),[e,y,b,c,a,_])}function V3(n){n===void 0&&(n={});const{nodeId:e}=n,t=L3({...n,elements:{reference:null,floating:null,...n.elements}}),i=n.rootContext||t,a=i.elements,[l,c]=A.useState(null),[h,m]=A.useState(null),y=(a==null?void 0:a.domReference)||l,_=A.useRef(null),b=k3();Ey(()=>{y&&(_.current=y)},[y]);const w=b3({...n,elements:{...a,...h&&{reference:h}}}),R=A.useCallback(q=>{const H=Tn(q)?{getBoundingClientRect:()=>q.getBoundingClientRect(),contextElement:q}:q;m(H),w.refs.setReference(H)},[w.refs]),C=A.useCallback(q=>{(Tn(q)||q===null)&&(_.current=q,c(q)),(Tn(w.refs.reference.current)||w.refs.reference.current===null||q!==null&&!Tn(q))&&w.refs.setReference(q)},[w.refs]),D=A.useMemo(()=>({...w.refs,setReference:C,setPositionReference:R,domReference:_}),[w.refs,C,R]),B=A.useMemo(()=>({...w.elements,domReference:y}),[w.elements,y]),F=A.useMemo(()=>({...w,...i,refs:D,elements:B,nodeId:e}),[w,D,B,e,i]);return Ey(()=>{i.dataRef.current.floatingContext=F;const q=b==null?void 0:b.nodesRef.current.find(H=>H.id===e);q&&(q.context=F)}),A.useMemo(()=>({...w,context:F,refs:D,elements:B}),[w,D,B,F])}const pw="active",gw="selected";function xg(n,e,t){const i=new Map,a=t==="item";let l=n;if(a&&n){const{[pw]:c,[gw]:h,...m}=n;l=m}return{...t==="floating"&&{tabIndex:-1,[P3]:""},...l,...e.map(c=>{const h=c?c[t]:null;return typeof h=="function"?n?h(n):null:h}).concat(n).reduce((c,h)=>(h&&Object.entries(h).forEach(m=>{let[p,y]=m;if(!(a&&[pw,gw].includes(p)))if(p.indexOf("on")===0){if(i.has(p)||i.set(p,[]),typeof y=="function"){var _;(_=i.get(p))==null||_.push(y),c[p]=function(){for(var b,w=arguments.length,R=new Array(w),C=0;C<w;C++)R[C]=arguments[C];return(b=i.get(p))==null?void 0:b.map(D=>D(...R)).find(D=>D!==void 0)}}}else c[p]=y}),c),{})}}function U3(n){n===void 0&&(n=[]);const e=n.map(h=>h==null?void 0:h.reference),t=n.map(h=>h==null?void 0:h.floating),i=n.map(h=>h==null?void 0:h.item),a=A.useCallback(h=>xg(h,n,"reference"),e),l=A.useCallback(h=>xg(h,n,"floating"),t),c=A.useCallback(h=>xg(h,n,"item"),i);return A.useMemo(()=>({getReferenceProps:a,getFloatingProps:l,getItemProps:c}),[a,l,c])}function yw(n,e){return{...n,rects:{...n.rects,floating:{...n.rects.floating,height:e}}}}const j3=n=>({name:"inner",options:n,async fn(e){const{listRef:t,overflowRef:i,onFallbackChange:a,offset:l=0,index:c=0,minItemsVisible:h=4,referenceOverflowThreshold:m=0,scrollRef:p,...y}=Dl(n,e),{rects:_,elements:{floating:b}}=e,w=t.current[c],R=(p==null?void 0:p.current)||b,C=b.clientTop||R.clientTop,D=b.clientTop!==0,B=R.clientTop!==0,F=b===R;if(!w)return{};const q={...e,...await mR(-w.offsetTop-b.clientTop-_.reference.height/2-w.offsetHeight/2-l).fn(e)},H=await Rg(yw(q,R.scrollHeight+C+b.clientTop),y),K=await Rg(q,{...y,elementContext:"reference"}),ee=pn(0,H.top),N=q.y+ee,M=(R.scrollHeight>R.clientHeight?V=>V:Tc)(pn(0,R.scrollHeight+(D&&F||B?C*2:0)-ee-pn(0,H.bottom)));if(R.style.maxHeight=M+"px",R.scrollTop=ee,a){const V=R.offsetHeight<w.offsetHeight*Ba(h,t.current.length)-1||K.top>=-m||K.bottom>=-m;Vs.flushSync(()=>a(V))}return i&&(i.current=await Rg(yw({...q,y:N},R.offsetHeight+C+b.clientTop),y)),{y:N}}});function F3(n,e){const{open:t,elements:i}=n,{enabled:a=!0,overflowRef:l,scrollRef:c,onChange:h}=e,m=gR(h),p=A.useRef(!1),y=A.useRef(null),_=A.useRef(null);A.useEffect(()=>{if(!a)return;function w(C){if(C.ctrlKey||!R||l.current==null)return;const D=C.deltaY,B=l.current.top>=-.5,F=l.current.bottom>=-.5,q=R.scrollHeight-R.clientHeight,H=D<0?-1:1,K=D<0?"max":"min";R.scrollHeight<=R.clientHeight||(!B&&D>0||!F&&D<0?(C.preventDefault(),Vs.flushSync(()=>{m(ee=>ee+Math[K](D,q*H))})):/firefox/i.test(UP())&&(R.scrollTop+=D))}const R=(c==null?void 0:c.current)||i.floating;if(t&&R)return R.addEventListener("wheel",w),requestAnimationFrame(()=>{y.current=R.scrollTop,l.current!=null&&(_.current={...l.current})}),()=>{y.current=null,_.current=null,R.removeEventListener("wheel",w)}},[a,t,i.floating,l,c,m]);const b=A.useMemo(()=>({onKeyDown(){p.current=!0},onWheel(){p.current=!1},onPointerMove(){p.current=!1},onScroll(){const w=(c==null?void 0:c.current)||i.floating;if(!(!l.current||!w||!p.current)){if(y.current!==null){const R=w.scrollTop-y.current;(l.current.bottom<-.5&&R<-1||l.current.top<-.5&&R>1)&&Vs.flushSync(()=>m(C=>C+R))}requestAnimationFrame(()=>{y.current=w.scrollTop})}}}),[i.floating,m,l,c]);return A.useMemo(()=>a?{floating:b}:{},[a,b])}let Ol=A.createContext({styles:void 0,setReference:()=>{},setFloating:()=>{},getReferenceProps:()=>({}),getFloatingProps:()=>({}),slot:{}});Ol.displayName="FloatingContext";let Vv=A.createContext(null);Vv.displayName="PlacementContext";function z3(n){return A.useMemo(()=>n?typeof n=="string"?{to:n}:n:null,[n])}function B3(){return A.useContext(Ol).setReference}function $3(){return A.useContext(Ol).getReferenceProps}function H3(){let{getFloatingProps:n,slot:e}=A.useContext(Ol);return A.useCallback((...t)=>Object.assign({},n(...t),{"data-anchor":e.anchor}),[n,e])}function q3(n=null){n===!1&&(n=null),typeof n=="string"&&(n={to:n});let e=A.useContext(Vv),t=A.useMemo(()=>n,[JSON.stringify(n,(a,l)=>{var c;return(c=l==null?void 0:l.outerHTML)!=null?c:l})]);ot(()=>{e==null||e(t??null)},[e,t]);let i=A.useContext(Ol);return A.useMemo(()=>[i.setFloating,n?i.styles:{}],[i.setFloating,n,i.styles])}let vw=4;function Y3({children:n,enabled:e=!0}){let[t,i]=A.useState(null),[a,l]=A.useState(0),c=A.useRef(null),[h,m]=A.useState(null);G3(h);let p=e&&t!==null&&h!==null,{to:y="bottom",gap:_=0,offset:b=0,padding:w=0,inner:R}=K3(t,h),[C,D="center"]=y.split(" ");ot(()=>{p&&l(0)},[p]);let{refs:B,floatingStyles:F,context:q}=V3({open:p,placement:C==="selection"?D==="center"?"bottom":`bottom-${D}`:D==="center"?`${C}`:`${C}-${D}`,strategy:"absolute",transform:!1,middleware:[mR({mainAxis:C==="selection"?0:_,crossAxis:b}),E3({padding:w}),C!=="selection"&&T3({padding:w}),C==="selection"&&R?j3({...R,padding:w,overflowRef:c,offset:a,minItemsVisible:vw,referenceOverflowThreshold:w,onFallbackChange(V){var z,k;if(!V)return;let ke=q.elements.floating;if(!ke)return;let De=parseFloat(getComputedStyle(ke).scrollPaddingBottom)||0,Z=Math.min(vw,ke.childElementCount),ue=0,ce=0;for(let le of(k=(z=q.elements.floating)==null?void 0:z.childNodes)!=null?k:[])if(qn(le)){let L=le.offsetTop,re=L+le.clientHeight+De,fe=ke.scrollTop,te=fe+ke.clientHeight;if(L>=fe&&re<=te)Z--;else{ce=Math.max(0,Math.min(re,te)-Math.max(L,fe)),ue=le.clientHeight;break}}Z>=1&&l(le=>{let L=ue*Z-ce+De;return le>=L?le:L})}}):null,w3({padding:w,apply({availableWidth:V,availableHeight:z,elements:k}){Object.assign(k.floating.style,{overflow:"auto",maxWidth:`${V}px`,maxHeight:`min(var(--anchor-max-height, 100vh), ${z}px)`})}})].filter(Boolean),whileElementsMounted:m3}),[H=C,K=D]=q.placement.split("-");C==="selection"&&(H="selection");let ee=A.useMemo(()=>({anchor:[H,K].filter(Boolean).join(" ")}),[H,K]),N=F3(q,{overflowRef:c,onChange:l}),{getReferenceProps:x,getFloatingProps:O}=U3([N]),M=xe(V=>{m(V),B.setFloating(V)});return A.createElement(Vv.Provider,{value:i},A.createElement(Ol.Provider,{value:{setFloating:M,setReference:B.setReference,styles:F,getReferenceProps:x,getFloatingProps:O,slot:ee}},n))}function G3(n){ot(()=>{if(!n)return;let e=new MutationObserver(()=>{let t=window.getComputedStyle(n).maxHeight,i=parseFloat(t);if(isNaN(i))return;let a=parseInt(t);isNaN(a)||i!==a&&(n.style.maxHeight=`${Math.ceil(i)}px`)});return e.observe(n,{attributes:!0,attributeFilter:["style"]}),()=>{e.disconnect()}},[n])}function K3(n,e){var t,i,a;let l=Cg((t=n==null?void 0:n.gap)!=null?t:"var(--anchor-gap, 0)",e),c=Cg((i=n==null?void 0:n.offset)!=null?i:"var(--anchor-offset, 0)",e),h=Cg((a=n==null?void 0:n.padding)!=null?a:"var(--anchor-padding, 0)",e);return{...n,gap:l,offset:c,padding:h}}function Cg(n,e,t=void 0){let i=xl(),a=xe((m,p)=>{if(m==null)return[t,null];if(typeof m=="number")return[m,null];if(typeof m=="string"){if(!p)return[t,null];let y=_w(m,p);return[y,_=>{let b=yR(m);{let w=b.map(R=>window.getComputedStyle(p).getPropertyValue(R));i.requestAnimationFrame(function R(){i.nextFrame(R);let C=!1;for(let[B,F]of b.entries()){let q=window.getComputedStyle(p).getPropertyValue(F);if(w[B]!==q){w[B]=q,C=!0;break}}if(!C)return;let D=_w(m,p);y!==D&&(_(D),y=D)})}return i.dispose}]}return[t,null]}),l=A.useMemo(()=>a(n,e)[0],[n,e]),[c=l,h]=A.useState();return ot(()=>{let[m,p]=a(n,e);if(h(m),!!p)return p(h)},[n,e]),c}function yR(n){let e=/var\((.*)\)/.exec(n);if(e){let t=e[1].indexOf(",");if(t===-1)return[e[1]];let i=e[1].slice(0,t).trim(),a=e[1].slice(t+1).trim();return a?[i,...yR(a)]:[i]}return[]}function _w(n,e){let t=document.createElement("div");e.appendChild(t),t.style.setProperty("margin-top","0px","important"),t.style.setProperty("margin-top",n,"important");let i=parseFloat(window.getComputedStyle(t).marginTop)||0;return e.removeChild(t),i}let Kd=A.createContext(null);Kd.displayName="OpenClosedContext";var wn=(n=>(n[n.Open=1]="Open",n[n.Closed=2]="Closed",n[n.Closing=4]="Closing",n[n.Opening=8]="Opening",n))(wn||{});function Hc(){return A.useContext(Kd)}function vR({value:n,children:e}){return Ee.createElement(Kd.Provider,{value:n},e)}function Q3({children:n}){return Ee.createElement(Kd.Provider,{value:null},n)}function W3(n){function e(){document.readyState!=="loading"&&(n(),document.removeEventListener("DOMContentLoaded",e))}typeof window<"u"&&typeof document<"u"&&(document.addEventListener("DOMContentLoaded",e),e())}let _s=[];W3(()=>{function n(e){if(!Hr(e.target)||e.target===document.body||_s[0]===e.target)return;let t=e.target;t=t.closest(ad),_s.unshift(t??e.target),_s=_s.filter(i=>i!=null&&i.isConnected),_s.splice(10)}window.addEventListener("click",n,{capture:!0}),window.addEventListener("mousedown",n,{capture:!0}),window.addEventListener("focus",n,{capture:!0}),document.body.addEventListener("click",n,{capture:!0}),document.body.addEventListener("mousedown",n,{capture:!0}),document.body.addEventListener("focus",n,{capture:!0})});function X3(n){throw new Error("Unexpected object: "+n)}var At=(n=>(n[n.First=0]="First",n[n.Previous=1]="Previous",n[n.Next=2]="Next",n[n.Last=3]="Last",n[n.Specific=4]="Specific",n[n.Nothing=5]="Nothing",n))(At||{});function xh(n,e){let t=e.resolveItems();if(t.length<=0)return null;let i=e.resolveActiveIndex(),a=i??-1;switch(n.focus){case 0:{for(let l=0;l<t.length;++l)if(!e.resolveDisabled(t[l],l,t))return l;return i}case 1:{a===-1&&(a=t.length);for(let l=a-1;l>=0;--l)if(!e.resolveDisabled(t[l],l,t))return l;return i}case 2:{for(let l=a+1;l<t.length;++l)if(!e.resolveDisabled(t[l],l,t))return l;return i}case 3:{for(let l=t.length-1;l>=0;--l)if(!e.resolveDisabled(t[l],l,t))return l;return i}case 4:{for(let l=0;l<t.length;++l)if(e.resolveId(t[l],l,t)===n.id)return l;return i}case 5:return null;default:X3(n)}}function Uv(n){let e=xe(n),t=A.useRef(!1);A.useEffect(()=>(t.current=!1,()=>{t.current=!0,zd(()=>{t.current&&e()})}),[e])}function Z3(){let n=typeof document>"u";return"useSyncExternalStore"in kg?(e=>e.useSyncExternalStore)(kg)(()=>()=>{},()=>!1,()=>!n):!1}function qc(){let n=Z3(),[e,t]=A.useState(ka.isHandoffComplete);return e&&ka.isHandoffComplete===!1&&t(!1),A.useEffect(()=>{e!==!0&&t(!0)},[e]),A.useEffect(()=>ka.handoff(),[]),n?!1:e}let _R=A.createContext(!1);function J3(){return A.useContext(_R)}function bw(n){return Ee.createElement(_R.Provider,{value:n.force},n.children)}function eL(n){let e=J3(),t=A.useContext(ER),[i,a]=A.useState(()=>{var l;if(!e&&t!==null)return(l=t.current)!=null?l:null;if(ka.isServer)return null;let c=n==null?void 0:n.getElementById("headlessui-portal-root");if(c)return c;if(n===null)return null;let h=n.createElement("div");return h.setAttribute("id","headlessui-portal-root"),n.body.appendChild(h)});return A.useEffect(()=>{i!==null&&(n!=null&&n.body.contains(i)||n==null||n.body.appendChild(i))},[i,n]),A.useEffect(()=>{e||t!==null&&a(t.current)},[t,a,e]),i}let bR=A.Fragment,tL=bt(function(n,e){let{ownerDocument:t=null,...i}=n,a=A.useRef(null),l=An(j4(w=>{a.current=w}),e),c=gl(a),h=t??c,m=eL(h),[p]=A.useState(()=>{var w;return ka.isServer?null:(w=h==null?void 0:h.createElement("div"))!=null?w:null}),y=A.useContext(Ty),_=qc();ot(()=>{!m||!p||m.contains(p)||(p.setAttribute("data-headlessui-portal",""),m.appendChild(p))},[m,p]),ot(()=>{if(p&&y)return y.register(p)},[y,p]),Uv(()=>{var w;!m||!p||(Iv(p)&&m.contains(p)&&m.removeChild(p),m.childNodes.length<=0&&((w=m.parentElement)==null||w.removeChild(m)))});let b=kt();return _?!m||!p?null:Vs.createPortal(b({ourProps:{ref:l},theirProps:i,slot:{},defaultTag:bR,name:"Portal"}),p):null});function nL(n,e){let t=An(e),{enabled:i=!0,ownerDocument:a,...l}=n,c=kt();return i?Ee.createElement(tL,{...l,ownerDocument:a,ref:t}):c({ourProps:{ref:t},theirProps:l,slot:{},defaultTag:bR,name:"Portal"})}let rL=A.Fragment,ER=A.createContext(null);function iL(n,e){let{target:t,...i}=n,a={ref:An(e)},l=kt();return Ee.createElement(ER.Provider,{value:t},l({ourProps:a,theirProps:i,defaultTag:rL,name:"Popover.Group"}))}let Ty=A.createContext(null);function sL(){let n=A.useContext(Ty),e=A.useRef([]),t=xe(l=>(e.current.push(l),n&&n.register(l),()=>i(l))),i=xe(l=>{let c=e.current.indexOf(l);c!==-1&&e.current.splice(c,1),n&&n.unregister(l)}),a=A.useMemo(()=>({register:t,unregister:i,portals:e}),[t,i,e]);return[e,A.useMemo(()=>function({children:l}){return Ee.createElement(Ty.Provider,{value:a},l)},[a])]}let aL=bt(nL),TR=bt(iL),wR=Object.assign(aL,{Group:TR});function oL(n,e=typeof document<"u"?document.defaultView:null,t){let i=zc(n,"escape");ZA(e,"keydown",a=>{i&&(a.defaultPrevented||a.key===Gt.Escape&&t(a))})}function lL(){var n;let[e]=A.useState(()=>typeof window<"u"&&typeof window.matchMedia=="function"?window.matchMedia("(pointer: coarse)"):null),[t,i]=A.useState((n=e==null?void 0:e.matches)!=null?n:!1);return ot(()=>{if(!e)return;function a(l){i(l.matches)}return e.addEventListener("change",a),()=>e.removeEventListener("change",a)},[e]),t}function uL({defaultContainers:n=[],portals:e,mainTreeNode:t}={}){let i=gl(t),a=xe(()=>{var l,c;let h=[];for(let m of n)m!==null&&(Ni(m)?h.push(m):"current"in m&&Ni(m.current)&&h.push(m.current));if(e!=null&&e.current)for(let m of e.current)h.push(m);for(let m of(l=i==null?void 0:i.querySelectorAll("html > *, body > *"))!=null?l:[])m!==document.body&&m!==document.head&&Ni(m)&&m.id!=="headlessui-portal-root"&&(t&&(m.contains(t)||m.contains((c=t==null?void 0:t.getRootNode())==null?void 0:c.host))||h.some(p=>m.contains(p))||h.push(m));return h});return{resolveContainers:a,contains:xe(l=>a().some(c=>c.contains(l)))}}let SR=A.createContext(null);function Ew({children:n,node:e}){let[t,i]=A.useState(null),a=AR(e??t);return Ee.createElement(SR.Provider,{value:a},n,a===null&&Ee.createElement(gy,{features:sd.Hidden,ref:l=>{var c,h;if(l){for(let m of(h=(c=Xa(l))==null?void 0:c.querySelectorAll("html > *, body > *"))!=null?h:[])if(m!==document.body&&m!==document.head&&Ni(m)&&m!=null&&m.contains(l)){i(m);break}}}}))}function AR(n=null){var e;return(e=A.useContext(SR))!=null?e:n}function jv(){let n=A.useRef(!1);return ot(()=>(n.current=!0,()=>{n.current=!1}),[]),n}var Xu=(n=>(n[n.Forwards=0]="Forwards",n[n.Backwards=1]="Backwards",n))(Xu||{});function cL(){let n=A.useRef(0);return WA(!0,"keydown",e=>{e.key==="Tab"&&(n.current=e.shiftKey?1:0)},!0),n}function RR(n){if(!n)return new Set;if(typeof n=="function")return new Set(n());let e=new Set;for(let t of n.current)Ni(t.current)&&e.add(t.current);return e}let fL="div";var Da=(n=>(n[n.None=0]="None",n[n.InitialFocus=1]="InitialFocus",n[n.TabLock=2]="TabLock",n[n.FocusLock=4]="FocusLock",n[n.RestoreFocus=8]="RestoreFocus",n[n.AutoFocus=16]="AutoFocus",n))(Da||{});function hL(n,e){let t=A.useRef(null),i=An(t,e),{initialFocus:a,initialFocusFallback:l,containers:c,features:h=15,...m}=n;qc()||(h=0);let p=gl(t);gL(h,{ownerDocument:p});let y=yL(h,{ownerDocument:p,container:t,initialFocus:a,initialFocusFallback:l});vL(h,{ownerDocument:p,container:t,containers:c,previousActiveElement:y});let _=cL(),b=xe(F=>{if(!qn(t.current))return;let q=t.current;(H=>H())(()=>{Tr(_.current,{[Xu.Forwards]:()=>{sl(q,gr.First,{skipElements:[F.relatedTarget,l]})},[Xu.Backwards]:()=>{sl(q,gr.Last,{skipElements:[F.relatedTarget,l]})}})})}),w=zc(!!(h&2),"focus-trap#tab-lock"),R=xl(),C=A.useRef(!1),D={ref:i,onKeyDown(F){F.key=="Tab"&&(C.current=!0,R.requestAnimationFrame(()=>{C.current=!1}))},onBlur(F){if(!(h&4))return;let q=RR(c);qn(t.current)&&q.add(t.current);let H=F.relatedTarget;Hr(H)&&H.dataset.headlessuiFocusGuard!=="true"&&(IR(q,H)||(C.current?sl(t.current,Tr(_.current,{[Xu.Forwards]:()=>gr.Next,[Xu.Backwards]:()=>gr.Previous})|gr.WrapAround,{relativeTo:F.target}):Hr(F.target)&&Qr(F.target)))}},B=kt();return Ee.createElement(Ee.Fragment,null,w&&Ee.createElement(gy,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:b,features:sd.Focusable}),B({ourProps:D,theirProps:m,defaultTag:fL,name:"FocusTrap"}),w&&Ee.createElement(gy,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:b,features:sd.Focusable}))}let dL=bt(hL),mL=Object.assign(dL,{features:Da});function pL(n=!0){let e=A.useRef(_s.slice());return Nv(([t],[i])=>{i===!0&&t===!1&&zd(()=>{e.current.splice(0)}),i===!1&&t===!0&&(e.current=_s.slice())},[n,_s,e]),xe(()=>{var t;return(t=e.current.find(i=>i!=null&&i.isConnected))!=null?t:null})}function gL(n,{ownerDocument:e}){let t=!!(n&8),i=pL(t);Nv(()=>{t||(e==null?void 0:e.activeElement)===(e==null?void 0:e.body)&&Qr(i())},[t]),Uv(()=>{t&&Qr(i())})}function yL(n,{ownerDocument:e,container:t,initialFocus:i,initialFocusFallback:a}){let l=A.useRef(null),c=zc(!!(n&1),"focus-trap#initial-focus"),h=jv();return Nv(()=>{if(n===0)return;if(!c){a!=null&&a.current&&Qr(a.current);return}let m=t.current;m&&zd(()=>{if(!h.current)return;let p=e==null?void 0:e.activeElement;if(i!=null&&i.current){if((i==null?void 0:i.current)===p){l.current=p;return}}else if(m.contains(p)){l.current=p;return}if(i!=null&&i.current)Qr(i.current);else{if(n&16){if(sl(m,gr.First|gr.AutoFocus)!==vy.Error)return}else if(sl(m,gr.First)!==vy.Error)return;if(a!=null&&a.current&&(Qr(a.current),(e==null?void 0:e.activeElement)===a.current))return;console.warn("There are no focusable elements inside the <FocusTrap />")}l.current=e==null?void 0:e.activeElement})},[a,c,n]),l}function vL(n,{ownerDocument:e,container:t,containers:i,previousActiveElement:a}){let l=jv(),c=!!(n&4);ZA(e==null?void 0:e.defaultView,"focus",h=>{if(!c||!l.current)return;let m=RR(i);qn(t.current)&&m.add(t.current);let p=a.current;if(!p)return;let y=h.target;qn(y)?IR(m,y)?(a.current=y,Qr(y)):(h.preventDefault(),h.stopPropagation(),Qr(p)):Qr(a.current)},!0)}function IR(n,e){for(let t of n)if(t.contains(e))return!0;return!1}function xR(n){var e;return!!(n.enter||n.enterFrom||n.enterTo||n.leave||n.leaveFrom||n.leaveTo)||((e=n.as)!=null?e:DR)!==A.Fragment||Ee.Children.count(n.children)===1}let Qd=A.createContext(null);Qd.displayName="TransitionContext";var _L=(n=>(n.Visible="visible",n.Hidden="hidden",n))(_L||{});function bL(){let n=A.useContext(Qd);if(n===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return n}function EL(){let n=A.useContext(Wd);if(n===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return n}let Wd=A.createContext(null);Wd.displayName="NestingContext";function Xd(n){return"children"in n?Xd(n.children):n.current.filter(({el:e})=>e.current!==null).filter(({state:e})=>e==="visible").length>0}function CR(n,e){let t=Za(n),i=A.useRef([]),a=jv(),l=xl(),c=xe((w,R=Es.Hidden)=>{let C=i.current.findIndex(({el:D})=>D===w);C!==-1&&(Tr(R,{[Es.Unmount](){i.current.splice(C,1)},[Es.Hidden](){i.current[C].state="hidden"}}),l.microTask(()=>{var D;!Xd(i)&&a.current&&((D=t.current)==null||D.call(t))}))}),h=xe(w=>{let R=i.current.find(({el:C})=>C===w);return R?R.state!=="visible"&&(R.state="visible"):i.current.push({el:w,state:"visible"}),()=>c(w,Es.Unmount)}),m=A.useRef([]),p=A.useRef(Promise.resolve()),y=A.useRef({enter:[],leave:[]}),_=xe((w,R,C)=>{m.current.splice(0),e&&(e.chains.current[R]=e.chains.current[R].filter(([D])=>D!==w)),e==null||e.chains.current[R].push([w,new Promise(D=>{m.current.push(D)})]),e==null||e.chains.current[R].push([w,new Promise(D=>{Promise.all(y.current[R].map(([B,F])=>F)).then(()=>D())})]),R==="enter"?p.current=p.current.then(()=>e==null?void 0:e.wait.current).then(()=>C(R)):C(R)}),b=xe((w,R,C)=>{Promise.all(y.current[R].splice(0).map(([D,B])=>B)).then(()=>{var D;(D=m.current.shift())==null||D()}).then(()=>C(R))});return A.useMemo(()=>({children:i,register:h,unregister:c,onStart:_,onStop:b,wait:p,chains:y}),[h,c,i,_,b,y,p])}let DR=A.Fragment,OR=pl.RenderStrategy;function TL(n,e){var t,i;let{transition:a=!0,beforeEnter:l,afterEnter:c,beforeLeave:h,afterLeave:m,enter:p,enterFrom:y,enterTo:_,entered:b,leave:w,leaveFrom:R,leaveTo:C,...D}=n,[B,F]=A.useState(null),q=A.useRef(null),H=xR(n),K=An(...H?[q,e,F]:e===null?[]:[e]),ee=(t=D.unmount)==null||t?Es.Unmount:Es.Hidden,{show:N,appear:x,initial:O}=bL(),[M,V]=A.useState(N?"visible":"hidden"),z=EL(),{register:k,unregister:ke}=z;ot(()=>k(q),[k,q]),ot(()=>{if(ee===Es.Hidden&&q.current){if(N&&M!=="visible"){V("visible");return}return Tr(M,{hidden:()=>ke(q),visible:()=>k(q)})}},[M,q,k,ke,N,ee]);let De=qc();ot(()=>{if(H&&De&&M==="visible"&&q.current===null)throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")},[q,M,De,H]);let Z=O&&!x,ue=x&&N&&O,ce=A.useRef(!1),le=CR(()=>{ce.current||(V("hidden"),ke(q))},z),L=xe(gt=>{ce.current=!0;let Qe=gt?"enter":"leave";le.onStart(q,Qe,an=>{an==="enter"?l==null||l():an==="leave"&&(h==null||h())})}),re=xe(gt=>{let Qe=gt?"enter":"leave";ce.current=!1,le.onStop(q,Qe,an=>{an==="enter"?c==null||c():an==="leave"&&(m==null||m())}),Qe==="leave"&&!Xd(le)&&(V("hidden"),ke(q))});A.useEffect(()=>{H&&a||(L(N),re(N))},[N,H,a]);let fe=!(!a||!H||!De||Z),[,te]=tR(fe,B,N,{start:L,end:re}),ve=Ca({ref:K,className:((i=py(D.className,ue&&p,ue&&y,te.enter&&p,te.enter&&te.closed&&y,te.enter&&!te.closed&&_,te.leave&&w,te.leave&&!te.closed&&R,te.leave&&te.closed&&C,!te.transition&&N&&b))==null?void 0:i.trim())||void 0,...eR(te)}),Oe=0;M==="visible"&&(Oe|=wn.Open),M==="hidden"&&(Oe|=wn.Closed),N&&M==="hidden"&&(Oe|=wn.Opening),!N&&M==="visible"&&(Oe|=wn.Closing);let Re=kt();return Ee.createElement(Wd.Provider,{value:le},Ee.createElement(vR,{value:Oe},Re({ourProps:ve,theirProps:D,defaultTag:DR,features:OR,visible:M==="visible",name:"Transition.Child"})))}function wL(n,e){let{show:t,appear:i=!1,unmount:a=!0,...l}=n,c=A.useRef(null),h=xR(n),m=An(...h?[c,e]:e===null?[]:[e]);qc();let p=Hc();if(t===void 0&&p!==null&&(t=(p&wn.Open)===wn.Open),t===void 0)throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");let[y,_]=A.useState(t?"visible":"hidden"),b=CR(()=>{t||_("hidden")}),[w,R]=A.useState(!0),C=A.useRef([t]);ot(()=>{w!==!1&&C.current[C.current.length-1]!==t&&(C.current.push(t),R(!1))},[C,t]);let D=A.useMemo(()=>({show:t,appear:i,initial:w}),[t,i,w]);ot(()=>{t?_("visible"):!Xd(b)&&c.current!==null&&_("hidden")},[t,b]);let B={unmount:a},F=xe(()=>{var K;w&&R(!1),(K=n.beforeEnter)==null||K.call(n)}),q=xe(()=>{var K;w&&R(!1),(K=n.beforeLeave)==null||K.call(n)}),H=kt();return Ee.createElement(Wd.Provider,{value:b},Ee.createElement(Qd.Provider,{value:D},H({ourProps:{...B,as:A.Fragment,children:Ee.createElement(NR,{ref:m,...B,...l,beforeEnter:F,beforeLeave:q})},theirProps:{},defaultTag:A.Fragment,features:OR,visible:y==="visible",name:"Transition"})))}function SL(n,e){let t=A.useContext(Qd)!==null,i=Hc()!==null;return Ee.createElement(Ee.Fragment,null,!t&&i?Ee.createElement(wy,{ref:e,...n}):Ee.createElement(NR,{ref:e,...n}))}let wy=bt(wL),NR=bt(TL),Ha=bt(SL),Zd=Object.assign(wy,{Child:Ha,Root:wy});var AL=(n=>(n[n.Open=0]="Open",n[n.Closed=1]="Closed",n))(AL||{}),RL=(n=>(n[n.SetTitleId=0]="SetTitleId",n))(RL||{});let IL={0(n,e){return n.titleId===e.id?n:{...n,titleId:e.id}}},Fv=A.createContext(null);Fv.displayName="DialogContext";function Jd(n){let e=A.useContext(Fv);if(e===null){let t=new Error(`<${n} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,Jd),t}return e}function xL(n,e){return Tr(e.type,IL,n,e)}let Tw=bt(function(n,e){let t=A.useId(),{id:i=`headlessui-dialog-${t}`,open:a,onClose:l,initialFocus:c,role:h="dialog",autoFocus:m=!0,__demoMode:p=!1,unmount:y=!1,..._}=n,b=A.useRef(!1);h=function(){return h==="dialog"||h==="alertdialog"?h:(b.current||(b.current=!0,console.warn(`Invalid role [${h}] passed to <Dialog />. Only \`dialog\` and and \`alertdialog\` are supported. Using \`dialog\` instead.`)),"dialog")}();let w=Hc();a===void 0&&w!==null&&(a=(w&wn.Open)===wn.Open);let R=A.useRef(null),C=An(R,e),D=gl(R),B=a?0:1,[F,q]=A.useReducer(xL,{titleId:null,descriptionId:null,panelRef:A.createRef()}),H=xe(()=>l(!1)),K=xe(te=>q({type:0,id:te})),ee=qc()?B===0:!1,[N,x]=sL(),O={get current(){var te;return(te=F.panelRef.current)!=null?te:R.current}},M=AR(),{resolveContainers:V}=uL({mainTreeNode:M,portals:N,defaultContainers:[O]}),z=w!==null?(w&wn.Closing)===wn.Closing:!1;HA(p||z?!1:ee,{allowed:xe(()=>{var te,ve;return[(ve=(te=R.current)==null?void 0:te.closest("[data-headlessui-portal]"))!=null?ve:null]}),disallowed:xe(()=>{var te;return[(te=M==null?void 0:M.closest("body > *:not(#headlessui-portal-root)"))!=null?te:null]})});let k=$d.get(null);ot(()=>{if(ee)return k.actions.push(i),()=>k.actions.pop(i)},[k,i,ee]);let ke=vr(k,A.useCallback(te=>k.selectors.isTop(te,i),[k,i]));XA(ke,V,te=>{te.preventDefault(),H()}),oL(ke,D==null?void 0:D.defaultView,te=>{te.preventDefault(),te.stopPropagation(),document.activeElement&&"blur"in document.activeElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur(),H()}),JA(p||z?!1:ee,D,V),qA(ee,R,H);let[De,Z]=LA(),ue=A.useMemo(()=>[{dialogState:B,close:H,setTitleId:K,unmount:y},F],[B,F,H,K,y]),ce=A.useMemo(()=>({open:B===0}),[B]),le={ref:C,id:i,role:h,tabIndex:-1,"aria-modal":p?void 0:B===0?!0:void 0,"aria-labelledby":F.titleId,"aria-describedby":De,unmount:y},L=!lL(),re=Da.None;ee&&!p&&(re|=Da.RestoreFocus,re|=Da.TabLock,m&&(re|=Da.AutoFocus),L&&(re|=Da.InitialFocus));let fe=kt();return Ee.createElement(Q3,null,Ee.createElement(bw,{force:!0},Ee.createElement(wR,null,Ee.createElement(Fv.Provider,{value:ue},Ee.createElement(TR,{target:R},Ee.createElement(bw,{force:!1},Ee.createElement(Z,{slot:ce},Ee.createElement(x,null,Ee.createElement(mL,{initialFocus:c,initialFocusFallback:R,containers:V,features:re},Ee.createElement(Q4,{value:H},fe({ourProps:le,theirProps:_,slot:ce,defaultTag:CL,features:DL,visible:B===0,name:"Dialog"})))))))))))}),CL="div",DL=pl.RenderStrategy|pl.Static;function OL(n,e){let{transition:t=!1,open:i,...a}=n,l=Hc(),c=n.hasOwnProperty("open")||l!==null,h=n.hasOwnProperty("onClose");if(!c&&!h)throw new Error("You have to provide an `open` and an `onClose` prop to the `Dialog` component.");if(!c)throw new Error("You provided an `onClose` prop to the `Dialog`, but forgot an `open` prop.");if(!h)throw new Error("You provided an `open` prop to the `Dialog`, but forgot an `onClose` prop.");if(!l&&typeof n.open!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${n.open}`);if(typeof n.onClose!="function")throw new Error(`You provided an \`onClose\` prop to the \`Dialog\`, but the value is not a function. Received: ${n.onClose}`);return(i!==void 0||t)&&!a.static?Ee.createElement(Ew,null,Ee.createElement(Zd,{show:i,transition:t,unmount:a.unmount},Ee.createElement(Tw,{ref:e,...a}))):Ee.createElement(Ew,null,Ee.createElement(Tw,{ref:e,open:i,...a}))}let NL="div";function ML(n,e){let t=A.useId(),{id:i=`headlessui-dialog-panel-${t}`,transition:a=!1,...l}=n,[{dialogState:c,unmount:h},m]=Jd("Dialog.Panel"),p=An(e,m.panelRef),y=A.useMemo(()=>({open:c===0}),[c]),_=xe(D=>{D.stopPropagation()}),b={ref:p,id:i,onClick:_},w=a?Ha:A.Fragment,R=a?{unmount:h}:{},C=kt();return Ee.createElement(w,{...R},C({ourProps:b,theirProps:l,slot:y,defaultTag:NL,name:"Dialog.Panel"}))}let kL="div";function PL(n,e){let{transition:t=!1,...i}=n,[{dialogState:a,unmount:l}]=Jd("Dialog.Backdrop"),c=A.useMemo(()=>({open:a===0}),[a]),h={ref:e,"aria-hidden":!0},m=t?Ha:A.Fragment,p=t?{unmount:l}:{},y=kt();return Ee.createElement(m,{...p},y({ourProps:h,theirProps:i,slot:c,defaultTag:kL,name:"Dialog.Backdrop"}))}let LL="h2";function VL(n,e){let t=A.useId(),{id:i=`headlessui-dialog-title-${t}`,...a}=n,[{dialogState:l,setTitleId:c}]=Jd("Dialog.Title"),h=An(e);A.useEffect(()=>(c(i),()=>c(null)),[i,c]);let m=A.useMemo(()=>({open:l===0}),[l]),p={ref:h,id:i};return kt()({ourProps:p,theirProps:a,slot:m,defaultTag:LL,name:"Dialog.Title"})}let UL=bt(OL),zv=bt(ML);bt(PL);let Bv=bt(VL),MR=Object.assign(UL,{Panel:zv,Title:Bv,Description:$4});function jL(n,e){let t=A.useRef({left:0,top:0});if(ot(()=>{if(!e)return;let a=e.getBoundingClientRect();a&&(t.current=a)},[n,e]),e==null||!n||e===document.activeElement)return!1;let i=e.getBoundingClientRect();return i.top!==t.current.top||i.left!==t.current.left}let ww=/([\u2700-\u27BF]|[\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g;function Sw(n){var e,t;let i=(e=n.innerText)!=null?e:"",a=n.cloneNode(!0);if(!qn(a))return i;let l=!1;for(let h of a.querySelectorAll('[hidden],[aria-hidden],[role="img"]'))h.remove(),l=!0;let c=l?(t=a.innerText)!=null?t:"":i;return ww.test(c)&&(c=c.replace(ww,"")),c}function FL(n){let e=n.getAttribute("aria-label");if(typeof e=="string")return e.trim();let t=n.getAttribute("aria-labelledby");if(t){let i=t.split(" ").map(a=>{let l=document.getElementById(a);if(l){let c=l.getAttribute("aria-label");return typeof c=="string"?c.trim():Sw(l).trim()}return null}).filter(Boolean);if(i.length>0)return i.join(", ")}return Sw(n).trim()}function zL(n){let e=A.useRef(""),t=A.useRef("");return xe(()=>{let i=n.current;if(!i)return"";let a=i.innerText;if(e.current===a)return t.current;let l=FL(i).trim().toLowerCase();return e.current=a,t.current=l,l})}var BL=Object.defineProperty,$L=(n,e,t)=>e in n?BL(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Aw=(n,e,t)=>($L(n,typeof e!="symbol"?e+"":e,t),t),nn=(n=>(n[n.Open=0]="Open",n[n.Closed=1]="Closed",n))(nn||{}),cd=(n=>(n[n.Pointer=0]="Pointer",n[n.Other=1]="Other",n))(cd||{}),at=(n=>(n[n.OpenMenu=0]="OpenMenu",n[n.CloseMenu=1]="CloseMenu",n[n.GoToItem=2]="GoToItem",n[n.Search=3]="Search",n[n.ClearSearch=4]="ClearSearch",n[n.RegisterItems=5]="RegisterItems",n[n.UnregisterItems=6]="UnregisterItems",n[n.SetButtonElement=7]="SetButtonElement",n[n.SetItemsElement=8]="SetItemsElement",n[n.SortItems=9]="SortItems",n))(at||{});function Rw(n,e=t=>t){let t=n.activeItemIndex!==null?n.items[n.activeItemIndex]:null,i=KA(e(n.items.slice()),l=>l.dataRef.current.domRef.current),a=t?i.indexOf(t):null;return a===-1&&(a=null),{items:i,activeItemIndex:a}}let HL={1(n){return n.menuState===1?n:{...n,activeItemIndex:null,pendingFocus:{focus:At.Nothing},menuState:1}},0(n,e){return n.menuState===0?n:{...n,__demoMode:!1,pendingFocus:e.focus,menuState:0}},2:(n,e)=>{var t,i,a,l,c;if(n.menuState===1)return n;let h={...n,searchQuery:"",activationTrigger:(t=e.trigger)!=null?t:1,__demoMode:!1};if(e.focus===At.Nothing)return{...h,activeItemIndex:null};if(e.focus===At.Specific)return{...h,activeItemIndex:n.items.findIndex(y=>y.id===e.id)};if(e.focus===At.Previous){let y=n.activeItemIndex;if(y!==null){let _=n.items[y].dataRef.current.domRef,b=xh(e,{resolveItems:()=>n.items,resolveActiveIndex:()=>n.activeItemIndex,resolveId:w=>w.id,resolveDisabled:w=>w.dataRef.current.disabled});if(b!==null){let w=n.items[b].dataRef.current.domRef;if(((i=_.current)==null?void 0:i.previousElementSibling)===w.current||((a=w.current)==null?void 0:a.previousElementSibling)===null)return{...h,activeItemIndex:b}}}}else if(e.focus===At.Next){let y=n.activeItemIndex;if(y!==null){let _=n.items[y].dataRef.current.domRef,b=xh(e,{resolveItems:()=>n.items,resolveActiveIndex:()=>n.activeItemIndex,resolveId:w=>w.id,resolveDisabled:w=>w.dataRef.current.disabled});if(b!==null){let w=n.items[b].dataRef.current.domRef;if(((l=_.current)==null?void 0:l.nextElementSibling)===w.current||((c=w.current)==null?void 0:c.nextElementSibling)===null)return{...h,activeItemIndex:b}}}}let m=Rw(n),p=xh(e,{resolveItems:()=>m.items,resolveActiveIndex:()=>m.activeItemIndex,resolveId:y=>y.id,resolveDisabled:y=>y.dataRef.current.disabled});return{...h,...m,activeItemIndex:p}},3:(n,e)=>{let t=n.searchQuery!==""?0:1,i=n.searchQuery+e.value.toLowerCase(),a=(n.activeItemIndex!==null?n.items.slice(n.activeItemIndex+t).concat(n.items.slice(0,n.activeItemIndex+t)):n.items).find(c=>{var h;return((h=c.dataRef.current.textValue)==null?void 0:h.startsWith(i))&&!c.dataRef.current.disabled}),l=a?n.items.indexOf(a):-1;return l===-1||l===n.activeItemIndex?{...n,searchQuery:i}:{...n,searchQuery:i,activeItemIndex:l,activationTrigger:1}},4(n){return n.searchQuery===""?n:{...n,searchQuery:"",searchActiveItemIndex:null}},5:(n,e)=>{let t=n.items.concat(e.items.map(a=>a)),i=n.activeItemIndex;return n.pendingFocus.focus!==At.Nothing&&(i=xh(n.pendingFocus,{resolveItems:()=>t,resolveActiveIndex:()=>n.activeItemIndex,resolveId:a=>a.id,resolveDisabled:a=>a.dataRef.current.disabled})),{...n,items:t,activeItemIndex:i,pendingFocus:{focus:At.Nothing},pendingShouldSort:!0}},6:(n,e)=>{let t=n.items,i=[],a=new Set(e.items);for(let[l,c]of t.entries())if(a.has(c.id)&&(i.push(l),a.delete(c.id),a.size===0))break;if(i.length>0){t=t.slice();for(let l of i.reverse())t.splice(l,1)}return{...n,items:t,activationTrigger:1}},7:(n,e)=>n.buttonElement===e.element?n:{...n,buttonElement:e.element},8:(n,e)=>n.itemsElement===e.element?n:{...n,itemsElement:e.element},9:n=>n.pendingShouldSort?{...n,...Rw(n),pendingShouldSort:!1}:n};class $v extends FA{constructor(e){super(e),Aw(this,"actions",{registerItem:WT(()=>{let t=[],i=new Set;return[(a,l)=>{i.has(l)||(i.add(l),t.push({id:a,dataRef:l}))},()=>(i.clear(),this.send({type:5,items:t.splice(0)}))]}),unregisterItem:WT(()=>{let t=[];return[i=>t.push(i),()=>this.send({type:6,items:t.splice(0)})]})}),Aw(this,"selectors",{activeDescendantId(t){var i;let a=t.activeItemIndex,l=t.items;return a===null||(i=l[a])==null?void 0:i.id},isActive(t,i){var a;let l=t.activeItemIndex,c=t.items;return l!==null?((a=c[l])==null?void 0:a.id)===i:!1},shouldScrollIntoView(t,i){return t.__demoMode||t.menuState!==0||t.activationTrigger===0?!1:this.isActive(t,i)}}),this.on(5,()=>{this.disposables.requestAnimationFrame(()=>{this.send({type:9})})});{let t=this.state.id,i=$d.get(null);this.disposables.add(i.on(BA.Push,a=>{!i.selectors.isTop(a,t)&&this.state.menuState===0&&this.send({type:1})})),this.on(0,()=>i.actions.push(t)),this.on(1,()=>i.actions.pop(t))}}static new({id:e,__demoMode:t=!1}){return new $v({id:e,__demoMode:t,menuState:t?0:1,buttonElement:null,itemsElement:null,items:[],searchQuery:"",activeItemIndex:null,activationTrigger:1,pendingShouldSort:!1,pendingFocus:{focus:At.Nothing}})}reduce(e,t){return Tr(t.type,HL,e,t)}}const kR=A.createContext(null);function Hv(n){let e=A.useContext(kR);if(e===null){let t=new Error(`<${n} /> is missing a parent <Menu /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,PR),t}return e}function PR({id:n,__demoMode:e=!1}){let t=A.useMemo(()=>$v.new({id:n,__demoMode:e}),[]);return Uv(()=>t.dispose()),t}let qL=A.Fragment;function YL(n,e){let t=A.useId(),{__demoMode:i=!1,...a}=n,l=PR({id:t,__demoMode:i}),[c,h,m]=vr(l,D=>[D.menuState,D.itemsElement,D.buttonElement]),p=An(e),y=$d.get(null),_=vr(y,A.useCallback(D=>y.selectors.isTop(D,t),[y,t]));XA(_,[m,h],(D,B)=>{var F;l.send({type:at.CloseMenu}),Ov(B,Dv.Loose)||(D.preventDefault(),(F=l.state.buttonElement)==null||F.focus())});let b=xe(()=>{l.send({type:at.CloseMenu})}),w=A.useMemo(()=>({open:c===nn.Open,close:b}),[c,b]),R={ref:p},C=kt();return Ee.createElement(Y3,null,Ee.createElement(kR.Provider,{value:l},Ee.createElement(vR,{value:Tr(c,{[nn.Open]:wn.Open,[nn.Closed]:wn.Closed})},C({ourProps:R,theirProps:a,slot:w,defaultTag:qL,name:"Menu"}))))}let GL="button";function KL(n,e){let t=Hv("Menu.Button"),i=A.useId(),{id:a=`headlessui-menu-button-${i}`,disabled:l=!1,autoFocus:c=!1,...h}=n,m=A.useRef(null),p=$3(),y=An(e,m,B3(),xe(M=>t.send({type:at.SetButtonElement,element:M}))),_=xe(M=>{switch(M.key){case Gt.Space:case Gt.Enter:case Gt.ArrowDown:M.preventDefault(),M.stopPropagation(),t.send({type:at.OpenMenu,focus:{focus:At.First}});break;case Gt.ArrowUp:M.preventDefault(),M.stopPropagation(),t.send({type:at.OpenMenu,focus:{focus:At.Last}});break}}),b=xe(M=>{switch(M.key){case Gt.Space:M.preventDefault();break}}),[w,R,C]=vr(t,M=>[M.menuState,M.buttonElement,M.itemsElement]),D=w===nn.Open;_P(D,{trigger:R,action:A.useCallback(M=>{if(R!=null&&R.contains(M.target))return Rh.Ignore;let V=M.target.closest('[role="menuitem"]:not([data-disabled])');return qn(V)?Rh.Select(V):C!=null&&C.contains(M.target)?Rh.Ignore:Rh.Close},[R,C]),close:A.useCallback(()=>t.send({type:at.CloseMenu}),[]),select:A.useCallback(M=>M.click(),[])});let B=xe(M=>{var V;if(M.button===0){if(V4(M.currentTarget))return M.preventDefault();l||(w===nn.Open?(Vs.flushSync(()=>t.send({type:at.CloseMenu})),(V=m.current)==null||V.focus({preventScroll:!0})):(M.preventDefault(),t.send({type:at.OpenMenu,focus:{focus:At.Nothing},trigger:cd.Pointer})))}}),{isFocusVisible:F,focusProps:q}=y4({autoFocus:c}),{isHovered:H,hoverProps:K}=g4({isDisabled:l}),{pressed:ee,pressProps:N}=w4({disabled:l}),x=A.useMemo(()=>({open:w===nn.Open,active:ee||w===nn.Open,disabled:l,hover:H,focus:F,autofocus:c}),[w,H,F,ee,l,c]),O=OA(p(),{ref:y,id:a,type:bP(n,m.current),"aria-haspopup":"menu","aria-controls":C==null?void 0:C.id,"aria-expanded":w===nn.Open,disabled:l||void 0,autoFocus:c,onKeyDown:_,onKeyUp:b,onPointerDown:B},q,K,N);return kt()({ourProps:O,theirProps:h,slot:x,defaultTag:GL,name:"Menu.Button"})}let QL="div",WL=pl.RenderStrategy|pl.Static;function XL(n,e){let t=A.useId(),{id:i=`headlessui-menu-items-${t}`,anchor:a,portal:l=!1,modal:c=!0,transition:h=!1,...m}=n,p=z3(a),y=Hv("Menu.Items"),[_,b]=q3(p),w=H3(),[R,C]=A.useState(null),D=An(e,p?_:null,xe(le=>y.send({type:at.SetItemsElement,element:le})),C),[B,F]=vr(y,le=>[le.menuState,le.buttonElement]),q=gl(F),H=gl(R);p&&(l=!0);let K=Hc(),[ee,N]=tR(h,R,K!==null?(K&wn.Open)===wn.Open:B===nn.Open);qA(ee,F,()=>{y.send({type:at.CloseMenu})});let x=vr(y,le=>le.__demoMode),O=x?!1:c&&B===nn.Open;JA(O,H);let M=x?!1:c&&B===nn.Open;HA(M,{allowed:A.useCallback(()=>[F,R],[F,R])});let V=B!==nn.Open,z=jL(V,F)?!1:ee;A.useEffect(()=>{let le=R;le&&B===nn.Open&&le!==(H==null?void 0:H.activeElement)&&le.focus({preventScroll:!0})},[B,R,H]),PP(B===nn.Open,{container:R,accept(le){return le.getAttribute("role")==="menuitem"?NodeFilter.FILTER_REJECT:le.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(le){le.setAttribute("role","none")}});let k=xl(),ke=xe(le=>{var L,re,fe;switch(k.dispose(),le.key){case Gt.Space:if(y.state.searchQuery!=="")return le.preventDefault(),le.stopPropagation(),y.send({type:at.Search,value:le.key});case Gt.Enter:if(le.preventDefault(),le.stopPropagation(),y.state.activeItemIndex!==null){let{dataRef:te}=y.state.items[y.state.activeItemIndex];(re=(L=te.current)==null?void 0:L.domRef.current)==null||re.click()}y.send({type:at.CloseMenu}),GA(y.state.buttonElement);break;case Gt.ArrowDown:return le.preventDefault(),le.stopPropagation(),y.send({type:at.GoToItem,focus:At.Next});case Gt.ArrowUp:return le.preventDefault(),le.stopPropagation(),y.send({type:at.GoToItem,focus:At.Previous});case Gt.Home:case Gt.PageUp:return le.preventDefault(),le.stopPropagation(),y.send({type:at.GoToItem,focus:At.First});case Gt.End:case Gt.PageDown:return le.preventDefault(),le.stopPropagation(),y.send({type:at.GoToItem,focus:At.Last});case Gt.Escape:le.preventDefault(),le.stopPropagation(),Vs.flushSync(()=>y.send({type:at.CloseMenu})),(fe=y.state.buttonElement)==null||fe.focus({preventScroll:!0});break;case Gt.Tab:le.preventDefault(),le.stopPropagation(),Vs.flushSync(()=>y.send({type:at.CloseMenu})),pP(y.state.buttonElement,le.shiftKey?gr.Previous:gr.Next);break;default:le.key.length===1&&(y.send({type:at.Search,value:le.key}),k.setTimeout(()=>y.send({type:at.ClearSearch}),350));break}}),De=xe(le=>{switch(le.key){case Gt.Space:le.preventDefault();break}}),Z=A.useMemo(()=>({open:B===nn.Open}),[B]),ue=OA(p?w():{},{"aria-activedescendant":vr(y,y.selectors.activeDescendantId),"aria-labelledby":vr(y,le=>{var L;return(L=le.buttonElement)==null?void 0:L.id}),id:i,onKeyDown:ke,onKeyUp:De,role:"menu",tabIndex:B===nn.Open?0:void 0,ref:D,style:{...m.style,...b,"--button-width":X4(F,!0).width},...eR(N)}),ce=kt();return Ee.createElement(wR,{enabled:l?n.static||ee:!1,ownerDocument:q},ce({ourProps:ue,theirProps:m,slot:Z,defaultTag:QL,features:WL,visible:z,name:"Menu.Items"}))}let ZL=A.Fragment;function JL(n,e){let t=A.useId(),{id:i=`headlessui-menu-item-${t}`,disabled:a=!1,...l}=n,c=Hv("Menu.Item"),h=vr(c,V=>c.selectors.isActive(V,i)),m=A.useRef(null),p=An(e,m),y=vr(c,V=>c.selectors.shouldScrollIntoView(V,i));ot(()=>{if(y)return lr().requestAnimationFrame(()=>{var V,z;(z=(V=m.current)==null?void 0:V.scrollIntoView)==null||z.call(V,{block:"nearest"})})},[y,m]);let _=zL(m),b=A.useRef({disabled:a,domRef:m,get textValue(){return _()}});ot(()=>{b.current.disabled=a},[b,a]),ot(()=>(c.actions.registerItem(i,b),()=>c.actions.unregisterItem(i)),[b,i]);let w=xe(()=>{c.send({type:at.CloseMenu})}),R=xe(V=>{if(a)return V.preventDefault();c.send({type:at.CloseMenu}),GA(c.state.buttonElement)}),C=xe(()=>{if(a)return c.send({type:at.GoToItem,focus:At.Nothing});c.send({type:at.GoToItem,focus:At.Specific,id:i})}),D=xP(),B=xe(V=>{D.update(V),!a&&(h||c.send({type:at.GoToItem,focus:At.Specific,id:i,trigger:cd.Pointer}))}),F=xe(V=>{D.wasMoved(V)&&(a||h||c.send({type:at.GoToItem,focus:At.Specific,id:i,trigger:cd.Pointer}))}),q=xe(V=>{D.wasMoved(V)&&(a||h&&c.send({type:at.GoToItem,focus:At.Nothing}))}),[H,K]=VA(),[ee,N]=LA(),x=A.useMemo(()=>({active:h,focus:h,disabled:a,close:w}),[h,a,w]),O={id:i,ref:p,role:"menuitem",tabIndex:a===!0?void 0:-1,"aria-disabled":a===!0?!0:void 0,"aria-labelledby":H,"aria-describedby":ee,disabled:void 0,onClick:R,onFocus:C,onPointerEnter:B,onMouseEnter:B,onPointerMove:F,onMouseMove:F,onPointerLeave:q,onMouseLeave:q},M=kt();return Ee.createElement(K,null,Ee.createElement(N,null,M({ourProps:O,theirProps:l,slot:x,defaultTag:ZL,name:"Menu.Item"})))}let e6="div";function t6(n,e){let[t,i]=VA(),a=n,l={ref:e,"aria-labelledby":t,role:"group"},c=kt();return Ee.createElement(i,null,c({ourProps:l,theirProps:a,slot:{},defaultTag:e6,name:"Menu.Section"}))}let n6="header";function r6(n,e){let t=A.useId(),{id:i=`headlessui-menu-heading-${t}`,...a}=n,l=Cv();ot(()=>l.register(i),[i,l.register]);let c={id:i,ref:e,role:"presentation",...l.props};return kt()({ourProps:c,theirProps:a,slot:{},defaultTag:n6,name:"Menu.Heading"})}let i6="div";function s6(n,e){let t=n,i={ref:e,role:"separator"};return kt()({ourProps:i,theirProps:t,slot:{},defaultTag:i6,name:"Menu.Separator"})}let a6=bt(YL),o6=bt(KL),l6=bt(XL),u6=bt(JL),c6=bt(t6),f6=bt(r6),h6=bt(s6),$u=Object.assign(a6,{Button:o6,Items:l6,Item:u6,Section:c6,Heading:f6,Separator:h6});var Sy=["MO","TU","WE","TH","FR","SA","SU"],En=function(){function n(e,t){if(t===0)throw new Error("Can't create weekday with n == 0");this.weekday=e,this.n=t}return n.fromStr=function(e){return new n(Sy.indexOf(e))},n.prototype.nth=function(e){return this.n===e?this:new n(this.weekday,e)},n.prototype.equals=function(e){return this.weekday===e.weekday&&this.n===e.n},n.prototype.toString=function(){var e=Sy[this.weekday];return this.n&&(e=(this.n>0?"+":"")+String(this.n)+e),e},n.prototype.getJsWeekday=function(){return this.weekday===6?0:this.weekday+1},n}(),Ot=function(n){return n!=null},zr=function(n){return typeof n=="number"},Iw=function(n){return typeof n=="string"&&Sy.includes(n)},Bn=Array.isArray,ti=function(n,e){e===void 0&&(e=n),arguments.length===1&&(e=n,n=0);for(var t=[],i=n;i<e;i++)t.push(i);return t},Ge=function(n,e){var t=0,i=[];if(Bn(n))for(;t<e;t++)i[t]=[].concat(n);else for(;t<e;t++)i[t]=n;return i},d6=function(n){return Bn(n)?n:[n]};function Yo(n,e,t){t===void 0&&(t=" ");var i=String(n);return e=e>>0,i.length>e?String(i):(e=e-i.length,e>t.length&&(t+=Ge(t,e/t.length)),t.slice(0,e)+String(i))}var m6=function(n,e,t){var i=n.split(e);return t?i.slice(0,t).concat([i.slice(t).join(e)]):i},ar=function(n,e){var t=n%e;return t*e<0?t+e:t},Dg=function(n,e){return{div:Math.floor(n/e),mod:ar(n,e)}},$r=function(n){return!Ot(n)||n.length===0},Qt=function(n){return!$r(n)},ut=function(n,e){return Qt(n)&&n.indexOf(e)!==-1},qa=function(n,e,t,i,a,l){return i===void 0&&(i=0),a===void 0&&(a=0),l===void 0&&(l=0),new Date(Date.UTC(n,e-1,t,i,a,l))},p6=[31,28,31,30,31,30,31,31,30,31,30,31],LR=1e3*60*60*24,VR=9999,UR=qa(1970,1,1),g6=[6,0,1,2,3,4,5],lc=function(n){return n%4===0&&n%100!==0||n%400===0},jR=function(n){return n instanceof Date},Zu=function(n){return jR(n)&&!isNaN(n.getTime())},y6=function(n,e){var t=n.getTime(),i=e.getTime(),a=t-i;return Math.round(a/LR)},Ay=function(n){return y6(n,UR)},FR=function(n){return new Date(UR.getTime()+n*LR)},v6=function(n){var e=n.getUTCMonth();return e===1&&lc(n.getUTCFullYear())?29:p6[e]},vl=function(n){return g6[n.getUTCDay()]},xw=function(n,e){var t=qa(n,e+1,1);return[vl(t),v6(t)]},zR=function(n,e){return e=e||n,new Date(Date.UTC(n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()))},Ry=function(n){var e=new Date(n.getTime());return e},Cw=function(n){for(var e=[],t=0;t<n.length;t++)e.push(Ry(n[t]));return e},wc=function(n){n.sort(function(e,t){return e.getTime()-t.getTime()})},qv=function(n,e){e===void 0&&(e=!0);var t=new Date(n);return[Yo(t.getUTCFullYear().toString(),4,"0"),Yo(t.getUTCMonth()+1,2,"0"),Yo(t.getUTCDate(),2,"0"),"T",Yo(t.getUTCHours(),2,"0"),Yo(t.getUTCMinutes(),2,"0"),Yo(t.getUTCSeconds(),2,"0"),e?"Z":""].join("")},Yv=function(n){var e=/^(\d{4})(\d{2})(\d{2})(T(\d{2})(\d{2})(\d{2})Z?)?$/,t=e.exec(n);if(!t)throw new Error("Invalid UNTIL value: ".concat(n));return new Date(Date.UTC(parseInt(t[1],10),parseInt(t[2],10)-1,parseInt(t[3],10),parseInt(t[5],10)||0,parseInt(t[6],10)||0,parseInt(t[7],10)||0))},Dw=function(n,e){var t=n.toLocaleString("sv-SE",{timeZone:e});return t.replace(" ","T")+"Z"},_6=function(n,e){var t=Intl.DateTimeFormat().resolvedOptions().timeZone,i=new Date(Dw(n,t)),a=new Date(Dw(n,e??"UTC")),l=a.getTime()-i.getTime();return new Date(n.getTime()-l)},Jo=function(){function n(e,t){this.minDate=null,this.maxDate=null,this._result=[],this.total=0,this.method=e,this.args=t,e==="between"?(this.maxDate=t.inc?t.before:new Date(t.before.getTime()-1),this.minDate=t.inc?t.after:new Date(t.after.getTime()+1)):e==="before"?this.maxDate=t.inc?t.dt:new Date(t.dt.getTime()-1):e==="after"&&(this.minDate=t.inc?t.dt:new Date(t.dt.getTime()+1))}return n.prototype.accept=function(e){++this.total;var t=this.minDate&&e<this.minDate,i=this.maxDate&&e>this.maxDate;if(this.method==="between"){if(t)return!0;if(i)return!1}else if(this.method==="before"){if(i)return!1}else if(this.method==="after")return t?!0:(this.add(e),!1);return this.add(e)},n.prototype.add=function(e){return this._result.push(e),!0},n.prototype.getValue=function(){var e=this._result;switch(this.method){case"all":case"between":return e;case"before":case"after":default:return e.length?e[e.length-1]:null}},n.prototype.clone=function(){return new n(this.method,this.args)},n}(),Ow=function(n){My(e,n);function e(t,i,a){var l=n.call(this,t,i)||this;return l.iterator=a,l}return e.prototype.add=function(t){return this.iterator(t,this._result.length)?(this._result.push(t),!0):!1},e}(Jo),fd={dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],tokens:{SKIP:/^[ \r\n\t]+|^\.$/,number:/^[1-9][0-9]*/,numberAsText:/^(one|two|three)/i,every:/^every/i,"day(s)":/^days?/i,"weekday(s)":/^weekdays?/i,"week(s)":/^weeks?/i,"hour(s)":/^hours?/i,"minute(s)":/^minutes?/i,"month(s)":/^months?/i,"year(s)":/^years?/i,on:/^(on|in)/i,at:/^(at)/i,the:/^the/i,first:/^first/i,second:/^second/i,third:/^third/i,nth:/^([1-9][0-9]*)(\.|th|nd|rd|st)/i,last:/^last/i,for:/^for/i,"time(s)":/^times?/i,until:/^(un)?til/i,monday:/^mo(n(day)?)?/i,tuesday:/^tu(e(s(day)?)?)?/i,wednesday:/^we(d(n(esday)?)?)?/i,thursday:/^th(u(r(sday)?)?)?/i,friday:/^fr(i(day)?)?/i,saturday:/^sa(t(urday)?)?/i,sunday:/^su(n(day)?)?/i,january:/^jan(uary)?/i,february:/^feb(ruary)?/i,march:/^mar(ch)?/i,april:/^apr(il)?/i,may:/^may/i,june:/^june?/i,july:/^july?/i,august:/^aug(ust)?/i,september:/^sep(t(ember)?)?/i,october:/^oct(ober)?/i,november:/^nov(ember)?/i,december:/^dec(ember)?/i,comma:/^(,\s*|(and|or)\s*)+/i}},Nw=function(n,e){return n.indexOf(e)!==-1},b6=function(n){return n.toString()},E6=function(n,e,t){return"".concat(e," ").concat(t,", ").concat(n)},Ui=function(){function n(e,t,i,a){if(t===void 0&&(t=b6),i===void 0&&(i=fd),a===void 0&&(a=E6),this.text=[],this.language=i||fd,this.gettext=t,this.dateFormatter=a,this.rrule=e,this.options=e.options,this.origOptions=e.origOptions,this.origOptions.bymonthday){var l=[].concat(this.options.bymonthday),c=[].concat(this.options.bynmonthday);l.sort(function(y,_){return y-_}),c.sort(function(y,_){return _-y}),this.bymonthday=l.concat(c),this.bymonthday.length||(this.bymonthday=null)}if(Ot(this.origOptions.byweekday)){var h=Bn(this.origOptions.byweekday)?this.origOptions.byweekday:[this.origOptions.byweekday],m=String(h);this.byweekday={allWeeks:h.filter(function(y){return!y.n}),someWeeks:h.filter(function(y){return!!y.n}),isWeekdays:m.indexOf("MO")!==-1&&m.indexOf("TU")!==-1&&m.indexOf("WE")!==-1&&m.indexOf("TH")!==-1&&m.indexOf("FR")!==-1&&m.indexOf("SA")===-1&&m.indexOf("SU")===-1,isEveryDay:m.indexOf("MO")!==-1&&m.indexOf("TU")!==-1&&m.indexOf("WE")!==-1&&m.indexOf("TH")!==-1&&m.indexOf("FR")!==-1&&m.indexOf("SA")!==-1&&m.indexOf("SU")!==-1};var p=function(y,_){return y.weekday-_.weekday};this.byweekday.allWeeks.sort(p),this.byweekday.someWeeks.sort(p),this.byweekday.allWeeks.length||(this.byweekday.allWeeks=null),this.byweekday.someWeeks.length||(this.byweekday.someWeeks=null)}else this.byweekday=null}return n.isFullyConvertible=function(e){var t=!0;if(!(e.options.freq in n.IMPLEMENTED)||e.origOptions.until&&e.origOptions.count)return!1;for(var i in e.origOptions){if(Nw(["dtstart","tzid","wkst","freq"],i))return!0;if(!Nw(n.IMPLEMENTED[e.options.freq],i))return!1}return t},n.prototype.isFullyConvertible=function(){return n.isFullyConvertible(this.rrule)},n.prototype.toString=function(){var e=this.gettext;if(!(this.options.freq in n.IMPLEMENTED))return e("RRule error: Unable to fully convert this rrule to text");if(this.text=[e("every")],this[me.FREQUENCIES[this.options.freq]](),this.options.until){this.add(e("until"));var t=this.options.until;this.add(this.dateFormatter(t.getUTCFullYear(),this.language.monthNames[t.getUTCMonth()],t.getUTCDate()))}else this.options.count&&this.add(e("for")).add(this.options.count.toString()).add(this.plural(this.options.count)?e("times"):e("time"));return this.isFullyConvertible()||this.add(e("(~ approximate)")),this.text.join("")},n.prototype.HOURLY=function(){var e=this.gettext;this.options.interval!==1&&this.add(this.options.interval.toString()),this.add(this.plural(this.options.interval)?e("hours"):e("hour"))},n.prototype.MINUTELY=function(){var e=this.gettext;this.options.interval!==1&&this.add(this.options.interval.toString()),this.add(this.plural(this.options.interval)?e("minutes"):e("minute"))},n.prototype.DAILY=function(){var e=this.gettext;this.options.interval!==1&&this.add(this.options.interval.toString()),this.byweekday&&this.byweekday.isWeekdays?this.add(this.plural(this.options.interval)?e("weekdays"):e("weekday")):this.add(this.plural(this.options.interval)?e("days"):e("day")),this.origOptions.bymonth&&(this.add(e("in")),this._bymonth()),this.bymonthday?this._bymonthday():this.byweekday?this._byweekday():this.origOptions.byhour&&this._byhour()},n.prototype.WEEKLY=function(){var e=this.gettext;this.options.interval!==1&&this.add(this.options.interval.toString()).add(this.plural(this.options.interval)?e("weeks"):e("week")),this.byweekday&&this.byweekday.isWeekdays?this.options.interval===1?this.add(this.plural(this.options.interval)?e("weekdays"):e("weekday")):this.add(e("on")).add(e("weekdays")):this.byweekday&&this.byweekday.isEveryDay?this.add(this.plural(this.options.interval)?e("days"):e("day")):(this.options.interval===1&&this.add(e("week")),this.origOptions.bymonth&&(this.add(e("in")),this._bymonth()),this.bymonthday?this._bymonthday():this.byweekday&&this._byweekday(),this.origOptions.byhour&&this._byhour())},n.prototype.MONTHLY=function(){var e=this.gettext;this.origOptions.bymonth?(this.options.interval!==1&&(this.add(this.options.interval.toString()).add(e("months")),this.plural(this.options.interval)&&this.add(e("in"))),this._bymonth()):(this.options.interval!==1&&this.add(this.options.interval.toString()),this.add(this.plural(this.options.interval)?e("months"):e("month"))),this.bymonthday?this._bymonthday():this.byweekday&&this.byweekday.isWeekdays?this.add(e("on")).add(e("weekdays")):this.byweekday&&this._byweekday()},n.prototype.YEARLY=function(){var e=this.gettext;this.origOptions.bymonth?(this.options.interval!==1&&(this.add(this.options.interval.toString()),this.add(e("years"))),this._bymonth()):(this.options.interval!==1&&this.add(this.options.interval.toString()),this.add(this.plural(this.options.interval)?e("years"):e("year"))),this.bymonthday?this._bymonthday():this.byweekday&&this._byweekday(),this.options.byyearday&&this.add(e("on the")).add(this.list(this.options.byyearday,this.nth,e("and"))).add(e("day")),this.options.byweekno&&this.add(e("in")).add(this.plural(this.options.byweekno.length)?e("weeks"):e("week")).add(this.list(this.options.byweekno,void 0,e("and")))},n.prototype._bymonthday=function(){var e=this.gettext;this.byweekday&&this.byweekday.allWeeks?this.add(e("on")).add(this.list(this.byweekday.allWeeks,this.weekdaytext,e("or"))).add(e("the")).add(this.list(this.bymonthday,this.nth,e("or"))):this.add(e("on the")).add(this.list(this.bymonthday,this.nth,e("and")))},n.prototype._byweekday=function(){var e=this.gettext;this.byweekday.allWeeks&&!this.byweekday.isWeekdays&&this.add(e("on")).add(this.list(this.byweekday.allWeeks,this.weekdaytext)),this.byweekday.someWeeks&&(this.byweekday.allWeeks&&this.add(e("and")),this.add(e("on the")).add(this.list(this.byweekday.someWeeks,this.weekdaytext,e("and"))))},n.prototype._byhour=function(){var e=this.gettext;this.add(e("at")).add(this.list(this.origOptions.byhour,void 0,e("and")))},n.prototype._bymonth=function(){this.add(this.list(this.options.bymonth,this.monthtext,this.gettext("and")))},n.prototype.nth=function(e){e=parseInt(e.toString(),10);var t,i=this.gettext;if(e===-1)return i("last");var a=Math.abs(e);switch(a){case 1:case 21:case 31:t=a+i("st");break;case 2:case 22:t=a+i("nd");break;case 3:case 23:t=a+i("rd");break;default:t=a+i("th")}return e<0?t+" "+i("last"):t},n.prototype.monthtext=function(e){return this.language.monthNames[e-1]},n.prototype.weekdaytext=function(e){var t=zr(e)?(e+1)%7:e.getJsWeekday();return(e.n?this.nth(e.n)+" ":"")+this.language.dayNames[t]},n.prototype.plural=function(e){return e%100!==1},n.prototype.add=function(e){return this.text.push(" "),this.text.push(e),this},n.prototype.list=function(e,t,i,a){var l=this;a===void 0&&(a=","),Bn(e)||(e=[e]);var c=function(m,p,y){for(var _="",b=0;b<m.length;b++)b!==0&&(b===m.length-1?_+=" "+y+" ":_+=p+" "),_+=m[b];return _};t=t||function(m){return m.toString()};var h=function(m){return t&&t.call(l,m)};return i?c(e.map(h),a,i):e.map(h).join(a+" ")},n}(),T6=function(){function n(e){this.done=!0,this.rules=e}return n.prototype.start=function(e){return this.text=e,this.done=!1,this.nextSymbol()},n.prototype.isDone=function(){return this.done&&this.symbol===null},n.prototype.nextSymbol=function(){var e,t;this.symbol=null,this.value=null;do{if(this.done)return!1;var i=void 0;e=null;for(var a in this.rules){i=this.rules[a];var l=i.exec(this.text);l&&(e===null||l[0].length>e[0].length)&&(e=l,t=a)}if(e!=null&&(this.text=this.text.substr(e[0].length),this.text===""&&(this.done=!0)),e==null){this.done=!0,this.symbol=null,this.value=null;return}}while(t==="SKIP");return this.symbol=t,this.value=e,!0},n.prototype.accept=function(e){if(this.symbol===e){if(this.value){var t=this.value;return this.nextSymbol(),t}return this.nextSymbol(),!0}return!1},n.prototype.acceptNumber=function(){return this.accept("number")},n.prototype.expect=function(e){if(this.accept(e))return!0;throw new Error("expected "+e+" but found "+this.symbol)},n}();function BR(n,e){e===void 0&&(e=fd);var t={},i=new T6(e.tokens);if(!i.start(n))return null;return a(),t;function a(){i.expect("every");var b=i.acceptNumber();if(b&&(t.interval=parseInt(b[0],10)),i.isDone())throw new Error("Unexpected end");switch(i.symbol){case"day(s)":t.freq=me.DAILY,i.nextSymbol()&&(c(),_());break;case"weekday(s)":t.freq=me.WEEKLY,t.byweekday=[me.MO,me.TU,me.WE,me.TH,me.FR],i.nextSymbol(),c(),_();break;case"week(s)":t.freq=me.WEEKLY,i.nextSymbol()&&(l(),c(),_());break;case"hour(s)":t.freq=me.HOURLY,i.nextSymbol()&&(l(),_());break;case"minute(s)":t.freq=me.MINUTELY,i.nextSymbol()&&(l(),_());break;case"month(s)":t.freq=me.MONTHLY,i.nextSymbol()&&(l(),_());break;case"year(s)":t.freq=me.YEARLY,i.nextSymbol()&&(l(),_());break;case"monday":case"tuesday":case"wednesday":case"thursday":case"friday":case"saturday":case"sunday":t.freq=me.WEEKLY;var w=i.symbol.substr(0,2).toUpperCase();if(t.byweekday=[me[w]],!i.nextSymbol())return;for(;i.accept("comma");){if(i.isDone())throw new Error("Unexpected end");var R=m();if(!R)throw new Error("Unexpected symbol "+i.symbol+", expected weekday");t.byweekday.push(me[R]),i.nextSymbol()}c(),y(),_();break;case"january":case"february":case"march":case"april":case"may":case"june":case"july":case"august":case"september":case"october":case"november":case"december":if(t.freq=me.YEARLY,t.bymonth=[h()],!i.nextSymbol())return;for(;i.accept("comma");){if(i.isDone())throw new Error("Unexpected end");var C=h();if(!C)throw new Error("Unexpected symbol "+i.symbol+", expected month");t.bymonth.push(C),i.nextSymbol()}l(),_();break;default:throw new Error("Unknown symbol")}}function l(){var b=i.accept("on"),w=i.accept("the");if(b||w)do{var R=p(),C=m(),D=h();if(R)C?(i.nextSymbol(),t.byweekday||(t.byweekday=[]),t.byweekday.push(me[C].nth(R))):(t.bymonthday||(t.bymonthday=[]),t.bymonthday.push(R),i.accept("day(s)"));else if(C)i.nextSymbol(),t.byweekday||(t.byweekday=[]),t.byweekday.push(me[C]);else if(i.symbol==="weekday(s)")i.nextSymbol(),t.byweekday||(t.byweekday=[me.MO,me.TU,me.WE,me.TH,me.FR]);else if(i.symbol==="week(s)"){i.nextSymbol();var B=i.acceptNumber();if(!B)throw new Error("Unexpected symbol "+i.symbol+", expected week number");for(t.byweekno=[parseInt(B[0],10)];i.accept("comma");){if(B=i.acceptNumber(),!B)throw new Error("Unexpected symbol "+i.symbol+"; expected monthday");t.byweekno.push(parseInt(B[0],10))}}else if(D)i.nextSymbol(),t.bymonth||(t.bymonth=[]),t.bymonth.push(D);else return}while(i.accept("comma")||i.accept("the")||i.accept("on"))}function c(){var b=i.accept("at");if(b)do{var w=i.acceptNumber();if(!w)throw new Error("Unexpected symbol "+i.symbol+", expected hour");for(t.byhour=[parseInt(w[0],10)];i.accept("comma");){if(w=i.acceptNumber(),!w)throw new Error("Unexpected symbol "+i.symbol+"; expected hour");t.byhour.push(parseInt(w[0],10))}}while(i.accept("comma")||i.accept("at"))}function h(){switch(i.symbol){case"january":return 1;case"february":return 2;case"march":return 3;case"april":return 4;case"may":return 5;case"june":return 6;case"july":return 7;case"august":return 8;case"september":return 9;case"october":return 10;case"november":return 11;case"december":return 12;default:return!1}}function m(){switch(i.symbol){case"monday":case"tuesday":case"wednesday":case"thursday":case"friday":case"saturday":case"sunday":return i.symbol.substr(0,2).toUpperCase();default:return!1}}function p(){switch(i.symbol){case"last":return i.nextSymbol(),-1;case"first":return i.nextSymbol(),1;case"second":return i.nextSymbol(),i.accept("last")?-2:2;case"third":return i.nextSymbol(),i.accept("last")?-3:3;case"nth":var b=parseInt(i.value[1],10);if(b<-366||b>366)throw new Error("Nth out of range: "+b);return i.nextSymbol(),i.accept("last")?-b:b;default:return!1}}function y(){i.accept("on"),i.accept("the");var b=p();if(b)for(t.bymonthday=[b],i.nextSymbol();i.accept("comma");){if(b=p(),!b)throw new Error("Unexpected symbol "+i.symbol+"; expected monthday");t.bymonthday.push(b),i.nextSymbol()}}function _(){if(i.symbol==="until"){var b=Date.parse(i.text);if(!b)throw new Error("Cannot parse until date:"+i.text);t.until=new Date(b)}else i.accept("for")&&(t.count=parseInt(i.value[0],10),i.expect("number"))}}var Ke;(function(n){n[n.YEARLY=0]="YEARLY",n[n.MONTHLY=1]="MONTHLY",n[n.WEEKLY=2]="WEEKLY",n[n.DAILY=3]="DAILY",n[n.HOURLY=4]="HOURLY",n[n.MINUTELY=5]="MINUTELY",n[n.SECONDLY=6]="SECONDLY"})(Ke||(Ke={}));function Gv(n){return n<Ke.HOURLY}var w6=function(n,e){return e===void 0&&(e=fd),new me(BR(n,e)||void 0)},Nl=["count","until","interval","byweekday","bymonthday","bymonth"];Ui.IMPLEMENTED=[];Ui.IMPLEMENTED[Ke.HOURLY]=Nl;Ui.IMPLEMENTED[Ke.MINUTELY]=Nl;Ui.IMPLEMENTED[Ke.DAILY]=["byhour"].concat(Nl);Ui.IMPLEMENTED[Ke.WEEKLY]=Nl;Ui.IMPLEMENTED[Ke.MONTHLY]=Nl;Ui.IMPLEMENTED[Ke.YEARLY]=["byweekno","byyearday"].concat(Nl);var S6=function(n,e,t,i){return new Ui(n,e,t,i).toString()},A6=Ui.isFullyConvertible,hd=function(){function n(e,t,i,a){this.hour=e,this.minute=t,this.second=i,this.millisecond=a||0}return n.prototype.getHours=function(){return this.hour},n.prototype.getMinutes=function(){return this.minute},n.prototype.getSeconds=function(){return this.second},n.prototype.getMilliseconds=function(){return this.millisecond},n.prototype.getTime=function(){return(this.hour*60*60+this.minute*60+this.second)*1e3+this.millisecond},n}(),R6=function(n){My(e,n);function e(t,i,a,l,c,h,m){var p=n.call(this,l,c,h,m)||this;return p.year=t,p.month=i,p.day=a,p}return e.fromDate=function(t){return new this(t.getUTCFullYear(),t.getUTCMonth()+1,t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds(),t.valueOf()%1e3)},e.prototype.getWeekday=function(){return vl(new Date(this.getTime()))},e.prototype.getTime=function(){return new Date(Date.UTC(this.year,this.month-1,this.day,this.hour,this.minute,this.second,this.millisecond)).getTime()},e.prototype.getDay=function(){return this.day},e.prototype.getMonth=function(){return this.month},e.prototype.getYear=function(){return this.year},e.prototype.addYears=function(t){this.year+=t},e.prototype.addMonths=function(t){if(this.month+=t,this.month>12){var i=Math.floor(this.month/12),a=ar(this.month,12);this.month=a,this.year+=i,this.month===0&&(this.month=12,--this.year)}},e.prototype.addWeekly=function(t,i){i>this.getWeekday()?this.day+=-(this.getWeekday()+1+(6-i))+t*7:this.day+=-(this.getWeekday()-i)+t*7,this.fixDay()},e.prototype.addDaily=function(t){this.day+=t,this.fixDay()},e.prototype.addHours=function(t,i,a){for(i&&(this.hour+=Math.floor((23-this.hour)/t)*t);;){this.hour+=t;var l=Dg(this.hour,24),c=l.div,h=l.mod;if(c&&(this.hour=h,this.addDaily(c)),$r(a)||ut(a,this.hour))break}},e.prototype.addMinutes=function(t,i,a,l){for(i&&(this.minute+=Math.floor((1439-(this.hour*60+this.minute))/t)*t);;){this.minute+=t;var c=Dg(this.minute,60),h=c.div,m=c.mod;if(h&&(this.minute=m,this.addHours(h,!1,a)),($r(a)||ut(a,this.hour))&&($r(l)||ut(l,this.minute)))break}},e.prototype.addSeconds=function(t,i,a,l,c){for(i&&(this.second+=Math.floor((86399-(this.hour*3600+this.minute*60+this.second))/t)*t);;){this.second+=t;var h=Dg(this.second,60),m=h.div,p=h.mod;if(m&&(this.second=p,this.addMinutes(m,!1,a,l)),($r(a)||ut(a,this.hour))&&($r(l)||ut(l,this.minute))&&($r(c)||ut(c,this.second)))break}},e.prototype.fixDay=function(){if(!(this.day<=28)){var t=xw(this.year,this.month-1)[1];if(!(this.day<=t))for(;this.day>t;){if(this.day-=t,++this.month,this.month===13&&(this.month=1,++this.year,this.year>VR))return;t=xw(this.year,this.month-1)[1]}}},e.prototype.add=function(t,i){var a=t.freq,l=t.interval,c=t.wkst,h=t.byhour,m=t.byminute,p=t.bysecond;switch(a){case Ke.YEARLY:return this.addYears(l);case Ke.MONTHLY:return this.addMonths(l);case Ke.WEEKLY:return this.addWeekly(l,c);case Ke.DAILY:return this.addDaily(l);case Ke.HOURLY:return this.addHours(l,i,h);case Ke.MINUTELY:return this.addMinutes(l,i,h,m);case Ke.SECONDLY:return this.addSeconds(l,i,h,m,p)}},e}(hd);function $R(n){for(var e=[],t=Object.keys(n),i=0,a=t;i<a.length;i++){var l=a[i];ut(nV,l)||e.push(l),jR(n[l])&&!Zu(n[l])&&e.push(l)}if(e.length)throw new Error("Invalid options: "+e.join(", "));return Hn({},n)}function I6(n){var e=Hn(Hn({},Kv),$R(n));if(Ot(e.byeaster)&&(e.freq=me.YEARLY),!(Ot(e.freq)&&me.FREQUENCIES[e.freq]))throw new Error("Invalid frequency: ".concat(e.freq," ").concat(n.freq));if(e.dtstart||(e.dtstart=new Date(new Date().setMilliseconds(0))),Ot(e.wkst)?zr(e.wkst)||(e.wkst=e.wkst.weekday):e.wkst=me.MO.weekday,Ot(e.bysetpos)){zr(e.bysetpos)&&(e.bysetpos=[e.bysetpos]);for(var t=0;t<e.bysetpos.length;t++){var i=e.bysetpos[t];if(i===0||!(i>=-366&&i<=366))throw new Error("bysetpos must be between 1 and 366, or between -366 and -1")}}if(!(e.byweekno||Qt(e.byweekno)||Qt(e.byyearday)||e.bymonthday||Qt(e.bymonthday)||Ot(e.byweekday)||Ot(e.byeaster)))switch(e.freq){case me.YEARLY:e.bymonth||(e.bymonth=e.dtstart.getUTCMonth()+1),e.bymonthday=e.dtstart.getUTCDate();break;case me.MONTHLY:e.bymonthday=e.dtstart.getUTCDate();break;case me.WEEKLY:e.byweekday=[vl(e.dtstart)];break}if(Ot(e.bymonth)&&!Bn(e.bymonth)&&(e.bymonth=[e.bymonth]),Ot(e.byyearday)&&!Bn(e.byyearday)&&zr(e.byyearday)&&(e.byyearday=[e.byyearday]),!Ot(e.bymonthday))e.bymonthday=[],e.bynmonthday=[];else if(Bn(e.bymonthday)){for(var a=[],l=[],t=0;t<e.bymonthday.length;t++){var i=e.bymonthday[t];i>0?a.push(i):i<0&&l.push(i)}e.bymonthday=a,e.bynmonthday=l}else e.bymonthday<0?(e.bynmonthday=[e.bymonthday],e.bymonthday=[]):(e.bynmonthday=[],e.bymonthday=[e.bymonthday]);if(Ot(e.byweekno)&&!Bn(e.byweekno)&&(e.byweekno=[e.byweekno]),!Ot(e.byweekday))e.bynweekday=null;else if(zr(e.byweekday))e.byweekday=[e.byweekday],e.bynweekday=null;else if(Iw(e.byweekday))e.byweekday=[En.fromStr(e.byweekday).weekday],e.bynweekday=null;else if(e.byweekday instanceof En)!e.byweekday.n||e.freq>me.MONTHLY?(e.byweekday=[e.byweekday.weekday],e.bynweekday=null):(e.bynweekday=[[e.byweekday.weekday,e.byweekday.n]],e.byweekday=null);else{for(var c=[],h=[],t=0;t<e.byweekday.length;t++){var m=e.byweekday[t];if(zr(m)){c.push(m);continue}else if(Iw(m)){c.push(En.fromStr(m).weekday);continue}!m.n||e.freq>me.MONTHLY?c.push(m.weekday):h.push([m.weekday,m.n])}e.byweekday=Qt(c)?c:null,e.bynweekday=Qt(h)?h:null}return Ot(e.byhour)?zr(e.byhour)&&(e.byhour=[e.byhour]):e.byhour=e.freq<me.HOURLY?[e.dtstart.getUTCHours()]:null,Ot(e.byminute)?zr(e.byminute)&&(e.byminute=[e.byminute]):e.byminute=e.freq<me.MINUTELY?[e.dtstart.getUTCMinutes()]:null,Ot(e.bysecond)?zr(e.bysecond)&&(e.bysecond=[e.bysecond]):e.bysecond=e.freq<me.SECONDLY?[e.dtstart.getUTCSeconds()]:null,{parsedOptions:e}}function x6(n){var e=n.dtstart.getTime()%1e3;if(!Gv(n.freq))return[];var t=[];return n.byhour.forEach(function(i){n.byminute.forEach(function(a){n.bysecond.forEach(function(l){t.push(new hd(i,a,l,e))})})}),t}function Iy(n){var e=n.split(`
`).map(C6).filter(function(t){return t!==null});return Hn(Hn({},e[0]),e[1])}function dd(n){var e={},t=/DTSTART(?:;TZID=([^:=]+?))?(?::|=)([^;\s]+)/i.exec(n);if(!t)return e;var i=t[1],a=t[2];return i&&(e.tzid=i),e.dtstart=Yv(a),e}function C6(n){if(n=n.replace(/^\s+|\s+$/,""),!n.length)return null;var e=/^([A-Z]+?)[:;]/.exec(n.toUpperCase());if(!e)return Mw(n);var t=e[1];switch(t.toUpperCase()){case"RRULE":case"EXRULE":return Mw(n);case"DTSTART":return dd(n);default:throw new Error("Unsupported RFC prop ".concat(t," in ").concat(n))}}function Mw(n){var e=n.replace(/^RRULE:/i,""),t=dd(e),i=n.replace(/^(?:RRULE|EXRULE):/i,"").split(";");return i.forEach(function(a){var l=a.split("="),c=l[0],h=l[1];switch(c.toUpperCase()){case"FREQ":t.freq=Ke[h.toUpperCase()];break;case"WKST":t.wkst=pr[h.toUpperCase()];break;case"COUNT":case"INTERVAL":case"BYSETPOS":case"BYMONTH":case"BYMONTHDAY":case"BYYEARDAY":case"BYWEEKNO":case"BYHOUR":case"BYMINUTE":case"BYSECOND":var m=D6(h),p=c.toLowerCase();t[p]=m;break;case"BYWEEKDAY":case"BYDAY":t.byweekday=O6(h);break;case"DTSTART":case"TZID":var y=dd(n);t.tzid=y.tzid,t.dtstart=y.dtstart;break;case"UNTIL":t.until=Yv(h);break;case"BYEASTER":t.byeaster=Number(h);break;default:throw new Error("Unknown RRULE property '"+c+"'")}}),t}function D6(n){if(n.indexOf(",")!==-1){var e=n.split(",");return e.map(kw)}return kw(n)}function kw(n){return/^[+-]?\d+$/.test(n)?Number(n):n}function O6(n){var e=n.split(",");return e.map(function(t){if(t.length===2)return pr[t];var i=t.match(/^([+-]?\d{1,2})([A-Z]{2})$/);if(!i||i.length<3)throw new SyntaxError("Invalid weekday string: ".concat(t));var a=Number(i[1]),l=i[2],c=pr[l].weekday;return new En(c,a)})}var md=function(){function n(e,t){if(isNaN(e.getTime()))throw new RangeError("Invalid date passed to DateWithZone");this.date=e,this.tzid=t}return Object.defineProperty(n.prototype,"isUTC",{get:function(){return!this.tzid||this.tzid.toUpperCase()==="UTC"},enumerable:!1,configurable:!0}),n.prototype.toString=function(){var e=qv(this.date.getTime(),this.isUTC);return this.isUTC?":".concat(e):";TZID=".concat(this.tzid,":").concat(e)},n.prototype.getTime=function(){return this.date.getTime()},n.prototype.rezonedDate=function(){return this.isUTC?this.date:_6(this.date,this.tzid)},n}();function xy(n){for(var e=[],t="",i=Object.keys(n),a=Object.keys(Kv),l=0;l<i.length;l++)if(i[l]!=="tzid"&&ut(a,i[l])){var c=i[l].toUpperCase(),h=n[i[l]],m="";if(!(!Ot(h)||Bn(h)&&!h.length)){switch(c){case"FREQ":m=me.FREQUENCIES[n.freq];break;case"WKST":zr(h)?m=new En(h).toString():m=h.toString();break;case"BYWEEKDAY":c="BYDAY",m=d6(h).map(function(w){return w instanceof En?w:Bn(w)?new En(w[0],w[1]):new En(w)}).toString();break;case"DTSTART":t=N6(h,n.tzid);break;case"UNTIL":m=qv(h,!n.tzid);break;default:if(Bn(h)){for(var p=[],y=0;y<h.length;y++)p[y]=String(h[y]);m=p.toString()}else m=String(h)}m&&e.push([c,m])}}var _=e.map(function(w){var R=w[0],C=w[1];return"".concat(R,"=").concat(C.toString())}).join(";"),b="";return _!==""&&(b="RRULE:".concat(_)),[t,b].filter(function(w){return!!w}).join(`
`)}function N6(n,e){return n?"DTSTART"+new md(new Date(n),e).toString():""}function M6(n,e){return Array.isArray(n)?!Array.isArray(e)||n.length!==e.length?!1:n.every(function(t,i){return t.getTime()===e[i].getTime()}):n instanceof Date?e instanceof Date&&n.getTime()===e.getTime():n===e}var k6=function(){function n(){this.all=!1,this.before=[],this.after=[],this.between=[]}return n.prototype._cacheAdd=function(e,t,i){t&&(t=t instanceof Date?Ry(t):Cw(t)),e==="all"?this.all=t:(i._value=t,this[e].push(i))},n.prototype._cacheGet=function(e,t){var i=!1,a=t?Object.keys(t):[],l=function(y){for(var _=0;_<a.length;_++){var b=a[_];if(!M6(t[b],y[b]))return!0}return!1},c=this[e];if(e==="all")i=this.all;else if(Bn(c))for(var h=0;h<c.length;h++){var m=c[h];if(!(a.length&&l(m))){i=m._value;break}}if(!i&&this.all){for(var p=new Jo(e,t),h=0;h<this.all.length&&p.accept(this.all[h]);h++);i=p.getValue(),this._cacheAdd(e,i,t)}return Bn(i)?Cw(i):i instanceof Date?Ry(i):i},n}(),P6=de(de(de(de(de(de(de(de(de(de(de(de(de([],Ge(1,31),!0),Ge(2,28),!0),Ge(3,31),!0),Ge(4,30),!0),Ge(5,31),!0),Ge(6,30),!0),Ge(7,31),!0),Ge(8,31),!0),Ge(9,30),!0),Ge(10,31),!0),Ge(11,30),!0),Ge(12,31),!0),Ge(1,7),!0),L6=de(de(de(de(de(de(de(de(de(de(de(de(de([],Ge(1,31),!0),Ge(2,29),!0),Ge(3,31),!0),Ge(4,30),!0),Ge(5,31),!0),Ge(6,30),!0),Ge(7,31),!0),Ge(8,31),!0),Ge(9,30),!0),Ge(10,31),!0),Ge(11,30),!0),Ge(12,31),!0),Ge(1,7),!0),V6=ti(1,29),U6=ti(1,30),Ts=ti(1,31),hn=ti(1,32),j6=de(de(de(de(de(de(de(de(de(de(de(de(de([],hn,!0),U6,!0),hn,!0),Ts,!0),hn,!0),Ts,!0),hn,!0),hn,!0),Ts,!0),hn,!0),Ts,!0),hn,!0),hn.slice(0,7),!0),F6=de(de(de(de(de(de(de(de(de(de(de(de(de([],hn,!0),V6,!0),hn,!0),Ts,!0),hn,!0),Ts,!0),hn,!0),hn,!0),Ts,!0),hn,!0),Ts,!0),hn,!0),hn.slice(0,7),!0),z6=ti(-28,0),B6=ti(-29,0),ws=ti(-30,0),dn=ti(-31,0),$6=de(de(de(de(de(de(de(de(de(de(de(de(de([],dn,!0),B6,!0),dn,!0),ws,!0),dn,!0),ws,!0),dn,!0),dn,!0),ws,!0),dn,!0),ws,!0),dn,!0),dn.slice(0,7),!0),H6=de(de(de(de(de(de(de(de(de(de(de(de(de([],dn,!0),z6,!0),dn,!0),ws,!0),dn,!0),ws,!0),dn,!0),dn,!0),ws,!0),dn,!0),ws,!0),dn,!0),dn.slice(0,7),!0),q6=[0,31,60,91,121,152,182,213,244,274,305,335,366],Y6=[0,31,59,90,120,151,181,212,243,273,304,334,365],Pw=function(){for(var n=[],e=0;e<55;e++)n=n.concat(ti(7));return n}();function G6(n,e){var t=qa(n,1,1),i=lc(n)?366:365,a=lc(n+1)?366:365,l=Ay(t),c=vl(t),h=Hn(Hn({yearlen:i,nextyearlen:a,yearordinal:l,yearweekday:c},K6(n)),{wnomask:null});if($r(e.byweekno))return h;h.wnomask=Ge(0,i+7);var m,p,y=m=ar(7-c+e.wkst,7);y>=4?(y=0,p=h.yearlen+ar(c-e.wkst,7)):p=i-y;for(var _=Math.floor(p/7),b=ar(p,7),w=Math.floor(_+b/4),R=0;R<e.byweekno.length;R++){var C=e.byweekno[R];if(C<0&&(C+=w+1),C>0&&C<=w){var D=void 0;C>1?(D=y+(C-1)*7,y!==m&&(D-=7-m)):D=y;for(var B=0;B<7&&(h.wnomask[D]=1,D++,h.wdaymask[D]!==e.wkst);B++);}}if(ut(e.byweekno,1)){var D=y+w*7;if(y!==m&&(D-=7-m),D<i)for(var R=0;R<7&&(h.wnomask[D]=1,D+=1,h.wdaymask[D]!==e.wkst);R++);}if(y){var F=void 0;if(ut(e.byweekno,-1))F=-1;else{var q=vl(qa(n-1,1,1)),H=ar(7-q.valueOf()+e.wkst,7),K=lc(n-1)?366:365,ee=void 0;H>=4?(H=0,ee=K+ar(q-e.wkst,7)):ee=i-y,F=Math.floor(52+ar(ee,7)/4)}if(ut(e.byweekno,F))for(var D=0;D<y;D++)h.wnomask[D]=1}return h}function K6(n){var e=lc(n)?366:365,t=qa(n,1,1),i=vl(t);return e===365?{mmask:P6,mdaymask:F6,nmdaymask:H6,wdaymask:Pw.slice(i),mrange:Y6}:{mmask:L6,mdaymask:j6,nmdaymask:$6,wdaymask:Pw.slice(i),mrange:q6}}function Q6(n,e,t,i,a,l){var c={lastyear:n,lastmonth:e,nwdaymask:[]},h=[];if(l.freq===me.YEARLY)if($r(l.bymonth))h=[[0,t]];else for(var m=0;m<l.bymonth.length;m++)e=l.bymonth[m],h.push(i.slice(e-1,e+1));else l.freq===me.MONTHLY&&(h=[i.slice(e-1,e+1)]);if($r(h))return c;c.nwdaymask=Ge(0,t);for(var m=0;m<h.length;m++)for(var p=h[m],y=p[0],_=p[1]-1,b=0;b<l.bynweekday.length;b++){var w=void 0,R=l.bynweekday[b],C=R[0],D=R[1];D<0?(w=_+(D+1)*7,w-=ar(a[w]-C,7)):(w=y+(D-1)*7,w+=ar(7-a[w]+C,7)),y<=w&&w<=_&&(c.nwdaymask[w]=1)}return c}function W6(n,e){e===void 0&&(e=0);var t=n%19,i=Math.floor(n/100),a=n%100,l=Math.floor(i/4),c=i%4,h=Math.floor((i+8)/25),m=Math.floor((i-h+1)/3),p=Math.floor(19*t+i-l-m+15)%30,y=Math.floor(a/4),_=a%4,b=Math.floor(32+2*c+2*y-p-_)%7,w=Math.floor((t+11*p+22*b)/451),R=Math.floor((p+b-7*w+114)/31),C=(p+b-7*w+114)%31+1,D=Date.UTC(n,R-1,C+e),B=Date.UTC(n,0,1);return[Math.ceil((D-B)/(1e3*60*60*24))]}var X6=function(){function n(e){this.options=e}return n.prototype.rebuild=function(e,t){var i=this.options;if(e!==this.lastyear&&(this.yearinfo=G6(e,i)),Qt(i.bynweekday)&&(t!==this.lastmonth||e!==this.lastyear)){var a=this.yearinfo,l=a.yearlen,c=a.mrange,h=a.wdaymask;this.monthinfo=Q6(e,t,l,c,h,i)}Ot(i.byeaster)&&(this.eastermask=W6(e,i.byeaster))},Object.defineProperty(n.prototype,"lastyear",{get:function(){return this.monthinfo?this.monthinfo.lastyear:null},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"lastmonth",{get:function(){return this.monthinfo?this.monthinfo.lastmonth:null},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"yearlen",{get:function(){return this.yearinfo.yearlen},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"yearordinal",{get:function(){return this.yearinfo.yearordinal},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"mrange",{get:function(){return this.yearinfo.mrange},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"wdaymask",{get:function(){return this.yearinfo.wdaymask},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"mmask",{get:function(){return this.yearinfo.mmask},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"wnomask",{get:function(){return this.yearinfo.wnomask},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"nwdaymask",{get:function(){return this.monthinfo?this.monthinfo.nwdaymask:[]},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"nextyearlen",{get:function(){return this.yearinfo.nextyearlen},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"mdaymask",{get:function(){return this.yearinfo.mdaymask},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"nmdaymask",{get:function(){return this.yearinfo.nmdaymask},enumerable:!1,configurable:!0}),n.prototype.ydayset=function(){return[ti(this.yearlen),0,this.yearlen]},n.prototype.mdayset=function(e,t){for(var i=this.mrange[t-1],a=this.mrange[t],l=Ge(null,this.yearlen),c=i;c<a;c++)l[c]=c;return[l,i,a]},n.prototype.wdayset=function(e,t,i){for(var a=Ge(null,this.yearlen+7),l=Ay(qa(e,t,i))-this.yearordinal,c=l,h=0;h<7&&(a[l]=l,++l,this.wdaymask[l]!==this.options.wkst);h++);return[a,c,l]},n.prototype.ddayset=function(e,t,i){var a=Ge(null,this.yearlen),l=Ay(qa(e,t,i))-this.yearordinal;return a[l]=l,[a,l,l+1]},n.prototype.htimeset=function(e,t,i,a){var l=this,c=[];return this.options.byminute.forEach(function(h){c=c.concat(l.mtimeset(e,h,i,a))}),wc(c),c},n.prototype.mtimeset=function(e,t,i,a){var l=this.options.bysecond.map(function(c){return new hd(e,t,c,a)});return wc(l),l},n.prototype.stimeset=function(e,t,i,a){return[new hd(e,t,i,a)]},n.prototype.getdayset=function(e){switch(e){case Ke.YEARLY:return this.ydayset.bind(this);case Ke.MONTHLY:return this.mdayset.bind(this);case Ke.WEEKLY:return this.wdayset.bind(this);case Ke.DAILY:return this.ddayset.bind(this);default:return this.ddayset.bind(this)}},n.prototype.gettimeset=function(e){switch(e){case Ke.HOURLY:return this.htimeset.bind(this);case Ke.MINUTELY:return this.mtimeset.bind(this);case Ke.SECONDLY:return this.stimeset.bind(this)}},n}();function Z6(n,e,t,i,a,l){for(var c=[],h=0;h<n.length;h++){var m=void 0,p=void 0,y=n[h];y<0?(m=Math.floor(y/e.length),p=ar(y,e.length)):(m=Math.floor((y-1)/e.length),p=ar(y-1,e.length));for(var _=[],b=t;b<i;b++){var w=l[b];Ot(w)&&_.push(w)}var R=void 0;m<0?R=_.slice(m)[0]:R=_[m];var C=e[p],D=FR(a.yearordinal+R),B=zR(D,C);ut(c,B)||c.push(B)}return wc(c),c}function HR(n,e){var t=e.dtstart,i=e.freq,a=e.interval,l=e.until,c=e.bysetpos,h=e.count;if(h===0||a===0)return xi(n);var m=R6.fromDate(t),p=new X6(e);p.rebuild(m.year,m.month);for(var y=tV(p,m,e);;){var _=p.getdayset(i)(m.year,m.month,m.day),b=_[0],w=_[1],R=_[2],C=eV(b,w,R,p,e);if(Qt(c))for(var D=Z6(c,y,w,R,p,b),B=0;B<D.length;B++){var F=D[B];if(l&&F>l)return xi(n);if(F>=t){var q=Lw(F,e);if(!n.accept(q)||h&&(--h,!h))return xi(n)}}else for(var B=w;B<R;B++){var H=b[B];if(Ot(H))for(var K=FR(p.yearordinal+H),ee=0;ee<y.length;ee++){var N=y[ee],F=zR(K,N);if(l&&F>l)return xi(n);if(F>=t){var q=Lw(F,e);if(!n.accept(q)||h&&(--h,!h))return xi(n)}}}if(e.interval===0||(m.add(e,C),m.year>VR))return xi(n);Gv(i)||(y=p.gettimeset(i)(m.hour,m.minute,m.second,0)),p.rebuild(m.year,m.month)}}function J6(n,e,t){var i=t.bymonth,a=t.byweekno,l=t.byweekday,c=t.byeaster,h=t.bymonthday,m=t.bynmonthday,p=t.byyearday;return Qt(i)&&!ut(i,n.mmask[e])||Qt(a)&&!n.wnomask[e]||Qt(l)&&!ut(l,n.wdaymask[e])||Qt(n.nwdaymask)&&!n.nwdaymask[e]||c!==null&&!ut(n.eastermask,e)||(Qt(h)||Qt(m))&&!ut(h,n.mdaymask[e])&&!ut(m,n.nmdaymask[e])||Qt(p)&&(e<n.yearlen&&!ut(p,e+1)&&!ut(p,-n.yearlen+e)||e>=n.yearlen&&!ut(p,e+1-n.yearlen)&&!ut(p,-n.nextyearlen+e-n.yearlen))}function Lw(n,e){return new md(n,e.tzid).rezonedDate()}function xi(n){return n.getValue()}function eV(n,e,t,i,a){for(var l=!1,c=e;c<t;c++){var h=n[c];l=J6(i,h,a),l&&(n[h]=null)}return l}function tV(n,e,t){var i=t.freq,a=t.byhour,l=t.byminute,c=t.bysecond;return Gv(i)?x6(t):i>=me.HOURLY&&Qt(a)&&!ut(a,e.hour)||i>=me.MINUTELY&&Qt(l)&&!ut(l,e.minute)||i>=me.SECONDLY&&Qt(c)&&!ut(c,e.second)?[]:n.gettimeset(i)(e.hour,e.minute,e.second,e.millisecond)}var pr={MO:new En(0),TU:new En(1),WE:new En(2),TH:new En(3),FR:new En(4),SA:new En(5),SU:new En(6)},Kv={freq:Ke.YEARLY,dtstart:null,interval:1,wkst:pr.MO,count:null,until:null,tzid:null,bysetpos:null,bymonth:null,bymonthday:null,bynmonthday:null,byyearday:null,byweekno:null,byweekday:null,bynweekday:null,byhour:null,byminute:null,bysecond:null,byeaster:null},nV=Object.keys(Kv),me=function(){function n(e,t){e===void 0&&(e={}),t===void 0&&(t=!1),this._cache=t?null:new k6,this.origOptions=$R(e);var i=I6(e).parsedOptions;this.options=i}return n.parseText=function(e,t){return BR(e,t)},n.fromText=function(e,t){return w6(e,t)},n.fromString=function(e){return new n(n.parseString(e)||void 0)},n.prototype._iter=function(e){return HR(e,this.options)},n.prototype._cacheGet=function(e,t){return this._cache?this._cache._cacheGet(e,t):!1},n.prototype._cacheAdd=function(e,t,i){if(this._cache)return this._cache._cacheAdd(e,t,i)},n.prototype.all=function(e){if(e)return this._iter(new Ow("all",{},e));var t=this._cacheGet("all");return t===!1&&(t=this._iter(new Jo("all",{})),this._cacheAdd("all",t)),t},n.prototype.between=function(e,t,i,a){if(i===void 0&&(i=!1),!Zu(e)||!Zu(t))throw new Error("Invalid date passed in to RRule.between");var l={before:t,after:e,inc:i};if(a)return this._iter(new Ow("between",l,a));var c=this._cacheGet("between",l);return c===!1&&(c=this._iter(new Jo("between",l)),this._cacheAdd("between",c,l)),c},n.prototype.before=function(e,t){if(t===void 0&&(t=!1),!Zu(e))throw new Error("Invalid date passed in to RRule.before");var i={dt:e,inc:t},a=this._cacheGet("before",i);return a===!1&&(a=this._iter(new Jo("before",i)),this._cacheAdd("before",a,i)),a},n.prototype.after=function(e,t){if(t===void 0&&(t=!1),!Zu(e))throw new Error("Invalid date passed in to RRule.after");var i={dt:e,inc:t},a=this._cacheGet("after",i);return a===!1&&(a=this._iter(new Jo("after",i)),this._cacheAdd("after",a,i)),a},n.prototype.count=function(){return this.all().length},n.prototype.toString=function(){return xy(this.origOptions)},n.prototype.toText=function(e,t,i){return S6(this,e,t,i)},n.prototype.isFullyConvertibleToText=function(){return A6(this)},n.prototype.clone=function(){return new n(this.origOptions)},n.FREQUENCIES=["YEARLY","MONTHLY","WEEKLY","DAILY","HOURLY","MINUTELY","SECONDLY"],n.YEARLY=Ke.YEARLY,n.MONTHLY=Ke.MONTHLY,n.WEEKLY=Ke.WEEKLY,n.DAILY=Ke.DAILY,n.HOURLY=Ke.HOURLY,n.MINUTELY=Ke.MINUTELY,n.SECONDLY=Ke.SECONDLY,n.MO=pr.MO,n.TU=pr.TU,n.WE=pr.WE,n.TH=pr.TH,n.FR=pr.FR,n.SA=pr.SA,n.SU=pr.SU,n.parseString=Iy,n.optionsToString=xy,n}();function rV(n,e,t,i,a,l){var c={},h=n.accept;function m(b,w){t.forEach(function(R){R.between(b,w,!0).forEach(function(C){c[Number(C)]=!0})})}a.forEach(function(b){var w=new md(b,l).rezonedDate();c[Number(w)]=!0}),n.accept=function(b){var w=Number(b);return isNaN(w)?h.call(this,b):!c[w]&&(m(new Date(w-1),new Date(w+1)),!c[w])?(c[w]=!0,h.call(this,b)):!0},n.method==="between"&&(m(n.args.after,n.args.before),n.accept=function(b){var w=Number(b);return c[w]?!0:(c[w]=!0,h.call(this,b))});for(var p=0;p<i.length;p++){var y=new md(i[p],l).rezonedDate();if(!n.accept(new Date(y.getTime())))break}e.forEach(function(b){HR(n,b.options)});var _=n._result;switch(wc(_),n.method){case"all":case"between":return _;case"before":return _.length&&_[_.length-1]||null;case"after":default:return _.length&&_[0]||null}}var Vw={dtstart:null,cache:!1,unfold:!1,forceset:!1,compatible:!1,tzid:null};function iV(n,e){var t=[],i=[],a=[],l=[],c=dd(n),h=c.dtstart,m=c.tzid,p=uV(n,e.unfold);return p.forEach(function(y){var _;if(y){var b=lV(y),w=b.name,R=b.parms,C=b.value;switch(w.toUpperCase()){case"RRULE":if(R.length)throw new Error("unsupported RRULE parm: ".concat(R.join(",")));t.push(Iy(y));break;case"RDATE":var D=(_=/RDATE(?:;TZID=([^:=]+))?/i.exec(y))!==null&&_!==void 0?_:[],B=D[1];B&&!m&&(m=B),i=i.concat(jw(C,R));break;case"EXRULE":if(R.length)throw new Error("unsupported EXRULE parm: ".concat(R.join(",")));a.push(Iy(C));break;case"EXDATE":l=l.concat(jw(C,R));break;case"DTSTART":break;default:throw new Error("unsupported property: "+w)}}}),{dtstart:h,tzid:m,rrulevals:t,rdatevals:i,exrulevals:a,exdatevals:l}}function sV(n,e){var t=iV(n,e),i=t.rrulevals,a=t.rdatevals,l=t.exrulevals,c=t.exdatevals,h=t.dtstart,m=t.tzid,p=e.cache===!1;if(e.compatible&&(e.forceset=!0,e.unfold=!0),e.forceset||i.length>1||a.length||l.length||c.length){var y=new fV(p);return y.dtstart(h),y.tzid(m||void 0),i.forEach(function(b){y.rrule(new me(Og(b,h,m),p))}),a.forEach(function(b){y.rdate(b)}),l.forEach(function(b){y.exrule(new me(Og(b,h,m),p))}),c.forEach(function(b){y.exdate(b)}),e.compatible&&e.dtstart&&y.rdate(h),y}var _=i[0]||{};return new me(Og(_,_.dtstart||e.dtstart||h,_.tzid||e.tzid||m),p)}function Uw(n,e){return e===void 0&&(e={}),sV(n,aV(e))}function Og(n,e,t){return Hn(Hn({},n),{dtstart:e,tzid:t})}function aV(n){var e=[],t=Object.keys(n),i=Object.keys(Vw);if(t.forEach(function(a){ut(i,a)||e.push(a)}),e.length)throw new Error("Invalid options: "+e.join(", "));return Hn(Hn({},Vw),n)}function oV(n){if(n.indexOf(":")===-1)return{name:"RRULE",value:n};var e=m6(n,":",1),t=e[0],i=e[1];return{name:t,value:i}}function lV(n){var e=oV(n),t=e.name,i=e.value,a=t.split(";");if(!a)throw new Error("empty property name");return{name:a[0].toUpperCase(),parms:a.slice(1),value:i}}function uV(n,e){if(e===void 0&&(e=!1),n=n&&n.trim(),!n)throw new Error("Invalid empty string");if(!e)return n.split(/\s/);for(var t=n.split(`
`),i=0;i<t.length;){var a=t[i]=t[i].replace(/\s+$/g,"");a?i>0&&a[0]===" "?(t[i-1]+=a.slice(1),t.splice(i,1)):i+=1:t.splice(i,1)}return t}function cV(n){n.forEach(function(e){if(!/(VALUE=DATE(-TIME)?)|(TZID=)/.test(e))throw new Error("unsupported RDATE/EXDATE parm: "+e)})}function jw(n,e){return cV(e),n.split(",").map(function(t){return Yv(t)})}function Fw(n){var e=this;return function(t){if(t!==void 0&&(e["_".concat(n)]=t),e["_".concat(n)]!==void 0)return e["_".concat(n)];for(var i=0;i<e._rrule.length;i++){var a=e._rrule[i].origOptions[n];if(a)return a}}}var fV=function(n){My(e,n);function e(t){t===void 0&&(t=!1);var i=n.call(this,{},t)||this;return i.dtstart=Fw.apply(i,["dtstart"]),i.tzid=Fw.apply(i,["tzid"]),i._rrule=[],i._rdate=[],i._exrule=[],i._exdate=[],i}return e.prototype._iter=function(t){return rV(t,this._rrule,this._exrule,this._rdate,this._exdate,this.tzid())},e.prototype.rrule=function(t){zw(t,this._rrule)},e.prototype.exrule=function(t){zw(t,this._exrule)},e.prototype.rdate=function(t){Bw(t,this._rdate)},e.prototype.exdate=function(t){Bw(t,this._exdate)},e.prototype.rrules=function(){return this._rrule.map(function(t){return Uw(t.toString())})},e.prototype.exrules=function(){return this._exrule.map(function(t){return Uw(t.toString())})},e.prototype.rdates=function(){return this._rdate.map(function(t){return new Date(t.getTime())})},e.prototype.exdates=function(){return this._exdate.map(function(t){return new Date(t.getTime())})},e.prototype.valueOf=function(){var t=[];return!this._rrule.length&&this._dtstart&&(t=t.concat(xy({dtstart:this._dtstart}))),this._rrule.forEach(function(i){t=t.concat(i.toString().split(`
`))}),this._exrule.forEach(function(i){t=t.concat(i.toString().split(`
`).map(function(a){return a.replace(/^RRULE:/,"EXRULE:")}).filter(function(a){return!/^DTSTART/.test(a)}))}),this._rdate.length&&t.push($w("RDATE",this._rdate,this.tzid())),this._exdate.length&&t.push($w("EXDATE",this._exdate,this.tzid())),t},e.prototype.toString=function(){return this.valueOf().join(`
`)},e.prototype.clone=function(){var t=new e(!!this._cache);return this._rrule.forEach(function(i){return t.rrule(i.clone())}),this._exrule.forEach(function(i){return t.exrule(i.clone())}),this._rdate.forEach(function(i){return t.rdate(new Date(i.getTime()))}),this._exdate.forEach(function(i){return t.exdate(new Date(i.getTime()))}),t},e}(me);function zw(n,e){if(!(n instanceof me))throw new TypeError(String(n)+" is not RRule instance");ut(e.map(String),String(n))||e.push(n)}function Bw(n,e){if(!(n instanceof Date))throw new TypeError(String(n)+" is not Date instance");ut(e.map(Number),Number(n))||(e.push(n),wc(e))}function $w(n,e,t){var i=!t||t.toUpperCase()==="UTC",a=i?"".concat(n,":"):"".concat(n,";TZID=").concat(t,":"),l=e.map(function(c){return qv(c.valueOf(),i)}).join(",");return"".concat(a).concat(l)}function hV({isRecurring:n,onChange:e}){const[t,i]=A.useState("WEEKLY"),[a,l]=A.useState(1),[c,h]=A.useState([new Date().getDay()||7]),[m,p]=A.useState("dayOfMonth"),[y,_]=A.useState(new Date().getDate()),[b,w]=A.useState(Math.ceil(new Date().getDate()/7)),[R,C]=A.useState(new Date().getDay()||7),[D,B]=A.useState(new Date().getMonth()+1),[F,q]=A.useState(new Date().getDate());return A.useEffect(()=>{if(!n){e(null);return}try{if(t==="WEEKLY"&&c.length===0){e(null);return}let H={freq:me[t],interval:a};switch(t){case"WEEKLY":const ee=c.map(N=>[me.SU,me.MO,me.TU,me.WE,me.TH,me.FR,me.SA][N%7]);H.byweekday=ee;break;case"MONTHLY":if(m==="dayOfMonth")H.bymonthday=[y];else{const N={0:me.SU,1:me.MO,2:me.TU,3:me.WE,4:me.TH,5:me.FR,6:me.SA}[R];b===-1?(H.bysetpos=-1,H.byweekday=[N]):(H.bysetpos=b,H.byweekday=[N])}break;case"YEARLY":H.bymonth=[D],H.bymonthday=[F];break}const K=new me(H);e(K.toString())}catch(H){console.error("Error creating RRule:",H),e(null)}},[n,t,a,c,m,y,b,R,D,F,e]),n?P.jsxs("div",{className:"mt-4 p-4 rounded-md border border-gray-600 bg-gray-700",children:[P.jsx("h3",{className:"text-sm font-medium text-white mb-3",children:"Recurrence Pattern"}),P.jsxs("div",{className:"mb-4",children:[P.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Repeats"}),P.jsxs("select",{value:t,onChange:H=>i(H.target.value),className:"block w-full rounded-md border border-gray-600 bg-gray-700 py-2 px-3 text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 sm:text-sm",children:[P.jsx("option",{value:"DAILY",children:"Daily"}),P.jsx("option",{value:"WEEKLY",children:"Weekly"}),P.jsx("option",{value:"MONTHLY",children:"Monthly"}),P.jsx("option",{value:"YEARLY",children:"Yearly"})]})]}),P.jsxs("div",{className:"mb-4",children:[P.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Every"}),P.jsxs("div",{className:"flex items-center",children:[P.jsx("input",{type:"number",min:"1",max:"99",value:a,onChange:H=>l(parseInt(H.target.value)||1),className:"w-16 rounded-md border border-gray-600 bg-gray-700 py-2 px-3 text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 sm:text-sm"}),P.jsxs("span",{className:"ml-2 text-sm text-gray-300",children:[t==="DAILY"&&(a>1?"days":"day"),t==="WEEKLY"&&(a>1?"weeks":"week"),t==="MONTHLY"&&(a>1?"months":"month"),t==="YEARLY"&&(a>1?"years":"year")]})]})]}),t==="WEEKLY"&&P.jsxs("div",{className:"mb-4",children:[P.jsxs("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["On these days ",c.length===0&&P.jsx("span",{className:"text-red-400 ml-1",children:"(required)"})]}),P.jsx("div",{className:"grid grid-cols-7 gap-1",children:["S","M","T","W","T","F","S"].map((H,K)=>P.jsx("button",{type:"button",onClick:()=>{h(ee=>ee.includes(K)&&ee.length===1?ee:ee.includes(K)?ee.filter(N=>N!==K):[...ee,K])},className:`h-8 w-8 rounded-full ${c.includes(K)?"bg-blue-600 text-white":c.length===0?"bg-gray-600 text-gray-300 border border-red-400":"bg-gray-600 text-gray-300"} focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 focus:ring-offset-gray-800`,children:H},K))})]}),t==="MONTHLY"&&P.jsxs("div",{className:"mb-4",children:[P.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Monthly pattern"}),P.jsxs("div",{className:"space-y-3",children:[P.jsxs("div",{className:"flex items-center",children:[P.jsx("input",{type:"radio",id:"dayOfMonth",name:"monthlyType",checked:m==="dayOfMonth",onChange:()=>p("dayOfMonth"),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-500 bg-gray-700"}),P.jsxs("label",{htmlFor:"dayOfMonth",className:"ml-2 text-sm text-gray-300",children:["On day",P.jsx("select",{value:y,onChange:H=>_(parseInt(H.target.value)),className:"ml-2 rounded-md border border-gray-600 bg-gray-700 py-1 px-2 text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 sm:text-sm",disabled:m!=="dayOfMonth",children:Array.from({length:31},(H,K)=>K+1).map(H=>P.jsx("option",{value:H,children:H},H))})]})]}),P.jsxs("div",{className:"flex items-center",children:[P.jsx("input",{type:"radio",id:"dayOfWeek",name:"monthlyType",checked:m==="dayOfWeek",onChange:()=>p("dayOfWeek"),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-500 bg-gray-700"}),P.jsxs("label",{htmlFor:"dayOfWeek",className:"ml-2 text-sm text-gray-300 flex items-center",children:["On the",P.jsxs("select",{value:b,onChange:H=>w(parseInt(H.target.value)),className:"mx-2 rounded-md border border-gray-600 bg-gray-700 py-1 px-2 text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 sm:text-sm",disabled:m!=="dayOfWeek",children:[P.jsx("option",{value:"1",children:"first"}),P.jsx("option",{value:"2",children:"second"}),P.jsx("option",{value:"3",children:"third"}),P.jsx("option",{value:"4",children:"fourth"}),P.jsx("option",{value:"-1",children:"last"})]}),P.jsxs("select",{value:R,onChange:H=>C(parseInt(H.target.value)),className:"rounded-md border border-gray-600 bg-gray-700 py-1 px-2 text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 sm:text-sm",disabled:m!=="dayOfWeek",children:[P.jsx("option",{value:"0",children:"Sunday"}),P.jsx("option",{value:"1",children:"Monday"}),P.jsx("option",{value:"2",children:"Tuesday"}),P.jsx("option",{value:"3",children:"Wednesday"}),P.jsx("option",{value:"4",children:"Thursday"}),P.jsx("option",{value:"5",children:"Friday"}),P.jsx("option",{value:"6",children:"Saturday"})]})]})]})]})]}),t==="YEARLY"&&P.jsxs("div",{className:"mb-4",children:[P.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"On this date"}),P.jsxs("div",{className:"flex space-x-2",children:[P.jsxs("select",{value:D,onChange:H=>B(parseInt(H.target.value)),className:"rounded-md border border-gray-600 bg-gray-700 py-2 px-3 text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 sm:text-sm",children:[P.jsx("option",{value:"1",children:"January"}),P.jsx("option",{value:"2",children:"February"}),P.jsx("option",{value:"3",children:"March"}),P.jsx("option",{value:"4",children:"April"}),P.jsx("option",{value:"5",children:"May"}),P.jsx("option",{value:"6",children:"June"}),P.jsx("option",{value:"7",children:"July"}),P.jsx("option",{value:"8",children:"August"}),P.jsx("option",{value:"9",children:"September"}),P.jsx("option",{value:"10",children:"October"}),P.jsx("option",{value:"11",children:"November"}),P.jsx("option",{value:"12",children:"December"})]}),P.jsx("select",{value:F,onChange:H=>q(parseInt(H.target.value)),className:"rounded-md border border-gray-600 bg-gray-700 py-2 px-3 text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 sm:text-sm",children:Array.from({length:31},(H,K)=>K+1).map(H=>P.jsx("option",{value:H,children:H},H))})]})]}),P.jsxs("div",{className:"mt-5 p-3 bg-gray-800 rounded-md text-sm text-gray-300",children:[P.jsx("div",{className:"font-medium mb-1",children:"Summary:"}),P.jsx("div",{className:"italic",children:(()=>{try{if(t!=="MONTHLY"||m==="dayOfMonth")return new me({freq:me[t],interval:a,byweekday:t==="WEEKLY"?c.map(K=>[me.SU,me.MO,me.TU,me.WE,me.TH,me.FR,me.SA][K%7]):void 0,bymonthday:t==="MONTHLY"&&m==="dayOfMonth"?[y]:t==="YEARLY"?[F]:void 0,bymonth:t==="YEARLY"?[D]:void 0}).toText();if(t==="MONTHLY"&&m==="dayOfWeek"){const H=b===-1?"last":b===1?"first":b===2?"second":b===3?"third":"fourth",K=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][R];return`Every ${a>1?a+" ":""}month${a>1?"s":""} on the ${H} ${K}`}return"Custom recurrence pattern"}catch(H){return console.error("Error generating summary:",H),"Unable to generate summary"}})()})]})]}):null}const dV=async(n,e,t)=>{try{const i={name:e,date:t,completed:!1,isRecurring:!1,recurrenceId:null,createdAt:Fd()},a=Rl(_r,`users/${n}/instances`),l=await Sv(a,i);return console.log("Todo added with ID: ",l.id),l}catch(i){throw console.error("Error adding todo: ",i),i}},mV=async(n,e,t)=>{try{const i={name:e,rrule:t,createdAt:Fd()},a=Rl(_r,`users/${n}/recurrences`),l=await Sv(a,i),c=l.id;console.log("Recurrence pattern added with ID: ",c);const h=new Date,m=new Date(h.getFullYear(),h.getMonth(),h.getDate());return await qR(n,c,e,t,m),l}catch(i){throw console.error("Error adding recurring todo: ",i),i}},qR=async(n,e,t,i,a=new Date,l)=>{try{const c=me.fromString(i),h=new Date(a);h.setHours(0,0,0,0);let m;if(l){const C=new Date(l);C.setHours(23,59,59,999),m=c.between(h,C,!0)}else{const C=new Date(h);C.setDate(C.getDate()+1),m=c.between(h,C,!0)}const p=Rl(_r,`users/${n}/instances`),y=bc(p,sc("recurrenceId","==",e)),_=await jd(y),b=new Set(_.docs.map(C=>C.data().date));let w=0;const R=m.map(C=>{const D=C.toISOString().split("T")[0];if(b.has(D))return Promise.resolve(null);const B={name:t,date:D,completed:!1,isRecurring:!0,recurrenceId:e,createdAt:Fd()};return w++,Sv(p,B)});await Promise.all(R),console.log(`Generated ${w} todo instances`)}catch(c){throw console.error("Error generating todo instances: ",c),c}},YR=async(n,e=new Date,t)=>{try{const i=await pV(n);if(i.length===0){console.log("No recurrence patterns found.");return}const a=i.map(l=>qR(n,l.id,l.name,l.rrule,e,t));await Promise.all(a),console.log(`Refreshed instances for ${i.length} recurrence patterns.`)}catch(i){throw console.error("Error refreshing recurring todo instances: ",i),i}},pV=async n=>{try{const e=Rl(_r,`users/${n}/recurrences`),t=bc(e,uy("createdAt","desc")),i=await jd(t),a=[];return i.forEach(l=>{const c=l.data();a.push({id:l.id,name:c.name,rrule:c.rrule,createdAt:c.createdAt})}),a}catch(e){throw console.error("Error fetching recurrence patterns: ",e),e}},Ng=()=>new Date().toISOString().split("T")[0];function gV({isOpen:n,onClose:e,selectedDate:t}){const[i,a]=A.useState(""),[l,c]=A.useState(()=>t?t.toISOString().split("T")[0]:Ng()),[h,m]=A.useState(!1),[p,y]=A.useState(null),[_,b]=A.useState(!1),{currentUser:w}=Il(),R=async C=>{if(C.preventDefault(),!w){console.error("No user logged in");return}b(!0);try{h&&p?await mV(w.uid,i,p):await dV(w.uid,i,l),a(""),c(t?t.toISOString().split("T")[0]:Ng()),m(!1),y(null),e()}catch(D){console.error("Failed to add todo: ",D)}finally{b(!1)}};return P.jsx(MR,{open:n,onClose:e,as:"div",className:"relative z-50",children:P.jsxs(Zd,{show:n,as:"div",children:[P.jsx(Ha,{as:"div",enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:P.jsx("div",{className:"fixed inset-0 bg-black/60","aria-hidden":"true"})}),P.jsx("div",{className:"fixed inset-0 flex items-center justify-center p-4",children:P.jsx(Ha,{as:"div",enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:P.jsxs(zv,{className:"mx-auto max-w-sm rounded-lg bg-gray-800 p-5 shadow-xl w-full border border-gray-700",children:[P.jsx(Bv,{className:"text-lg font-medium text-white",children:"New Todo"}),P.jsxs("form",{onSubmit:R,className:"mt-4",children:[P.jsxs("div",{className:"space-y-4",children:[P.jsxs("div",{children:[P.jsx("label",{htmlFor:"todo-name",className:"block text-sm font-medium text-gray-300",children:"Name"}),P.jsxs("div",{className:"mt-1 flex items-center space-x-3",children:[P.jsx("input",{type:"text",id:"todo-name",value:i,onChange:C=>a(C.target.value),className:"flex-1 rounded-md border border-gray-600 bg-gray-700 py-2 px-3 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"What needs to be done?",required:!0,disabled:_}),P.jsxs("div",{className:"flex items-center whitespace-nowrap min-w-[30%]",children:[P.jsx("label",{htmlFor:"todo-recurring",className:"text-sm font-medium text-gray-300 select-none cursor-pointer mr-2",children:"Recurring"}),P.jsxs("div",{className:"relative inline-block w-10 align-middle select-none",children:[P.jsx("input",{type:"checkbox",id:"todo-recurring",checked:h,onChange:C=>m(C.target.checked),className:"sr-only peer",disabled:_}),P.jsx("div",{onClick:()=>!_&&m(!h),className:"h-6 w-11 bg-gray-600 rounded-full peer peer-focus:ring-2 peer-focus:ring-blue-500 peer-checked:bg-blue-600 after:content-[''] after:absolute after:top-0.5 after:left-0.5 after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:after:translate-x-5 cursor-pointer"})]})]})]})]}),!h&&P.jsxs("div",{children:[P.jsx("label",{htmlFor:"todo-date",className:"block text-sm font-medium text-gray-300",children:"Date"}),P.jsx("div",{className:"mt-1 relative rounded-md shadow-sm",children:P.jsx("input",{type:"date",id:"todo-date",value:l,onChange:C=>c(C.target.value),className:"block w-full rounded-md border border-gray-600 bg-gray-700 py-2 px-3 text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 sm:text-sm",required:!0,disabled:_})})]}),h&&P.jsx(hV,{isRecurring:h,onChange:y})]}),P.jsxs("div",{className:"mt-5 flex justify-end space-x-3",children:[P.jsx("button",{type:"button",className:"inline-flex justify-center rounded-md border border-gray-600 bg-gray-700 px-4 py-2 text-sm font-medium text-gray-300 hover:bg-gray-600 focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2 focus-visible:ring-offset-gray-800",onClick:()=>{a(""),c(Ng()),m(!1),y(null),e()},disabled:_,children:"Cancel"}),P.jsx("button",{type:"submit",className:"inline-flex justify-center rounded-md border border-transparent bg-blue-600 px-4 py-2 text-sm font-medium text-white hover:bg-blue-700 focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2 focus-visible:ring-offset-gray-800",disabled:_,children:_?"Adding...":"Add"})]})]})]})})})]})})}function yV({isOpen:n,onClose:e,todoName:t,isRecurring:i,onDeleteConfirm:a}){const l=()=>{a(),e()};return P.jsxs(Zd,{show:n,as:"div",children:["      ",P.jsxs(MR,{as:"div",className:"relative z-10",onClose:e,children:[P.jsxs(Ha,{as:"div",enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:["          ",P.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 transition-opacity"})]}),P.jsx("div",{className:"fixed inset-0 z-10 w-screen overflow-y-auto",children:P.jsxs("div",{className:"flex min-h-full items-end justify-center p-4 text-center sm:items-center sm:p-0",children:["            ",P.jsx(Ha,{as:"div",enter:"ease-out duration-300",enterFrom:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",enterTo:"opacity-100 translate-y-0 sm:scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 translate-y-0 sm:scale-100",leaveTo:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",children:P.jsxs(zv,{className:"relative transform overflow-hidden rounded-lg bg-gray-800 px-4 pb-4 pt-5 text-left shadow-xl transition-all sm:my-8 sm:w-full sm:max-w-lg sm:p-6",children:[P.jsx(Bv,{as:"h3",className:"text-lg font-medium leading-6 text-white mb-4",children:"Delete Todo"}),P.jsxs("div",{className:"mt-2",children:["                  ",P.jsxs("p",{className:"text-sm text-gray-300",children:['Are you sure you want to delete "',t,'"?']}),i&&P.jsxs("div",{className:"mt-4 bg-red-900/30 border border-red-700 p-4 rounded-md",children:[P.jsx("p",{className:"text-sm text-red-300 font-medium mb-2",children:"Warning: This is a recurring todo"}),P.jsx("p",{className:"text-sm text-gray-300 mb-4",children:"Deleting this todo will permanently remove all occurrences from your schedule. This action cannot be reversed."})]})]}),P.jsxs("div",{className:"mt-5 sm:mt-6 sm:flex sm:flex-row-reverse gap-2",children:["                  ",P.jsx("button",{type:"button",className:"inline-flex w-full justify-center rounded-md bg-red-600 px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-red-500 sm:ml-3 sm:w-auto",onClick:()=>l(),children:i?"Delete All Occurrences":"Delete"}),P.jsx("button",{type:"button",className:"mt-3 inline-flex w-full justify-center rounded-md bg-gray-700 px-3 py-2 text-sm font-semibold text-white shadow-sm ring-1 ring-inset ring-gray-500 hover:bg-gray-600 sm:mt-0 sm:w-auto",onClick:e,children:"Cancel                  "})]})]})})]})})]})]})}function Hw({selectedDate:n,onDateChange:e}){const t=new Date,i=new Date(t.getFullYear(),t.getMonth()+3,0),a=()=>{const p=new Date(n);p.setDate(p.getDate()-1),e(p)},l=()=>{const p=new Date(n);p.setDate(p.getDate()+1),p<=i&&e(p)},c=()=>{e(new Date)},h=p=>p.getDate()===t.getDate()&&p.getMonth()===t.getMonth()&&p.getFullYear()===t.getFullYear(),m=()=>n.getTime()>=i.getTime();return P.jsxs("div",{className:"flex items-center justify-between mb-4",children:[P.jsx("button",{onClick:a,className:"p-2 text-gray-400 hover:text-blue-400 focus:outline-none focus:ring-2 focus:ring-blue-300 rounded-full","aria-label":"Previous day",children:P.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:P.jsx("path",{fillRule:"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z",clipRule:"evenodd"})})}),P.jsxs("div",{className:"flex flex-col items-center",children:[P.jsx("h3",{className:`text-sm font-medium ${h(n)?"text-blue-400":"text-gray-400"}`,children:n.toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})}),!h(n)&&P.jsx("button",{onClick:c,className:"text-xs text-blue-400 hover:text-blue-300 mt-1 focus:outline-none",children:"Go to Today"})]}),"      ",P.jsxs("div",{className:"relative group",children:[P.jsx("button",{onClick:l,className:`p-2 ${m()?"text-gray-600 cursor-not-allowed":"text-gray-400 hover:text-blue-400"} focus:outline-none focus:ring-2 focus:ring-blue-300 rounded-full`,"aria-label":"Next day",disabled:m(),children:P.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:P.jsx("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})})}),m()&&P.jsx("div",{className:"absolute right-0 bottom-full mb-2 hidden group-hover:block bg-gray-800 text-xs text-white p-1 rounded shadow-lg whitespace-nowrap",children:"Cannot navigate beyond 3 months from today"})]})]})}function vV({title:n,titleId:e,...t},i){return A.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},t),n?A.createElement("title",{id:e},n):null,A.createElement("path",{fillRule:"evenodd",d:"M10.5 6a1.5 1.5 0 1 1 3 0 1.5 1.5 0 0 1-3 0Zm0 6a1.5 1.5 0 1 1 3 0 1.5 1.5 0 0 1-3 0Zm0 6a1.5 1.5 0 1 1 3 0 1.5 1.5 0 0 1-3 0Z",clipRule:"evenodd"}))}const _V=A.forwardRef(vV),Cy=async(n,e,t)=>{try{const i=Rl(_r,`users/${n}/instances`);let a;t?a=bc(i,sc("date",">=",e),sc("date","<=",t),uy("date","asc")):a=bc(i,sc("date","==",e),uy("date","asc"));const l=await jd(a),c=[];return l.forEach(h=>{const m=h.data();c.push({id:h.id,name:m.name,date:m.date,completed:m.completed,isRecurring:m.isRecurring||!1,recurrenceId:m.recurrenceId||null,createdAt:m.createdAt})}),c}catch(i){throw console.error("Error fetching todos: ",i),i}},bV=async(n,e,t)=>{try{const i=Pc(_r,`users/${n}/instances/${e}`);await Bk(i,{completed:t}),console.log(`Todo ${e} updated, completed: ${t}`)}catch(i){throw console.error("Error updating todo: ",i),i}},EV=async(n,e)=>{try{const t=Pc(_r,`users/${n}/instances/${e}`);await $k(t),console.log("Todo instance deleted:",e)}catch(t){throw console.error("Error deleting todo instance:",t),t}},TV=async(n,e,t=!1)=>{try{const i=qk(_r),a=Pc(_r,`users/${n}/recurrences/${e}`);if(i.delete(a),t){const l=Rl(_r,`users/${n}/instances`),c=bc(l,sc("recurrenceId","==",e)),h=await jd(c);console.log(`Found ${h.size} instances to delete`),h.docs.forEach(m=>{i.delete(m.ref)})}await i.commit(),console.log("Recurring todo pattern and instances deleted successfully from recurrences collection")}catch(i){throw console.error("Error deleting recurring todo:",i),i}};function wV({selectedDate:n,setSelectedDate:e}){const[t,i]=A.useState(!1),[a,l]=A.useState(!1),[c,h]=A.useState(null),[m,p]=A.useState([]),[y,_]=A.useState(!0),[b,w]=A.useState(null),{currentUser:R}=Il(),C=K=>K.toISOString().split("T")[0];A.useEffect(()=>{if(!R||t)return;(async()=>{try{_(!0),w(null);const ee=new Date(n);ee.setHours(0,0,0,0),await YR(R.uid,ee);const N=C(n),x=await Cy(R.uid,N);p(x)}catch(ee){console.error("Error loading todos:",ee),w("Failed to load your todos. Please try again later.")}finally{_(!1)}})()},[R,t,n]);const D=()=>{i(!0)},B=async(K,ee)=>{if(!(!R||!K))try{p(N=>N.map(x=>x.id===K?{...x,completed:!ee}:x)),await bV(R.uid,K,!ee)}catch(N){console.error("Error toggling todo completion:",N),p(x=>x.map(O=>O.id===K?{...O,completed:ee}:O))}},F=K=>{h(K),l(!0)},q=K=>{console.log("Editing todo:",K.name)},H=async()=>{if(!(!R||!c||!c.id))try{c.isRecurring&&c.recurrenceId?await TV(R.uid,c.recurrenceId,!0):await EV(R.uid,c.id);const K=C(n),ee=await Cy(R.uid,K);p(ee)}catch(K){console.error("Error deleting todo:",K),w("Failed to delete the todo. Please try again.")}};return P.jsxs("div",{className:"p-4 relative h-full flex flex-col",children:[P.jsxs("div",{className:"flex-1",children:[P.jsx("h2",{className:"text-xl font-bold mb-4",children:"Todo List"}),y?P.jsx("div",{className:"flex justify-center items-center py-8",children:P.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-blue-500"})}):b?P.jsx("div",{className:"bg-red-900/30 border border-red-700 text-red-400 rounded-md p-3 text-sm",children:b}):m.length===0?P.jsxs("div",{children:[P.jsx(Hw,{selectedDate:n,onDateChange:e}),P.jsx("div",{className:"text-center py-8 text-gray-400",children:P.jsxs("p",{children:["No todos for ",n.toLocaleDateString(),". Add a new todo!"]})})]}):P.jsxs("div",{className:"space-y-6",children:[P.jsx(Hw,{selectedDate:n,onDateChange:e}),P.jsx("ul",{className:"space-y-2",children:m.map(K=>P.jsxs("li",{className:"bg-gray-700 rounded-md p-3 flex items-center shadow-sm cursor-pointer hover:bg-gray-600 transition-colors",onClick:()=>B(K.id,K.completed),children:[P.jsx("input",{type:"checkbox",checked:K.completed,onChange:ee=>{ee.stopPropagation(),B(K.id,K.completed)},className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-500 rounded mr-3"}),P.jsx("div",{className:"flex-1",children:P.jsx("span",{className:`${K.completed?"line-through text-gray-400":"text-white"}`,children:K.name})}),P.jsxs($u,{as:"div",className:"relative ml-3",children:[P.jsxs($u.Button,{className:"flex items-center rounded-full p-1 text-gray-400 hover:text-white hover:bg-gray-600",onClick:ee=>ee.stopPropagation(),children:[P.jsx("span",{className:"sr-only",children:"Open options"}),P.jsx(_V,{className:"h-5 w-5","aria-hidden":"true"})]}),P.jsx(Zd,{enter:"transition ease-out duration-100",enterFrom:"transform opacity-0 scale-95",enterTo:"transform opacity-100 scale-100",leave:"transition ease-in duration-75",leaveFrom:"transform opacity-100 scale-100",leaveTo:"transform opacity-0 scale-95",children:P.jsxs($u.Items,{className:"absolute right-0 z-10 mt-2 w-32 origin-top-right rounded-md bg-gray-800 py-1 shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none",children:[P.jsx($u.Item,{children:({active:ee})=>P.jsx("button",{onClick:N=>{N.stopPropagation(),q(K)},className:`${ee?"bg-gray-700":""} flex w-full px-4 py-2 text-sm text-white`,children:"Edit"})}),P.jsx($u.Item,{children:({active:ee})=>P.jsx("button",{onClick:N=>{N.stopPropagation(),F(K)},className:`${ee?"bg-gray-700":""} flex w-full px-4 py-2 text-sm text-red-400`,children:"Delete"})}),"                      "]})})]})]},K.id))})]})]}),P.jsx("div",{className:"flex justify-center py-4",children:P.jsx("button",{onClick:D,className:"w-12 h-12 bg-blue-500 rounded-full flex items-center justify-center text-white shadow-lg hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-400 transition-colors","aria-label":"Add new todo",children:P.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",className:"w-6 h-6",children:P.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})})})}),"      ",P.jsx(gV,{isOpen:t,onClose:()=>i(!1),selectedDate:n}),c&&P.jsx(yV,{isOpen:a,onClose:()=>l(!1),todoName:c.name,isRecurring:c.isRecurring||!1,onDeleteConfirm:H})]})}const SV=({completed:n,total:e})=>{const[t,i]=A.useState(0);if(e===0)return null;const a=n/e*100;A.useEffect(()=>{const c=setTimeout(()=>{i(a)},50);return()=>clearTimeout(c)},[a]);const l=()=>n===0?{backgroundColor:n===e?"#4b5563":"#ef4444"}:n===e?{backgroundColor:"#22c55e"}:{backgroundImage:`
          linear-gradient(${t*3.6}deg, 
            #22c55e 50%, 
            transparent 50%),
          linear-gradient(0deg, 
            #22c55e 50%, 
            ${n===e?"#4b5563":"#ef4444"} 50%)
        `};return P.jsxs("div",{className:"relative w-6 h-6",children:[P.jsx("div",{className:"w-full h-full rounded-full shadow-sm transition-all duration-500",style:l()}),P.jsx("div",{className:"absolute inset-0 flex items-center justify-center text-[8px] text-white font-bold"})]})};function AV({day:n,isCurrentMonth:e=!0,completedTodos:t=0,totalTodos:i=0,onClick:a,isCurrentDay:l=!1,date:c}){return i>0?console.log(`[DayCell] Day ${n} has ${t}/${i} todos`):console.log(`[DayCell] Day ${n} has no todos`),P.jsxs("div",{className:`
            h-full w-full border 
            p-2 flex flex-col cursor-pointer 
            ${e?"bg-gray-800":"bg-gray-900 text-gray-500"}
            ${l?"border-blue-500 border-2":"border-gray-700 hover:bg-gray-700"}
            transition-colors duration-200 hover:shadow-md
        `,onClick:a,children:[P.jsx("div",{className:"text-lg font-medium",children:n}),i>0&&P.jsx("div",{className:"mt-1 p-1 text-xs bg-gray-700 rounded-md inline-block",children:P.jsxs("span",{className:`${t===i&&i>0?"text-green-400":t>0?"text-blue-400":"text-gray-400"}`,children:[t,"/",i]})}),"      ",i>0&&c&&P.jsx("div",{className:"mt-2 flex justify-center",children:new Date>=c&&P.jsx(SV,{completed:t,total:i})}),P.jsx("div",{className:"flex-grow"})]})}const Mg=n=>{const e=n.getFullYear(),t=String(n.getMonth()+1).padStart(2,"0"),i=String(n.getDate()).padStart(2,"0");return`${e}-${t}-${i}`},RV=(n,e)=>{const i=new Date(n,e,1).getDay(),l=new Date(n,e+1,0).getDate(),c=[];if(i>0){const y=e===0?11:e-1,_=e===0?n-1:n,b=new Date(_,y+1,0).getDate();for(let w=i-1;w>=0;w--)c.push({day:b-w,month:y,year:_,isCurrentMonth:!1})}const h=[];for(let y=1;y<=l;y++)h.push({day:y,month:e,year:n,isCurrentMonth:!0});const m=Math.max(0,35-(c.length+l)),p=[];if(m>0){const y=e===11?0:e+1,_=e===11?n+1:n;for(let b=1;b<=m;b++)p.push({day:b,month:y,year:_,isCurrentMonth:!1})}return[...c,...h,...p].slice(0,35)},IV=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];function xV({date:n=new Date,onDateChange:e,onDayClick:t}){const{currentUser:i}=Il(),[a,l]=A.useState(n),[c,h]=A.useState({}),[m,p]=A.useState(!1),y=A.useRef(!0),_=A.useRef(new Date),b=a.getMonth(),w=a.getFullYear(),R=RV(w,b),C=new Intl.DateTimeFormat("en-US",{month:"long"}).format(a);A.useEffect(()=>{if(!i)return;if(y.current){y.current=!1,console.log("Skipping initial duplicate call");return}(async()=>{try{p(!0);const q=new Date(w,b,1),H=new Date(w,b+1,0);await YR(i.uid,q,H);const K=Mg(q),ee=Mg(H),N=await Cy(i.uid,K,ee),x={};N.forEach(O=>{x[O.date]||(x[O.date]={total:0,completed:0}),x[O.date].total++,O.completed&&x[O.date].completed++}),console.log("[MonthGrid] Stats calculated:",x),h(x)}catch(q){console.error("Error loading monthly todos:",q)}finally{p(!1)}})(),console.log("Fetching todos for month:",b,"year:",w)},[i,b,w]);const D=()=>{const F=new Date(w,b-1,1);l(F),e&&e(F)},B=()=>{const F=_.current,q=new Date(F.getFullYear(),F.getMonth()+3,1),H=new Date(w,b+1,1);H<=q?(l(H),e&&e(H)):console.log("Cannot navigate more than 3 months into the future")};return P.jsxs("div",{className:"flex flex-col h-full text-white bg-gray-900",children:["      ","      ",P.jsxs("div",{className:"flex justify-between items-center mb-4",children:[P.jsx("button",{onClick:D,className:"p-2 text-gray-400 hover:text-blue-400 focus:outline-none focus:ring-2 focus:ring-blue-300 rounded-full","aria-label":"Previous month",children:P.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:P.jsx("path",{fillRule:"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z",clipRule:"evenodd"})})}),P.jsxs("h2",{className:"text-xl font-bold",children:[C," ",w]}),P.jsxs("div",{className:"relative group",children:[P.jsx("button",{onClick:B,className:`p-2 ${new Date(w,b+1,1)<=new Date(_.current.getFullYear(),_.current.getMonth()+3,1)?"text-gray-400 hover:text-blue-400":"text-gray-600 cursor-not-allowed"} focus:outline-none focus:ring-2 focus:ring-blue-300 rounded-full`,"aria-label":"Next month",disabled:new Date(w,b+1,1)>new Date(_.current.getFullYear(),_.current.getMonth()+3,1),children:P.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:P.jsx("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})})}),new Date(w,b+1,1)>new Date(_.current.getFullYear(),_.current.getMonth()+3,1)&&P.jsx("div",{className:"absolute right-0 bottom-full mb-2 hidden group-hover:block bg-gray-800 text-xs text-white p-1 rounded shadow-lg whitespace-nowrap",children:"Cannot navigate beyond 3 months from today"})]})]}),P.jsx("div",{className:"grid grid-cols-7 gap-1 mb-1",children:IV.map(F=>P.jsx("div",{className:"py-2 text-center font-semibold text-gray-300",children:F},F))}),"      ",P.jsx("div",{className:"grid grid-cols-7 grid-rows-5 gap-1 flex-grow transition-all duration-200",style:{height:"calc(100% - 80px)"},children:R.map((F,q)=>{const H=Mg(new Date(F.year,F.month,F.day)),K=c[H]||{total:0,completed:0},ee=new Date,N=F.day===ee.getDate()&&F.month===ee.getMonth()&&F.year===ee.getFullYear(),x=()=>{const O=new Date(F.year,F.month,F.day);l(O),e&&e(O),t&&t(O)};return P.jsx("div",{className:"h-full relative",children:P.jsx(AV,{day:F.day,isCurrentMonth:F.isCurrentMonth,completedTodos:K.completed,totalTodos:K.total,onClick:x,isCurrentDay:N,date:new Date(F.year,F.month,F.day)})},`${F.month}-${F.day}-${q}`)})}),m&&P.jsx("div",{className:"absolute inset-0 bg-gray-900 bg-opacity-70 flex items-center justify-center z-10",children:P.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-blue-500"})})]})}function CV({selectedDate:n,setSelectedDate:e,switchToTodoTab:t}){const i=a=>{e(a)};return P.jsxs("div",{className:"p-4 flex flex-col h-full bg-gray-900 transition-all duration-300",children:[P.jsx("h2",{className:"text-xl font-bold mb-4 text-white",children:"Monthly View"}),P.jsx("div",{className:"flex-grow flex flex-col",children:P.jsx(xV,{date:n,onDateChange:i,onDayClick:t})})]})}const DV="1.0.0";function OV(){const{currentUser:n,logout:e}=Il();async function t(){try{await e()}catch(i){console.error("Failed to log out",i)}}return P.jsxs("div",{className:"p-4",children:[P.jsx("h2",{className:"text-xl font-bold mb-4",children:"Profile"}),P.jsxs("div",{className:"bg-gray-100 p-4 rounded-lg dark:bg-gray-800",children:[P.jsxs("div",{className:"mb-4",children:[P.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Email"}),P.jsx("p",{className:"font-medium",children:n==null?void 0:n.email})]}),P.jsx("div",{className:"mt-6",children:P.jsx("button",{onClick:t,className:"w-full py-2 px-4 bg-red-600 text-white rounded hover:bg-red-700 transition-colors",children:"Logout"})}),"      "]}),P.jsx("div",{className:"mt-6",children:P.jsxs("p",{className:"text-center text-gray-500 text-sm",children:["Version ",DV]})})]})}const NV=({children:n})=>{const[e,t]=A.useState(!1),[i,a]=A.useState({});return A.useEffect(()=>{const l=window.navigator.userAgent.toLowerCase(),c=/iphone|ipad|ipod|mac/.test(l);if(t(c),c){a({paddingTop:"env(safe-area-inset-top)",paddingBottom:"env(safe-area-inset-bottom)",paddingLeft:"env(safe-area-inset-left)",paddingRight:"env(safe-area-inset-right)"});const m=document.createElement("meta");m.name="viewport",m.content="width=device-width, initial-scale=1.0, viewport-fit=cover",document.head.appendChild(m),document.body.classList.add("ios-device")}},[]),P.jsx("div",{className:`ios-container ${e?"ios-device":""}`,style:i,children:n})};function MV(){const[n,e]=A.useState(null),[t,i]=A.useState(!1);return A.useEffect(()=>{const l=window.matchMedia("(display-mode: standalone)").matches;i(l);const c=h=>{h.preventDefault(),e(h)};return window.addEventListener("beforeinstallprompt",c),window.addEventListener("appinstalled",()=>{i(!0),e(null)}),()=>{window.removeEventListener("beforeinstallprompt",c)}},[]),{installPrompt:n,isAppInstalled:t,showInstallPrompt:()=>{n&&(n.prompt(),n.userChoice.then(l=>{e(null),l.outcome==="accepted"?console.log("User accepted the install prompt"):console.log("User dismissed the install prompt")}))}}}const kV=()=>{const{installPrompt:n,isAppInstalled:e,showInstallPrompt:t}=MV();return e||!n?null:P.jsx("div",{className:"fixed bottom-16 left-0 right-0 mx-4 mb-4 rounded-lg bg-blue-500 p-4 shadow-lg z-50",children:P.jsxs("div",{className:"flex items-center justify-between",children:[P.jsxs("div",{className:"flex items-center",children:[P.jsx("div",{className:"mr-4 rounded-full bg-white p-2",children:P.jsxs("svg",{className:"h-6 w-6 text-blue-500",fill:"currentColor",viewBox:"0 0 20 20",children:[P.jsx("path",{d:"M10 2a8 8 0 100 16 8 8 0 000-16zm0 14a6 6 0 110-12 6 6 0 010 12z"}),P.jsx("path",{d:"M10 6a1 1 0 011 1v3.586l2.707 2.707a1 1 0 11-1.414 1.414l-3-3A1 1 0 019 11V7a1 1 0 011-1z"})]})}),P.jsxs("div",{className:"text-sm text-white",children:[P.jsx("p",{className:"font-semibold",children:"Install Todo Simple"}),P.jsx("p",{className:"text-xs",children:"Add to your home screen for a better experience"})]})]}),P.jsxs("div",{className:"flex",children:[P.jsx("button",{onClick:t,className:"rounded bg-white px-3 py-1 text-sm font-semibold text-blue-500",children:"Install"}),P.jsx("button",{onClick:()=>{const i=document.querySelector(".install-prompt");i&&i.classList.add("hidden")},className:"ml-2 text-white",children:P.jsx("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:P.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]})})};function PV(){const[n,e]=A.useState("todo"),[t,i]=A.useState(new Date),[a,l]=A.useState(!1);A.useEffect(()=>{if(!window.matchMedia("(display-mode: standalone)").matches){const m=setTimeout(()=>{l(!0)},3e3);return()=>clearTimeout(m)}},[]);const c=h=>{i(h),e("todo")};return P.jsx(NV,{children:P.jsxs("div",{className:"flex flex-col h-screen",children:[P.jsxs("div",{className:"flex-1 overflow-auto bg-gray-900",children:[n==="todo"&&P.jsx(wV,{selectedDate:t,setSelectedDate:i}),n==="monthly"&&P.jsx(CV,{selectedDate:t,setSelectedDate:i,switchToTodoTab:c}),n==="profile"&&P.jsx(OV,{})]}),a&&P.jsx(kV,{}),P.jsxs("div",{className:"flex border-t",style:{boxShadow:"0 -2px 10px rgba(0, 0, 0, 0.1)"},children:[P.jsx("button",{className:`flex-1 py-4 text-center ${n==="todo"?"text-blue-500 border-t-2 border-blue-500":"text-gray-500"}`,onClick:()=>e("todo"),children:"Todo"}),P.jsx("button",{className:`flex-1 py-4 text-center ${n==="monthly"?"text-blue-500 border-t-2 border-blue-500":"text-gray-500"}`,onClick:()=>e("monthly"),children:"Monthly"}),P.jsx("button",{className:`flex-1 py-4 text-center ${n==="profile"?"text-blue-500 border-t-2 border-blue-500":"text-gray-500"}`,onClick:()=>e("profile"),children:"Profile"})]})]})})}function LV(){const{currentUser:n,loading:e}=Il();return e?P.jsx("div",{className:"flex justify-center items-center min-h-screen bg-gray-900",children:P.jsx("div",{className:"text-blue-400 text-xl font-medium",children:"Loading..."})}):n?P.jsx(PV,{}):P.jsx(Kk,{})}function VV(){return P.jsx(Gk,{children:P.jsx(LV,{})})}const Qv=()=>{document.documentElement.style.setProperty("--app-height",`${window.innerHeight}px`)};"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/todo-simple/sw.js").then(n=>{console.log("SW registered: ",n)}).catch(n=>{console.log("SW registration failed: ",n)})});window.addEventListener("resize",Qv);window.addEventListener("orientationchange",Qv);Qv();Ix.createRoot(document.getElementById("root")).render(P.jsx(A.StrictMode,{children:P.jsx(VV,{})}));
